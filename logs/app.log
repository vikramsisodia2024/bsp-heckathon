2024-07-23 13:59:06 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2024-07-23 13:59:06 INFO  com.bsp.demo.DemoApplication - Starting DemoApplication using Java 21.0.3 with PID 21517 (/Users/ces/Downloads/demo/build/classes/java/main started by ces in /Users/ces/Downloads/demo)
2024-07-23 13:59:06 DEBUG com.bsp.demo.DemoApplication - Running with Spring Boot v3.4.0-SNAPSHOT, Spring v6.2.0-M6
2024-07-23 13:59:06 INFO  com.bsp.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2024-07-23 13:59:07 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-07-23 13:59:07 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-07-23 13:59:07 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-07-23 13:59:07 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-07-23 13:59:07 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-07-23 13:59:07 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 365 ms
2024-07-23 13:59:07 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-07-23 13:59:07 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2024-07-23 13:59:07 INFO  com.bsp.demo.DemoApplication - Started DemoApplication in 0.72 seconds (process running for 0.886)
2024-07-23 13:59:18 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-07-23 13:59:18 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-07-23 13:59:18 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2024-07-23 14:01:06 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2024-07-23 14:01:06 INFO  com.bsp.demo.DemoApplication - Starting DemoApplication using Java 21.0.3 with PID 21667 (/Users/ces/Downloads/demo/build/classes/java/main started by ces in /Users/ces/Downloads/demo)
2024-07-23 14:01:06 DEBUG com.bsp.demo.DemoApplication - Running with Spring Boot v3.4.0-SNAPSHOT, Spring v6.2.0-M6
2024-07-23 14:01:06 INFO  com.bsp.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2024-07-23 14:01:06 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-07-23 14:01:06 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-07-23 14:01:06 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-07-23 14:01:06 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-07-23 14:01:06 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-07-23 14:01:06 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 348 ms
2024-07-23 14:01:06 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-07-23 14:01:06 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2024-07-23 14:01:06 INFO  com.bsp.demo.DemoApplication - Started DemoApplication in 0.688 seconds (process running for 0.836)
2024-07-23 14:01:28 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-07-23 14:01:28 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-07-23 14:01:28 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2024-07-23 14:01:43 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2024-07-23 14:01:43 INFO  com.bsp.demo.DemoApplication - Starting DemoApplication using Java 21.0.3 with PID 21706 (/Users/ces/Downloads/demo/build/classes/java/main started by ces in /Users/ces/Downloads/demo)
2024-07-23 14:01:43 DEBUG com.bsp.demo.DemoApplication - Running with Spring Boot v3.4.0-SNAPSHOT, Spring v6.2.0-M6
2024-07-23 14:01:43 INFO  com.bsp.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2024-07-23 14:01:43 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-07-23 14:01:43 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-07-23 14:01:43 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-07-23 14:01:43 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-07-23 14:01:43 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-07-23 14:01:43 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 519 ms
2024-07-23 14:01:44 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-07-23 14:01:44 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2024-07-23 14:01:44 INFO  com.bsp.demo.DemoApplication - Started DemoApplication in 0.967 seconds (process running for 1.256)
2024-07-23 14:13:13 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2024-07-23 14:13:13 INFO  com.bsp.demo.DemoApplication - Starting DemoApplication using Java 21.0.3 with PID 22647 (/Users/ces/Downloads/demo/build/classes/java/main started by ces in /Users/ces/Downloads/demo)
2024-07-23 14:13:13 DEBUG com.bsp.demo.DemoApplication - Running with Spring Boot v3.4.0-SNAPSHOT, Spring v6.2.0-M6
2024-07-23 14:13:13 INFO  com.bsp.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2024-07-23 14:13:13 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-07-23 14:13:13 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-07-23 14:13:13 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-07-23 14:13:13 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-07-23 14:13:13 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-07-23 14:13:13 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 495 ms
2024-07-23 14:13:13 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-07-23 14:13:13 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2024-07-23 14:13:13 INFO  com.bsp.demo.DemoApplication - Started DemoApplication in 0.896 seconds (process running for 1.058)
2024-07-23 15:04:35 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2024-07-23 15:04:35 INFO  com.bsp.demo.DemoApplication - Starting DemoApplication using Java 21.0.3 with PID 28091 (/Users/ces/Downloads/demo/build/classes/java/main started by ces in /Users/ces/Downloads/demo)
2024-07-23 15:04:35 DEBUG com.bsp.demo.DemoApplication - Running with Spring Boot v3.4.0-SNAPSHOT, Spring v6.2.0-M6
2024-07-23 15:04:35 INFO  com.bsp.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2024-07-23 15:04:35 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-07-23 15:04:35 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-07-23 15:04:35 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-07-23 15:04:35 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-07-23 15:04:35 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-07-23 15:04:35 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 373 ms
2024-07-23 15:04:35 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-07-23 15:04:35 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2024-07-23 15:04:35 INFO  com.bsp.demo.DemoApplication - Started DemoApplication in 0.736 seconds (process running for 0.887)
2024-07-23 16:00:46 INFO  com.bsp.demo.DemoApplication - Starting DemoApplication using Java 21.0.3 with PID 33188 (/Users/ces/Downloads/demo/build/classes/java/main started by ces in /Users/ces/Downloads/demo)
2024-07-23 16:00:46 DEBUG com.bsp.demo.DemoApplication - Running with Spring Boot v3.4.0-SNAPSHOT, Spring v6.2.0-M6
2024-07-23 16:00:46 INFO  com.bsp.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2024-07-23 16:00:47 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-07-23 16:00:47 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-07-23 16:00:47 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-07-23 16:00:47 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-07-23 16:00:47 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-07-23 16:00:47 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 423 ms
2024-07-23 16:00:47 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-07-23 16:00:47 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2024-07-23 16:00:47 INFO  com.bsp.demo.DemoApplication - Started DemoApplication in 0.852 seconds (process running for 1.003)
2024-07-23 16:00:59 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-07-23 16:00:59 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-07-23 16:00:59 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2024-07-23 16:01:40 INFO  com.bsp.demo.DemoApplication - Starting DemoApplication using Java 21.0.3 with PID 33268 (/Users/ces/Downloads/demo/build/classes/java/main started by ces in /Users/ces/Downloads/demo)
2024-07-23 16:01:40 DEBUG com.bsp.demo.DemoApplication - Running with Spring Boot v3.4.0-SNAPSHOT, Spring v6.2.0-M6
2024-07-23 16:01:40 INFO  com.bsp.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2024-07-23 16:01:40 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-07-23 16:01:40 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-07-23 16:01:40 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-07-23 16:01:40 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-07-23 16:01:40 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-07-23 16:01:40 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 412 ms
2024-07-23 16:01:40 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-07-23 16:01:40 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2024-07-23 16:01:40 INFO  com.bsp.demo.DemoApplication - Started DemoApplication in 0.884 seconds (process running for 1.169)
2024-07-23 16:01:43 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-07-23 16:01:43 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-07-23 16:01:43 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2024-07-23 16:02:18 WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.HttpMediaTypeNotSupportedException: Content-Type 'application/ecmascript' is not supported]
2024-07-23 16:02:46 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.web.client.ResourceAccessException: I/O error on GET request for "http://api.example.com/resources/beneficiaries": api.example.com] with root cause
java.net.UnknownHostException: api.example.com
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:567)
	at java.base/java.net.Socket.connect(Socket.java:751)
	at java.base/java.net.Socket.connect(Socket.java:686)
	at java.base/sun.net.NetworkClient.doConnect(NetworkClient.java:183)
	at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:531)
	at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:636)
	at java.base/sun.net.www.http.HttpClient.<init>(HttpClient.java:280)
	at java.base/sun.net.www.http.HttpClient.New(HttpClient.java:386)
	at java.base/sun.net.www.http.HttpClient.New(HttpClient.java:408)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(HttpURLConnection.java:1304)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1237)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1123)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.connect(HttpURLConnection.java:1052)
	at org.springframework.http.client.SimpleClientHttpRequest.executeInternal(SimpleClientHttpRequest.java:79)
	at org.springframework.http.client.AbstractStreamingClientHttpRequest.executeInternal(AbstractStreamingClientHttpRequest.java:71)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:81)
	at org.springframework.http.client.BufferingClientHttpRequestWrapper.executeInternal(BufferingClientHttpRequestWrapper.java:77)
	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:81)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:900)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:751)
	at com.bsp.account.invoker.ApiClient.invokeAPI(ApiClient.java:659)
	at com.bsp.account.api.BeneficiariesApi.getBeneficiariesWithHttpInfo(BeneficiariesApi.java:211)
	at com.bsp.account.api.BeneficiariesApi.getBeneficiaries(BeneficiariesApi.java:153)
	at com.bsp.demo.service.CreditService.creditAssertive(CreditService.java:21)
	at com.bsp.demo.controller.CreditController.performCreditAssertivenessCheck(CreditController.java:21)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:950)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:855)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-07-23 16:06:38 INFO  com.bsp.demo.DemoApplication - Starting DemoApplication using Java 21.0.3 with PID 33650 (/Users/ces/Downloads/demo/build/classes/java/main started by ces in /Users/ces/Downloads/demo)
2024-07-23 16:06:38 DEBUG com.bsp.demo.DemoApplication - Running with Spring Boot v3.4.0-SNAPSHOT, Spring v6.2.0-M6
2024-07-23 16:06:38 INFO  com.bsp.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2024-07-23 16:06:38 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-07-23 16:06:38 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-07-23 16:06:38 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-07-23 16:06:38 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-07-23 16:06:38 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-07-23 16:06:38 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 428 ms
2024-07-23 16:07:03 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-07-23 16:07:03 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2024-07-23 16:07:03 INFO  com.bsp.demo.DemoApplication - Started DemoApplication in 25.615 seconds (process running for 25.808)
2024-07-23 16:07:30 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-07-23 16:07:30 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-07-23 16:07:30 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-07-23 16:08:24 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.web.client.ResourceAccessException: I/O error on GET request for "https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/beneficiaries": PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target] with root cause
sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target
	at java.base/sun.security.provider.certpath.SunCertPathBuilder.build(SunCertPathBuilder.java:148)
	at java.base/sun.security.provider.certpath.SunCertPathBuilder.engineBuild(SunCertPathBuilder.java:129)
	at java.base/java.security.cert.CertPathBuilder.build(CertPathBuilder.java:297)
	at java.base/sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:383)
	at java.base/sun.security.validator.PKIXValidator.engineValidate(PKIXValidator.java:271)
	at java.base/sun.security.validator.Validator.validate(Validator.java:256)
	at java.base/sun.security.ssl.X509TrustManagerImpl.checkTrusted(X509TrustManagerImpl.java:230)
	at java.base/sun.security.ssl.X509TrustManagerImpl.checkServerTrusted(X509TrustManagerImpl.java:132)
	at java.base/sun.security.ssl.CertificateMessage$T13CertificateConsumer.checkServerCerts(CertificateMessage.java:1302)
	at java.base/sun.security.ssl.CertificateMessage$T13CertificateConsumer.onConsumeCertificate(CertificateMessage.java:1195)
	at java.base/sun.security.ssl.CertificateMessage$T13CertificateConsumer.consume(CertificateMessage.java:1138)
	at java.base/sun.security.ssl.SSLHandshake.consume(SSLHandshake.java:393)
	at java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:476)
	at java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:447)
	at java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:201)
	at java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:172)
	at java.base/sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1506)
	at java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1421)
	at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:455)
	at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:426)
	at java.base/sun.net.www.protocol.https.HttpsClient.afterConnect(HttpsClient.java:586)
	at java.base/sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:187)
	at java.base/sun.net.www.protocol.https.HttpsURLConnectionImpl.connect(HttpsURLConnectionImpl.java:141)
	at org.springframework.http.client.SimpleClientHttpRequest.executeInternal(SimpleClientHttpRequest.java:79)
	at org.springframework.http.client.AbstractStreamingClientHttpRequest.executeInternal(AbstractStreamingClientHttpRequest.java:71)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:81)
	at org.springframework.http.client.BufferingClientHttpRequestWrapper.executeInternal(BufferingClientHttpRequestWrapper.java:77)
	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:81)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:900)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:751)
	at com.bsp.account.invoker.ApiClient.invokeAPI(ApiClient.java:659)
	at com.bsp.account.api.BeneficiariesApi.getBeneficiariesWithHttpInfo(BeneficiariesApi.java:211)
	at com.bsp.account.api.BeneficiariesApi.getBeneficiaries(BeneficiariesApi.java:153)
	at com.bsp.demo.service.CreditService.creditAssertive(CreditService.java:21)
	at com.bsp.demo.controller.CreditController.performCreditAssertivenessCheck(CreditController.java:21)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:950)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:855)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-07-23 16:18:48 INFO  com.bsp.demo.DemoApplication - Starting DemoApplication using Java 21.0.3 with PID 34710 (/Users/ces/Downloads/demo/build/classes/java/main started by ces in /Users/ces/Downloads/demo)
2024-07-23 16:18:48 DEBUG com.bsp.demo.DemoApplication - Running with Spring Boot v3.4.0-SNAPSHOT, Spring v6.2.0-M6
2024-07-23 16:18:48 INFO  com.bsp.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2024-07-23 16:18:49 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-07-23 16:18:49 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-07-23 16:18:49 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-07-23 16:18:49 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-07-23 16:18:49 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-07-23 16:18:49 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 481 ms
2024-07-23 16:18:49 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-07-23 16:18:49 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2024-07-23 16:18:49 INFO  com.bsp.demo.DemoApplication - Started DemoApplication in 1.14 seconds (process running for 1.313)
2024-07-23 16:20:57 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-07-23 16:20:57 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-07-23 16:20:57 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-07-23 16:21:03 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.web.client.ResourceAccessException: I/O error on GET request for "https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/beneficiaries": PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target] with root cause
sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target
	at java.base/sun.security.provider.certpath.SunCertPathBuilder.build(SunCertPathBuilder.java:148)
	at java.base/sun.security.provider.certpath.SunCertPathBuilder.engineBuild(SunCertPathBuilder.java:129)
	at java.base/java.security.cert.CertPathBuilder.build(CertPathBuilder.java:297)
	at java.base/sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:383)
	at java.base/sun.security.validator.PKIXValidator.engineValidate(PKIXValidator.java:271)
	at java.base/sun.security.validator.Validator.validate(Validator.java:256)
	at java.base/sun.security.ssl.X509TrustManagerImpl.checkTrusted(X509TrustManagerImpl.java:230)
	at java.base/sun.security.ssl.X509TrustManagerImpl.checkServerTrusted(X509TrustManagerImpl.java:132)
	at java.base/sun.security.ssl.CertificateMessage$T13CertificateConsumer.checkServerCerts(CertificateMessage.java:1302)
	at java.base/sun.security.ssl.CertificateMessage$T13CertificateConsumer.onConsumeCertificate(CertificateMessage.java:1195)
	at java.base/sun.security.ssl.CertificateMessage$T13CertificateConsumer.consume(CertificateMessage.java:1138)
	at java.base/sun.security.ssl.SSLHandshake.consume(SSLHandshake.java:393)
	at java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:476)
	at java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:447)
	at java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:201)
	at java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:172)
	at java.base/sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1506)
	at java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1421)
	at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:455)
	at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:426)
	at java.base/sun.net.www.protocol.https.HttpsClient.afterConnect(HttpsClient.java:586)
	at java.base/sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:187)
	at java.base/sun.net.www.protocol.https.HttpsURLConnectionImpl.connect(HttpsURLConnectionImpl.java:141)
	at org.springframework.http.client.SimpleClientHttpRequest.executeInternal(SimpleClientHttpRequest.java:79)
	at org.springframework.http.client.AbstractStreamingClientHttpRequest.executeInternal(AbstractStreamingClientHttpRequest.java:71)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:81)
	at org.springframework.http.client.BufferingClientHttpRequestWrapper.executeInternal(BufferingClientHttpRequestWrapper.java:77)
	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:81)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:900)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:751)
	at com.bsp.account.invoker.ApiClient.invokeAPI(ApiClient.java:659)
	at com.bsp.account.api.BeneficiariesApi.getBeneficiariesWithHttpInfo(BeneficiariesApi.java:211)
	at com.bsp.account.api.BeneficiariesApi.getBeneficiaries(BeneficiariesApi.java:153)
	at com.bsp.demo.service.CreditService.creditAssertive(CreditService.java:21)
	at com.bsp.demo.controller.CreditController.performCreditAssertivenessCheck(CreditController.java:21)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:950)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:855)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-07-23 16:31:37 INFO  com.bsp.demo.DemoApplication - Starting DemoApplication using Java 21.0.3 with PID 35576 (/Users/ces/Downloads/demo/build/classes/java/main started by ces in /Users/ces/Downloads/demo)
2024-07-23 16:31:37 DEBUG com.bsp.demo.DemoApplication - Running with Spring Boot v3.4.0-SNAPSHOT, Spring v6.2.0-M6
2024-07-23 16:31:37 INFO  com.bsp.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2024-07-23 16:31:37 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-07-23 16:31:37 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-07-23 16:31:37 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-07-23 16:31:37 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-07-23 16:31:37 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-07-23 16:31:37 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 680 ms
2024-07-23 16:31:38 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-07-23 16:31:38 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2024-07-23 16:31:38 INFO  com.bsp.demo.DemoApplication - Started DemoApplication in 1.589 seconds (process running for 1.814)
2024-07-23 16:31:46 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-07-23 16:31:46 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-07-23 16:31:46 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-07-23 16:32:12 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.web.client.ResourceAccessException: I/O error on GET request for "https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/beneficiaries": PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target] with root cause
sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target
	at java.base/sun.security.provider.certpath.SunCertPathBuilder.build(SunCertPathBuilder.java:148)
	at java.base/sun.security.provider.certpath.SunCertPathBuilder.engineBuild(SunCertPathBuilder.java:129)
	at java.base/java.security.cert.CertPathBuilder.build(CertPathBuilder.java:297)
	at java.base/sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:383)
	at java.base/sun.security.validator.PKIXValidator.engineValidate(PKIXValidator.java:271)
	at java.base/sun.security.validator.Validator.validate(Validator.java:256)
	at java.base/sun.security.ssl.X509TrustManagerImpl.checkTrusted(X509TrustManagerImpl.java:230)
	at java.base/sun.security.ssl.X509TrustManagerImpl.checkServerTrusted(X509TrustManagerImpl.java:132)
	at java.base/sun.security.ssl.CertificateMessage$T13CertificateConsumer.checkServerCerts(CertificateMessage.java:1302)
	at java.base/sun.security.ssl.CertificateMessage$T13CertificateConsumer.onConsumeCertificate(CertificateMessage.java:1195)
	at java.base/sun.security.ssl.CertificateMessage$T13CertificateConsumer.consume(CertificateMessage.java:1138)
	at java.base/sun.security.ssl.SSLHandshake.consume(SSLHandshake.java:393)
	at java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:476)
	at java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:447)
	at java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:201)
	at java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:172)
	at java.base/sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1506)
	at java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1421)
	at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:455)
	at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:426)
	at java.base/sun.net.www.protocol.https.HttpsClient.afterConnect(HttpsClient.java:586)
	at java.base/sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:187)
	at java.base/sun.net.www.protocol.https.HttpsURLConnectionImpl.connect(HttpsURLConnectionImpl.java:141)
	at org.springframework.http.client.SimpleClientHttpRequest.executeInternal(SimpleClientHttpRequest.java:79)
	at org.springframework.http.client.AbstractStreamingClientHttpRequest.executeInternal(AbstractStreamingClientHttpRequest.java:71)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:81)
	at org.springframework.http.client.BufferingClientHttpRequestWrapper.executeInternal(BufferingClientHttpRequestWrapper.java:77)
	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:81)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:900)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:751)
	at com.bsp.account.invoker.ApiClient.invokeAPI(ApiClient.java:659)
	at com.bsp.account.api.BeneficiariesApi.getBeneficiariesWithHttpInfo(BeneficiariesApi.java:211)
	at com.bsp.account.api.BeneficiariesApi.getBeneficiaries(BeneficiariesApi.java:153)
	at com.bsp.demo.service.CreditService.creditAssertive(CreditService.java:21)
	at com.bsp.demo.controller.CreditController.performCreditAssertivenessCheck(CreditController.java:21)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:950)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:855)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-07-23 16:41:44 INFO  com.bsp.demo.DemoApplication - Starting DemoApplication using Java 21.0.3 with PID 36738 (/Users/ces/Downloads/demo/build/classes/java/main started by ces in /Users/ces/Downloads/demo)
2024-07-23 16:41:44 DEBUG com.bsp.demo.DemoApplication - Running with Spring Boot v3.4.0-SNAPSHOT, Spring v6.2.0-M6
2024-07-23 16:41:44 INFO  com.bsp.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2024-07-23 16:41:44 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-07-23 16:41:44 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-07-23 16:41:44 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-07-23 16:41:44 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-07-23 16:41:44 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-07-23 16:41:44 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 414 ms
2024-07-23 16:41:45 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-07-23 16:41:45 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2024-07-23 16:41:45 INFO  com.bsp.demo.DemoApplication - Started DemoApplication in 0.96 seconds (process running for 1.123)
2024-07-23 16:41:53 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-07-23 16:41:53 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-07-23 16:41:53 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2024-07-23 16:42:37 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.web.client.ResourceAccessException: I/O error on GET request for "https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/beneficiaries": PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target] with root cause
sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target
	at java.base/sun.security.provider.certpath.SunCertPathBuilder.build(SunCertPathBuilder.java:148)
	at java.base/sun.security.provider.certpath.SunCertPathBuilder.engineBuild(SunCertPathBuilder.java:129)
	at java.base/java.security.cert.CertPathBuilder.build(CertPathBuilder.java:297)
	at java.base/sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:383)
	at java.base/sun.security.validator.PKIXValidator.engineValidate(PKIXValidator.java:271)
	at java.base/sun.security.validator.Validator.validate(Validator.java:256)
	at java.base/sun.security.ssl.X509TrustManagerImpl.checkTrusted(X509TrustManagerImpl.java:230)
	at java.base/sun.security.ssl.X509TrustManagerImpl.checkServerTrusted(X509TrustManagerImpl.java:132)
	at java.base/sun.security.ssl.CertificateMessage$T13CertificateConsumer.checkServerCerts(CertificateMessage.java:1302)
	at java.base/sun.security.ssl.CertificateMessage$T13CertificateConsumer.onConsumeCertificate(CertificateMessage.java:1195)
	at java.base/sun.security.ssl.CertificateMessage$T13CertificateConsumer.consume(CertificateMessage.java:1138)
	at java.base/sun.security.ssl.SSLHandshake.consume(SSLHandshake.java:393)
	at java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:476)
	at java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:447)
	at java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:201)
	at java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:172)
	at java.base/sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1506)
	at java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1421)
	at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:455)
	at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:426)
	at java.base/sun.net.www.protocol.https.HttpsClient.afterConnect(HttpsClient.java:586)
	at java.base/sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:187)
	at java.base/sun.net.www.protocol.https.HttpsURLConnectionImpl.connect(HttpsURLConnectionImpl.java:141)
	at org.springframework.http.client.SimpleClientHttpRequest.executeInternal(SimpleClientHttpRequest.java:79)
	at org.springframework.http.client.AbstractStreamingClientHttpRequest.executeInternal(AbstractStreamingClientHttpRequest.java:71)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:81)
	at org.springframework.http.client.BufferingClientHttpRequestWrapper.executeInternal(BufferingClientHttpRequestWrapper.java:77)
	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:81)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:900)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:751)
	at com.bsp.account.invoker.ApiClient.invokeAPI(ApiClient.java:659)
	at com.bsp.account.api.BeneficiariesApi.getBeneficiariesWithHttpInfo(BeneficiariesApi.java:211)
	at com.bsp.account.api.BeneficiariesApi.getBeneficiaries(BeneficiariesApi.java:153)
	at com.bsp.demo.service.CreditService.creditAssertive(CreditService.java:21)
	at com.bsp.demo.controller.CreditController.performCreditAssertivenessCheck(CreditController.java:21)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:950)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:855)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-07-23 16:45:58 INFO  com.bsp.demo.DemoApplication - Starting DemoApplication using Java 21.0.3 with PID 36971 (/Users/ces/Downloads/demo/build/classes/java/main started by ces in /Users/ces/Downloads/demo)
2024-07-23 16:45:58 DEBUG com.bsp.demo.DemoApplication - Running with Spring Boot v3.4.0-SNAPSHOT, Spring v6.2.0-M6
2024-07-23 16:45:58 INFO  com.bsp.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2024-07-23 16:45:58 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-07-23 16:45:58 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-07-23 16:45:58 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-07-23 16:45:58 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-07-23 16:45:58 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-07-23 16:45:58 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 383 ms
2024-07-23 16:45:58 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-07-23 16:45:58 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2024-07-23 16:45:58 INFO  com.bsp.demo.DemoApplication - Started DemoApplication in 0.898 seconds (process running for 1.063)
2024-07-23 16:46:02 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-07-23 16:46:02 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-07-23 16:46:02 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-07-23 16:46:07 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.web.client.HttpClientErrorException$BadRequest: 400 Bad Request on GET request for "https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/beneficiaries": "{"Code":"UK.OBIE.Header.Invalid","Message":"not_w3c_date: The header x-fapi-auth-date has an invalid value. Must match /^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), \\d{2} (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) \\d{4} \\d{2}:\\d{2}:\\d{2} (GMT|UTC)$/","Errors":[{"ErrorCode":"UK.OBIE.Header.Invalid","Message":"not_w3c_date: The header x-fapi-auth-date has an invalid value. Must match /^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), \\d{2} (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) \\d{4} \\d{2}:\\d{2}:\\d{2} (GMT|UTC)$/"}]}"] with root cause
org.springframework.web.client.HttpClientErrorException$BadRequest: 400 Bad Request on GET request for "https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/beneficiaries": "{"Code":"UK.OBIE.Header.Invalid","Message":"not_w3c_date: The header x-fapi-auth-date has an invalid value. Must match /^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), \\d{2} (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) \\d{4} \\d{2}:\\d{2}:\\d{2} (GMT|UTC)$/","Errors":[{"ErrorCode":"UK.OBIE.Header.Invalid","Message":"not_w3c_date: The header x-fapi-auth-date has an invalid value. Must match /^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), \\d{2} (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) \\d{4} \\d{2}:\\d{2}:\\d{2} (GMT|UTC)$/"}]}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:103)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:225)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:163)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:953)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:902)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:751)
	at com.bsp.account.invoker.ApiClient.invokeAPI(ApiClient.java:659)
	at com.bsp.account.api.BeneficiariesApi.getBeneficiariesWithHttpInfo(BeneficiariesApi.java:211)
	at com.bsp.account.api.BeneficiariesApi.getBeneficiaries(BeneficiariesApi.java:153)
	at com.bsp.demo.service.CreditService.creditAssertive(CreditService.java:21)
	at com.bsp.demo.controller.CreditController.performCreditAssertivenessCheck(CreditController.java:21)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:950)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:855)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-07-23 16:50:52 INFO  com.bsp.demo.DemoApplication - Starting DemoApplication using Java 21.0.3 with PID 37495 (/Users/ces/Downloads/demo/build/classes/java/main started by ces in /Users/ces/Downloads/demo)
2024-07-23 16:50:52 DEBUG com.bsp.demo.DemoApplication - Running with Spring Boot v3.4.0-SNAPSHOT, Spring v6.2.0-M6
2024-07-23 16:50:52 INFO  com.bsp.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2024-07-23 16:50:53 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-07-23 16:50:53 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-07-23 16:50:53 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-07-23 16:50:53 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-07-23 16:50:53 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-07-23 16:50:53 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 527 ms
2024-07-23 16:50:53 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-07-23 16:50:53 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2024-07-23 16:50:53 INFO  com.bsp.demo.DemoApplication - Started DemoApplication in 1.184 seconds (process running for 1.452)
2024-07-23 16:51:41 INFO  com.bsp.demo.DemoApplication - Starting DemoApplication using Java 21.0.3 with PID 37575 (/Users/ces/Downloads/demo/build/classes/java/main started by ces in /Users/ces/Downloads/demo)
2024-07-23 16:51:41 DEBUG com.bsp.demo.DemoApplication - Running with Spring Boot v3.4.0-SNAPSHOT, Spring v6.2.0-M6
2024-07-23 16:51:41 INFO  com.bsp.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2024-07-23 16:51:42 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-07-23 16:51:42 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-07-23 16:51:42 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-07-23 16:51:42 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-07-23 16:51:42 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-07-23 16:51:42 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 478 ms
2024-07-23 16:51:42 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-07-23 16:51:42 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2024-07-23 16:51:42 INFO  com.bsp.demo.DemoApplication - Started DemoApplication in 1.189 seconds (process running for 1.437)
2024-07-23 16:52:01 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-07-23 16:52:01 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-07-23 16:52:01 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-07-23 16:52:38 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.web.client.HttpClientErrorException$BadRequest: 400 Bad Request on GET request for "https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/beneficiaries": "{"Code":"UK.OBIE.Header.Invalid","Message":"not_w3c_date: The header x-fapi-auth-date has an invalid value. Must match /^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), \\d{2} (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) \\d{4} \\d{2}:\\d{2}:\\d{2} (GMT|UTC)$/","Errors":[{"ErrorCode":"UK.OBIE.Header.Invalid","Message":"not_w3c_date: The header x-fapi-auth-date has an invalid value. Must match /^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), \\d{2} (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) \\d{4} \\d{2}:\\d{2}:\\d{2} (GMT|UTC)$/"}]}"] with root cause
org.springframework.web.client.HttpClientErrorException$BadRequest: 400 Bad Request on GET request for "https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/beneficiaries": "{"Code":"UK.OBIE.Header.Invalid","Message":"not_w3c_date: The header x-fapi-auth-date has an invalid value. Must match /^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), \\d{2} (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) \\d{4} \\d{2}:\\d{2}:\\d{2} (GMT|UTC)$/","Errors":[{"ErrorCode":"UK.OBIE.Header.Invalid","Message":"not_w3c_date: The header x-fapi-auth-date has an invalid value. Must match /^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), \\d{2} (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) \\d{4} \\d{2}:\\d{2}:\\d{2} (GMT|UTC)$/"}]}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:103)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:225)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:163)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:953)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:902)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:751)
	at com.bsp.account.invoker.ApiClient.invokeAPI(ApiClient.java:659)
	at com.bsp.account.api.BeneficiariesApi.getBeneficiariesWithHttpInfo(BeneficiariesApi.java:211)
	at com.bsp.account.api.BeneficiariesApi.getBeneficiaries(BeneficiariesApi.java:153)
	at com.bsp.demo.service.CreditService.creditAssertive(CreditService.java:21)
	at com.bsp.demo.controller.CreditController.performCreditAssertivenessCheck(CreditController.java:21)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:950)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:855)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-07-23 16:54:05 INFO  com.bsp.demo.DemoApplication - Starting DemoApplication using Java 21.0.3 with PID 37727 (/Users/ces/Downloads/demo/build/classes/java/main started by ces in /Users/ces/Downloads/demo)
2024-07-23 16:54:05 DEBUG com.bsp.demo.DemoApplication - Running with Spring Boot v3.4.0-SNAPSHOT, Spring v6.2.0-M6
2024-07-23 16:54:05 INFO  com.bsp.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2024-07-23 16:54:06 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-07-23 16:54:06 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-07-23 16:54:06 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-07-23 16:54:06 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-07-23 16:54:06 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-07-23 16:54:06 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 418 ms
2024-07-23 16:54:06 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-07-23 16:54:06 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2024-07-23 16:54:06 INFO  com.bsp.demo.DemoApplication - Started DemoApplication in 0.969 seconds (process running for 1.138)
2024-07-23 16:54:11 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-07-23 16:54:11 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-07-23 16:54:11 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2024-07-23 16:54:14 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.web.client.HttpClientErrorException$BadRequest: 400 Bad Request on GET request for "https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/beneficiaries": "{"Code":"UK.OBIE.Header.Invalid","Message":"not_w3c_date: The header x-fapi-auth-date has an invalid value. Must match /^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), \\d{2} (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) \\d{4} \\d{2}:\\d{2}:\\d{2} (GMT|UTC)$/","Errors":[{"ErrorCode":"UK.OBIE.Header.Invalid","Message":"not_w3c_date: The header x-fapi-auth-date has an invalid value. Must match /^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), \\d{2} (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) \\d{4} \\d{2}:\\d{2}:\\d{2} (GMT|UTC)$/"}]}"] with root cause
org.springframework.web.client.HttpClientErrorException$BadRequest: 400 Bad Request on GET request for "https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/beneficiaries": "{"Code":"UK.OBIE.Header.Invalid","Message":"not_w3c_date: The header x-fapi-auth-date has an invalid value. Must match /^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), \\d{2} (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) \\d{4} \\d{2}:\\d{2}:\\d{2} (GMT|UTC)$/","Errors":[{"ErrorCode":"UK.OBIE.Header.Invalid","Message":"not_w3c_date: The header x-fapi-auth-date has an invalid value. Must match /^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), \\d{2} (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) \\d{4} \\d{2}:\\d{2}:\\d{2} (GMT|UTC)$/"}]}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:103)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:225)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:163)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:953)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:902)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:751)
	at com.bsp.account.invoker.ApiClient.invokeAPI(ApiClient.java:659)
	at com.bsp.account.api.BeneficiariesApi.getBeneficiariesWithHttpInfo(BeneficiariesApi.java:211)
	at com.bsp.account.api.BeneficiariesApi.getBeneficiaries(BeneficiariesApi.java:153)
	at com.bsp.demo.service.CreditService.creditAssertive(CreditService.java:21)
	at com.bsp.demo.controller.CreditController.performCreditAssertivenessCheck(CreditController.java:21)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:950)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:855)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-07-23 16:55:36 INFO  com.bsp.demo.DemoApplication - Starting DemoApplication using Java 21.0.3 with PID 37843 (/Users/ces/Downloads/demo/build/classes/java/main started by ces in /Users/ces/Downloads/demo)
2024-07-23 16:55:36 DEBUG com.bsp.demo.DemoApplication - Running with Spring Boot v3.4.0-SNAPSHOT, Spring v6.2.0-M6
2024-07-23 16:55:36 INFO  com.bsp.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2024-07-23 16:55:37 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-07-23 16:55:37 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-07-23 16:55:37 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-07-23 16:55:37 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-07-23 16:55:37 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-07-23 16:55:37 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 399 ms
2024-07-23 16:55:37 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-07-23 16:55:37 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2024-07-23 16:55:37 INFO  com.bsp.demo.DemoApplication - Started DemoApplication in 0.915 seconds (process running for 1.072)
2024-07-23 16:55:46 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-07-23 16:55:46 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-07-23 16:55:46 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-07-23 16:55:47 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.web.client.HttpClientErrorException$Forbidden: 403 Forbidden on GET request for "https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/beneficiaries": "{"Code":"UK.OBIE.Reauthenticate","Message":"UK.OBIE.Reauthenticate: Token has expired","Errors":[{"ErrorCode":"UK.OBIE.Reauthenticate","Message":"UK.OBIE.Reauthenticate: Re-authentication is required","Path":"Authorization"}]}"] with root cause
org.springframework.web.client.HttpClientErrorException$Forbidden: 403 Forbidden on GET request for "https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/beneficiaries": "{"Code":"UK.OBIE.Reauthenticate","Message":"UK.OBIE.Reauthenticate: Token has expired","Errors":[{"ErrorCode":"UK.OBIE.Reauthenticate","Message":"UK.OBIE.Reauthenticate: Re-authentication is required","Path":"Authorization"}]}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:109)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:225)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:163)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:953)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:902)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:751)
	at com.bsp.account.invoker.ApiClient.invokeAPI(ApiClient.java:659)
	at com.bsp.account.api.BeneficiariesApi.getBeneficiariesWithHttpInfo(BeneficiariesApi.java:211)
	at com.bsp.account.api.BeneficiariesApi.getBeneficiaries(BeneficiariesApi.java:153)
	at com.bsp.demo.service.CreditService.creditAssertive(CreditService.java:21)
	at com.bsp.demo.controller.CreditController.performCreditAssertivenessCheck(CreditController.java:21)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:950)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:855)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-07-23 16:57:33 INFO  com.bsp.demo.DemoApplication - Starting DemoApplication using Java 21.0.3 with PID 37990 (/Users/ces/Downloads/demo/build/classes/java/main started by ces in /Users/ces/Downloads/demo)
2024-07-23 16:57:33 DEBUG com.bsp.demo.DemoApplication - Running with Spring Boot v3.4.0-SNAPSHOT, Spring v6.2.0-M6
2024-07-23 16:57:33 INFO  com.bsp.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2024-07-23 16:57:33 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-07-23 16:57:33 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-07-23 16:57:33 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-07-23 16:57:33 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-07-23 16:57:33 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-07-23 16:57:33 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 403 ms
2024-07-23 16:57:33 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-07-23 16:57:33 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2024-07-23 16:57:33 INFO  com.bsp.demo.DemoApplication - Started DemoApplication in 0.942 seconds (process running for 1.113)
2024-07-23 16:57:36 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-07-23 16:57:36 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-07-23 16:57:36 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-07-23 19:55:49 INFO  com.bsp.demo.DemoApplication - Starting DemoApplication using Java 21.0.3 with PID 45468 (/Users/ces/Downloads/demo/build/classes/java/main started by ces in /Users/ces/Downloads/demo)
2024-07-23 19:55:49 DEBUG com.bsp.demo.DemoApplication - Running with Spring Boot v3.4.0-SNAPSHOT, Spring v6.2.0-M6
2024-07-23 19:55:49 INFO  com.bsp.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2024-07-23 19:55:49 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-07-23 19:55:49 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-07-23 19:55:49 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-07-23 19:55:49 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-07-23 19:55:49 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-07-23 19:55:49 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 406 ms
2024-07-23 19:55:49 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-07-23 19:55:49 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2024-07-23 19:55:49 INFO  com.bsp.demo.DemoApplication - Started DemoApplication in 0.967 seconds (process running for 1.172)
2024-07-23 19:55:54 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-07-23 19:55:54 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-07-23 19:55:54 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-07-23 19:55:55 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.web.client.HttpClientErrorException$Forbidden: 403 Forbidden on GET request for "https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/beneficiaries": "{"Code":"UK.OBIE.Reauthenticate","Message":"UK.OBIE.Reauthenticate: Token has expired","Errors":[{"ErrorCode":"UK.OBIE.Reauthenticate","Message":"UK.OBIE.Reauthenticate: Re-authentication is required","Path":"Authorization"}]}"] with root cause
org.springframework.web.client.HttpClientErrorException$Forbidden: 403 Forbidden on GET request for "https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/beneficiaries": "{"Code":"UK.OBIE.Reauthenticate","Message":"UK.OBIE.Reauthenticate: Token has expired","Errors":[{"ErrorCode":"UK.OBIE.Reauthenticate","Message":"UK.OBIE.Reauthenticate: Re-authentication is required","Path":"Authorization"}]}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:109)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:225)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:163)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:953)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:902)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:751)
	at com.bsp.account.invoker.ApiClient.invokeAPI(ApiClient.java:659)
	at com.bsp.account.api.BeneficiariesApi.getBeneficiariesWithHttpInfo(BeneficiariesApi.java:211)
	at com.bsp.account.api.BeneficiariesApi.getBeneficiaries(BeneficiariesApi.java:153)
	at com.bsp.demo.service.CreditService.creditAssertive(CreditService.java:21)
	at com.bsp.demo.controller.CreditController.performCreditAssertivenessCheck(CreditController.java:21)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:950)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:855)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-07-24 14:37:32 INFO  com.bsp.demo.DemoApplication - Starting DemoApplication using Java 21.0.3 with PID 98435 (/Users/ces/Downloads/demo/build/classes/java/main started by ces in /Users/ces/Downloads/demo)
2024-07-24 14:37:32 DEBUG com.bsp.demo.DemoApplication - Running with Spring Boot v3.4.0-SNAPSHOT, Spring v6.2.0-M6
2024-07-24 14:37:32 INFO  com.bsp.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2024-07-24 14:37:33 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-07-24 14:37:33 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-07-24 14:37:33 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-07-24 14:37:33 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-07-24 14:37:33 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-07-24 14:37:33 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 434 ms
2024-07-24 14:37:33 WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'creditController': Unsatisfied dependency expressed through field 'creditService': Error creating bean with name 'creditService' defined in file [/Users/ces/Downloads/demo/build/classes/java/main/com/bsp/demo/service/CreditService.class]: Unsatisfied dependency expressed through constructor parameter 0: No qualifying bean of type 'com.bsp.account.invoker.ApiClient' available: more than one 'primary' bean found among candidates: [apiClient, apiClientAWS]
2024-07-24 14:37:33 INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2024-07-24 14:37:33 INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-07-24 14:37:33 ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'creditController': Unsatisfied dependency expressed through field 'creditService': Error creating bean with name 'creditService' defined in file [/Users/ces/Downloads/demo/build/classes/java/main/com/bsp/demo/service/CreditService.class]: Unsatisfied dependency expressed through constructor parameter 0: No qualifying bean of type 'com.bsp.account.invoker.ApiClient' available: more than one 'primary' bean found among candidates: [apiClient, apiClientAWS]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:787)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:767)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:146)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:508)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1435)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:336)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:296)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:334)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1115)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1086)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1025)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at com.bsp.demo.DemoApplication.main(DemoApplication.java:11)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'creditService' defined in file [/Users/ces/Downloads/demo/build/classes/java/main/com/bsp/demo/service/CreditService.class]: Unsatisfied dependency expressed through constructor parameter 0: No qualifying bean of type 'com.bsp.account.invoker.ApiClient' available: more than one 'primary' bean found among candidates: [apiClient, apiClientAWS]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1371)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1208)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:563)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:336)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:296)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:334)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1561)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1507)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:784)
	... 22 common frames omitted
Caused by: org.springframework.beans.factory.NoUniqueBeanDefinitionException: No qualifying bean of type 'com.bsp.account.invoker.ApiClient' available: more than one 'primary' bean found among candidates: [apiClient, apiClientAWS]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.determinePrimaryCandidate(DefaultListableBeanFactory.java:1957)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.determineAutowireCandidate(DefaultListableBeanFactory.java:1898)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1592)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1507)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	... 34 common frames omitted
2024-07-24 14:38:01 INFO  com.bsp.demo.DemoApplication - Starting DemoApplication using Java 21.0.3 with PID 98493 (/Users/ces/Downloads/demo/build/classes/java/main started by ces in /Users/ces/Downloads/demo)
2024-07-24 14:38:01 DEBUG com.bsp.demo.DemoApplication - Running with Spring Boot v3.4.0-SNAPSHOT, Spring v6.2.0-M6
2024-07-24 14:38:01 INFO  com.bsp.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2024-07-24 14:38:02 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-07-24 14:38:02 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-07-24 14:38:02 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-07-24 14:38:02 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-07-24 14:38:02 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-07-24 14:38:02 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 347 ms
2024-07-24 14:38:02 WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'creditController': Unsatisfied dependency expressed through field 'creditService': Error creating bean with name 'creditService' defined in file [/Users/ces/Downloads/demo/build/classes/java/main/com/bsp/demo/service/CreditService.class]: Unsatisfied dependency expressed through constructor parameter 0: No qualifying bean of type 'com.bsp.account.invoker.ApiClient' available: more than one 'primary' bean found among candidates: [apiClient, apiClientAWS]
2024-07-24 14:38:02 INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2024-07-24 14:38:02 INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-07-24 14:38:02 ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'creditController': Unsatisfied dependency expressed through field 'creditService': Error creating bean with name 'creditService' defined in file [/Users/ces/Downloads/demo/build/classes/java/main/com/bsp/demo/service/CreditService.class]: Unsatisfied dependency expressed through constructor parameter 0: No qualifying bean of type 'com.bsp.account.invoker.ApiClient' available: more than one 'primary' bean found among candidates: [apiClient, apiClientAWS]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:787)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:767)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:146)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:508)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1435)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:336)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:296)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:334)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1115)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1086)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1025)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at com.bsp.demo.DemoApplication.main(DemoApplication.java:11)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'creditService' defined in file [/Users/ces/Downloads/demo/build/classes/java/main/com/bsp/demo/service/CreditService.class]: Unsatisfied dependency expressed through constructor parameter 0: No qualifying bean of type 'com.bsp.account.invoker.ApiClient' available: more than one 'primary' bean found among candidates: [apiClient, apiClientAWS]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1371)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1208)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:563)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:336)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:296)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:334)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1561)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1507)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:784)
	... 22 common frames omitted
Caused by: org.springframework.beans.factory.NoUniqueBeanDefinitionException: No qualifying bean of type 'com.bsp.account.invoker.ApiClient' available: more than one 'primary' bean found among candidates: [apiClient, apiClientAWS]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.determinePrimaryCandidate(DefaultListableBeanFactory.java:1957)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.determineAutowireCandidate(DefaultListableBeanFactory.java:1898)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1592)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1507)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	... 34 common frames omitted
2024-07-24 14:40:47 INFO  com.bsp.demo.DemoApplication - Starting DemoApplication using Java 21.0.3 with PID 99077 (/Users/ces/Downloads/demo/build/classes/java/main started by ces in /Users/ces/Downloads/demo)
2024-07-24 14:40:47 DEBUG com.bsp.demo.DemoApplication - Running with Spring Boot v3.4.0-SNAPSHOT, Spring v6.2.0-M6
2024-07-24 14:40:47 INFO  com.bsp.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2024-07-24 14:40:48 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-07-24 14:40:48 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-07-24 14:40:48 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-07-24 14:40:48 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-07-24 14:40:48 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-07-24 14:40:48 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 398 ms
2024-07-24 14:40:48 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-07-24 14:40:48 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2024-07-24 14:40:48 INFO  com.bsp.demo.DemoApplication - Started DemoApplication in 0.933 seconds (process running for 1.102)
2024-07-24 14:41:11 INFO  com.bsp.demo.DemoApplication - Starting DemoApplication using Java 21.0.3 with PID 99206 (/Users/ces/Downloads/demo/build/classes/java/main started by ces in /Users/ces/Downloads/demo)
2024-07-24 14:41:11 DEBUG com.bsp.demo.DemoApplication - Running with Spring Boot v3.4.0-SNAPSHOT, Spring v6.2.0-M6
2024-07-24 14:41:11 INFO  com.bsp.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2024-07-24 14:41:12 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-07-24 14:41:12 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-07-24 14:41:12 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-07-24 14:41:12 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-07-24 14:41:12 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-07-24 14:41:12 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 376 ms
2024-07-24 14:41:12 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-07-24 14:41:12 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2024-07-24 14:41:12 INFO  com.bsp.demo.DemoApplication - Started DemoApplication in 0.871 seconds (process running for 1.014)
2024-07-24 14:50:22 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-07-24 14:50:22 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-07-24 14:50:22 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2024-07-24 14:50:22 WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.HttpMediaTypeNotSupportedException: Content-Type 'multipart/form-data;boundary=--------------------------980660489390868677007691' is not supported]
2024-07-24 14:51:48 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.web.client.HttpClientErrorException$BadRequest: 400 Bad Request on GET request for "https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts": "{"Code":"UK.OBIE.Header.Invalid","Message":"not_w3c_date: The header x-fapi-auth-date has an invalid value. Must match /^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), \\d{2} (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) \\d{4} \\d{2}:\\d{2}:\\d{2} (GMT|UTC)$/","Errors":[{"ErrorCode":"UK.OBIE.Header.Invalid","Message":"not_w3c_date: The header x-fapi-auth-date has an invalid value. Must match /^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), \\d{2} (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) \\d{4} \\d{2}:\\d{2}:\\d{2} (GMT|UTC)$/"}]}"] with root cause
org.springframework.web.client.HttpClientErrorException$BadRequest: 400 Bad Request on GET request for "https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts": "{"Code":"UK.OBIE.Header.Invalid","Message":"not_w3c_date: The header x-fapi-auth-date has an invalid value. Must match /^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), \\d{2} (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) \\d{4} \\d{2}:\\d{2}:\\d{2} (GMT|UTC)$/","Errors":[{"ErrorCode":"UK.OBIE.Header.Invalid","Message":"not_w3c_date: The header x-fapi-auth-date has an invalid value. Must match /^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), \\d{2} (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) \\d{4} \\d{2}:\\d{2}:\\d{2} (GMT|UTC)$/"}]}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:103)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:225)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:163)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:953)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:902)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:751)
	at com.bsp.account.invoker.ApiClient.invokeAPI(ApiClient.java:659)
	at com.bsp.account.api.AccountsApi.getAccountsWithHttpInfo(AccountsApi.java:118)
	at com.bsp.account.api.AccountsApi.getAccounts(AccountsApi.java:61)
	at com.bsp.demo.service.CreditService.getAllAccountForUser(CreditService.java:42)
	at com.bsp.demo.controller.CreditController.creditDetails(CreditController.java:29)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:950)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:855)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-07-24 14:55:54 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.web.client.HttpClientErrorException$BadRequest: 400 Bad Request on GET request for "https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts": "{"Code":"UK.OBIE.Header.Invalid","Message":"not_w3c_date: The header x-fapi-auth-date has an invalid value. Must match /^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), \\d{2} (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) \\d{4} \\d{2}:\\d{2}:\\d{2} (GMT|UTC)$/","Errors":[{"ErrorCode":"UK.OBIE.Header.Invalid","Message":"not_w3c_date: The header x-fapi-auth-date has an invalid value. Must match /^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), \\d{2} (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) \\d{4} \\d{2}:\\d{2}:\\d{2} (GMT|UTC)$/"}]}"] with root cause
org.springframework.web.client.HttpClientErrorException$BadRequest: 400 Bad Request on GET request for "https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts": "{"Code":"UK.OBIE.Header.Invalid","Message":"not_w3c_date: The header x-fapi-auth-date has an invalid value. Must match /^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), \\d{2} (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) \\d{4} \\d{2}:\\d{2}:\\d{2} (GMT|UTC)$/","Errors":[{"ErrorCode":"UK.OBIE.Header.Invalid","Message":"not_w3c_date: The header x-fapi-auth-date has an invalid value. Must match /^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), \\d{2} (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) \\d{4} \\d{2}:\\d{2}:\\d{2} (GMT|UTC)$/"}]}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:103)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:225)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:163)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:953)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:902)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:751)
	at com.bsp.account.invoker.ApiClient.invokeAPI(ApiClient.java:659)
	at com.bsp.account.api.AccountsApi.getAccountsWithHttpInfo(AccountsApi.java:118)
	at com.bsp.account.api.AccountsApi.getAccounts(AccountsApi.java:61)
	at com.bsp.demo.service.CreditService.getAllAccountForUser(CreditService.java:42)
	at com.bsp.demo.controller.CreditController.creditDetails(CreditController.java:29)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:950)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:855)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-07-24 14:56:03 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.web.client.HttpClientErrorException$BadRequest: 400 Bad Request on GET request for "https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts": "{"Code":"UK.OBIE.Header.Invalid","Message":"not_w3c_date: The header x-fapi-auth-date has an invalid value. Must match /^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), \\d{2} (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) \\d{4} \\d{2}:\\d{2}:\\d{2} (GMT|UTC)$/","Errors":[{"ErrorCode":"UK.OBIE.Header.Invalid","Message":"not_w3c_date: The header x-fapi-auth-date has an invalid value. Must match /^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), \\d{2} (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) \\d{4} \\d{2}:\\d{2}:\\d{2} (GMT|UTC)$/"}]}"] with root cause
org.springframework.web.client.HttpClientErrorException$BadRequest: 400 Bad Request on GET request for "https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts": "{"Code":"UK.OBIE.Header.Invalid","Message":"not_w3c_date: The header x-fapi-auth-date has an invalid value. Must match /^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), \\d{2} (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) \\d{4} \\d{2}:\\d{2}:\\d{2} (GMT|UTC)$/","Errors":[{"ErrorCode":"UK.OBIE.Header.Invalid","Message":"not_w3c_date: The header x-fapi-auth-date has an invalid value. Must match /^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), \\d{2} (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) \\d{4} \\d{2}:\\d{2}:\\d{2} (GMT|UTC)$/"}]}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:103)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:225)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:163)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:953)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:902)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:751)
	at com.bsp.account.invoker.ApiClient.invokeAPI(ApiClient.java:659)
	at com.bsp.account.api.AccountsApi.getAccountsWithHttpInfo(AccountsApi.java:118)
	at com.bsp.account.api.AccountsApi.getAccounts(AccountsApi.java:61)
	at com.bsp.demo.service.CreditService.getAllAccountForUser(CreditService.java:42)
	at com.bsp.demo.controller.CreditController.creditDetails(CreditController.java:29)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:950)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:855)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-07-24 15:11:35 INFO  com.bsp.demo.DemoApplication - Starting DemoApplication using Java 21.0.3 with PID 2711 (/Users/ces/Downloads/demo/build/classes/java/main started by ces in /Users/ces/Downloads/demo)
2024-07-24 15:11:35 DEBUG com.bsp.demo.DemoApplication - Running with Spring Boot v3.4.0-SNAPSHOT, Spring v6.2.0-M6
2024-07-24 15:11:35 INFO  com.bsp.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2024-07-24 15:11:35 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-07-24 15:11:35 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-07-24 15:11:35 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-07-24 15:11:35 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-07-24 15:11:35 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-07-24 15:11:35 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 342 ms
2024-07-24 15:11:36 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-07-24 15:11:36 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2024-07-24 15:11:36 INFO  com.bsp.demo.DemoApplication - Started DemoApplication in 0.822 seconds (process running for 0.956)
2024-07-24 15:12:37 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-07-24 15:12:37 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-07-24 15:12:37 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-07-24 15:12:39 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.NullPointerException: Cannot invoke "String.trim()" because "in" is null] with root cause
java.lang.NullPointerException: Cannot invoke "String.trim()" because "in" is null
	at java.base/jdk.internal.math.FloatingDecimal.readJavaFormatString(FloatingDecimal.java:1838)
	at java.base/jdk.internal.math.FloatingDecimal.parseDouble(FloatingDecimal.java:110)
	at java.base/java.lang.Double.parseDouble(Double.java:792)
	at com.bsp.demo.service.CreditService.getAccountBalance(CreditService.java:88)
	at com.bsp.demo.service.CreditService.getAllAccountForUser(CreditService.java:48)
	at com.bsp.demo.controller.CreditController.creditDetails(CreditController.java:29)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:950)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:855)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-07-24 15:13:13 INFO  com.bsp.demo.DemoApplication - Starting DemoApplication using Java 21.0.3 with PID 2869 (/Users/ces/Downloads/demo/build/classes/java/main started by ces in /Users/ces/Downloads/demo)
2024-07-24 15:13:13 DEBUG com.bsp.demo.DemoApplication - Running with Spring Boot v3.4.0-SNAPSHOT, Spring v6.2.0-M6
2024-07-24 15:13:13 INFO  com.bsp.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2024-07-24 15:13:14 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-07-24 15:13:14 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-07-24 15:13:14 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-07-24 15:13:14 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-07-24 15:13:14 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-07-24 15:13:14 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 365 ms
2024-07-24 15:13:14 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-07-24 15:13:14 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2024-07-24 15:13:14 INFO  com.bsp.demo.DemoApplication - Started DemoApplication in 0.863 seconds (process running for 1.069)
2024-07-24 15:13:42 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-07-24 15:13:42 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-07-24 15:13:42 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 3 ms
2024-07-24 15:14:30 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.NullPointerException: Cannot invoke "String.trim()" because "in" is null] with root cause
java.lang.NullPointerException: Cannot invoke "String.trim()" because "in" is null
	at java.base/jdk.internal.math.FloatingDecimal.readJavaFormatString(FloatingDecimal.java:1838)
	at java.base/jdk.internal.math.FloatingDecimal.parseDouble(FloatingDecimal.java:110)
	at java.base/java.lang.Double.parseDouble(Double.java:792)
	at com.bsp.demo.service.CreditService.getAccountBalance(CreditService.java:88)
	at com.bsp.demo.service.CreditService.getAllAccountForUser(CreditService.java:48)
	at com.bsp.demo.controller.CreditController.creditDetails(CreditController.java:29)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:950)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:855)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-07-24 15:14:46 INFO  com.bsp.demo.DemoApplication - Starting DemoApplication using Java 21.0.3 with PID 3074 (/Users/ces/Downloads/demo/build/classes/java/main started by ces in /Users/ces/Downloads/demo)
2024-07-24 15:14:46 DEBUG com.bsp.demo.DemoApplication - Running with Spring Boot v3.4.0-SNAPSHOT, Spring v6.2.0-M6
2024-07-24 15:14:46 INFO  com.bsp.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2024-07-24 15:14:46 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-07-24 15:14:46 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-07-24 15:14:46 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-07-24 15:14:46 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-07-24 15:14:46 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-07-24 15:14:46 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 383 ms
2024-07-24 15:14:47 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-07-24 15:14:47 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2024-07-24 15:14:47 INFO  com.bsp.demo.DemoApplication - Started DemoApplication in 0.896 seconds (process running for 1.057)
2024-07-24 15:19:43 INFO  com.bsp.demo.DemoApplication - Starting DemoApplication using Java 21.0.3 with PID 3663 (/Users/ces/Downloads/demo/build/classes/java/main started by ces in /Users/ces/Downloads/demo)
2024-07-24 15:19:43 DEBUG com.bsp.demo.DemoApplication - Running with Spring Boot v3.4.0-SNAPSHOT, Spring v6.2.0-M6
2024-07-24 15:19:43 INFO  com.bsp.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2024-07-24 15:19:43 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-07-24 15:19:43 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-07-24 15:19:43 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-07-24 15:19:43 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-07-24 15:19:43 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-07-24 15:19:43 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 381 ms
2024-07-24 15:19:43 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-07-24 15:19:43 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2024-07-24 15:19:43 INFO  com.bsp.demo.DemoApplication - Started DemoApplication in 0.905 seconds (process running for 1.073)
2024-07-24 15:19:49 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-07-24 15:19:49 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-07-24 15:19:49 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-07-24 15:20:10 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.NullPointerException: Cannot invoke "String.trim()" because "in" is null] with root cause
java.lang.NullPointerException: Cannot invoke "String.trim()" because "in" is null
	at java.base/jdk.internal.math.FloatingDecimal.readJavaFormatString(FloatingDecimal.java:1838)
	at java.base/jdk.internal.math.FloatingDecimal.parseDouble(FloatingDecimal.java:110)
	at java.base/java.lang.Double.parseDouble(Double.java:792)
	at com.bsp.demo.service.CreditService.getAccountBalance(CreditService.java:87)
	at com.bsp.demo.service.CreditService.getAllAccountForUser(CreditService.java:48)
	at com.bsp.demo.controller.CreditController.creditDetails(CreditController.java:29)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:950)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:855)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-07-24 15:23:43 INFO  com.bsp.demo.DemoApplication - Starting DemoApplication using Java 21.0.3 with PID 4303 (/Users/ces/Downloads/demo/build/classes/java/main started by ces in /Users/ces/Downloads/demo)
2024-07-24 15:23:43 DEBUG com.bsp.demo.DemoApplication - Running with Spring Boot v3.4.0-SNAPSHOT, Spring v6.2.0-M6
2024-07-24 15:23:43 INFO  com.bsp.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2024-07-24 15:23:43 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-07-24 15:23:43 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-07-24 15:23:43 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-07-24 15:23:43 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-07-24 15:23:43 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-07-24 15:23:43 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 404 ms
2024-07-24 15:23:43 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-07-24 15:23:43 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2024-07-24 15:23:43 INFO  com.bsp.demo.DemoApplication - Started DemoApplication in 0.944 seconds (process running for 1.114)
2024-07-24 15:23:47 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-07-24 15:23:47 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-07-24 15:23:47 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-07-24 15:24:14 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.NullPointerException: Cannot invoke "String.trim()" because "in" is null] with root cause
java.lang.NullPointerException: Cannot invoke "String.trim()" because "in" is null
	at java.base/jdk.internal.math.FloatingDecimal.readJavaFormatString(FloatingDecimal.java:1838)
	at java.base/jdk.internal.math.FloatingDecimal.parseDouble(FloatingDecimal.java:110)
	at java.base/java.lang.Double.parseDouble(Double.java:792)
	at com.bsp.demo.service.CreditService.getAccountBalance(CreditService.java:112)
	at com.bsp.demo.service.CreditService.getAllAccountForUser(CreditService.java:48)
	at com.bsp.demo.controller.CreditController.creditDetails(CreditController.java:29)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:950)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:855)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-07-24 15:25:05 INFO  com.bsp.demo.DemoApplication - Starting DemoApplication using Java 21.0.3 with PID 4431 (/Users/ces/Downloads/demo/build/classes/java/main started by ces in /Users/ces/Downloads/demo)
2024-07-24 15:25:05 DEBUG com.bsp.demo.DemoApplication - Running with Spring Boot v3.4.0-SNAPSHOT, Spring v6.2.0-M6
2024-07-24 15:25:05 INFO  com.bsp.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2024-07-24 15:25:05 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-07-24 15:25:05 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-07-24 15:25:05 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-07-24 15:25:05 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-07-24 15:25:05 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-07-24 15:25:05 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 382 ms
2024-07-24 15:25:05 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-07-24 15:25:05 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2024-07-24 15:25:05 INFO  com.bsp.demo.DemoApplication - Started DemoApplication in 0.9 seconds (process running for 1.052)
2024-07-24 15:25:10 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-07-24 15:25:10 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-07-24 15:25:10 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-07-24 15:25:34 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.NullPointerException: Cannot invoke "String.trim()" because "in" is null] with root cause
java.lang.NullPointerException: Cannot invoke "String.trim()" because "in" is null
	at java.base/jdk.internal.math.FloatingDecimal.readJavaFormatString(FloatingDecimal.java:1838)
	at java.base/jdk.internal.math.FloatingDecimal.parseDouble(FloatingDecimal.java:110)
	at java.base/java.lang.Double.parseDouble(Double.java:792)
	at com.bsp.demo.service.CreditService.getAccountBalance(CreditService.java:113)
	at com.bsp.demo.service.CreditService.getAllAccountForUser(CreditService.java:49)
	at com.bsp.demo.controller.CreditController.creditDetails(CreditController.java:29)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:950)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:855)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-07-24 15:27:16 INFO  com.bsp.demo.DemoApplication - Starting DemoApplication using Java 21.0.3 with PID 4585 (/Users/ces/Downloads/demo/build/classes/java/main started by ces in /Users/ces/Downloads/demo)
2024-07-24 15:27:16 DEBUG com.bsp.demo.DemoApplication - Running with Spring Boot v3.4.0-SNAPSHOT, Spring v6.2.0-M6
2024-07-24 15:27:16 INFO  com.bsp.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2024-07-24 15:27:16 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-07-24 15:27:16 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-07-24 15:27:16 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-07-24 15:27:16 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-07-24 15:27:16 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-07-24 15:27:16 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 394 ms
2024-07-24 15:27:17 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-07-24 15:27:17 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2024-07-24 15:27:17 INFO  com.bsp.demo.DemoApplication - Started DemoApplication in 0.913 seconds (process running for 1.081)
2024-07-24 15:27:20 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-07-24 15:27:20 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-07-24 15:27:20 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-07-24 15:27:39 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.NullPointerException: Cannot invoke "String.trim()" because "in" is null] with root cause
java.lang.NullPointerException: Cannot invoke "String.trim()" because "in" is null
	at java.base/jdk.internal.math.FloatingDecimal.readJavaFormatString(FloatingDecimal.java:1838)
	at java.base/jdk.internal.math.FloatingDecimal.parseDouble(FloatingDecimal.java:110)
	at java.base/java.lang.Double.parseDouble(Double.java:792)
	at com.bsp.demo.service.CreditService.getAccountBalance(CreditService.java:132)
	at com.bsp.demo.service.CreditService.getAllAccountForUser(CreditService.java:49)
	at com.bsp.demo.controller.CreditController.creditDetails(CreditController.java:29)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:950)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:855)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-07-24 15:28:28 INFO  com.bsp.demo.DemoApplication - Starting DemoApplication using Java 21.0.3 with PID 4694 (/Users/ces/Downloads/demo/build/classes/java/main started by ces in /Users/ces/Downloads/demo)
2024-07-24 15:28:28 DEBUG com.bsp.demo.DemoApplication - Running with Spring Boot v3.4.0-SNAPSHOT, Spring v6.2.0-M6
2024-07-24 15:28:28 INFO  com.bsp.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2024-07-24 15:28:28 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-07-24 15:28:28 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-07-24 15:28:28 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-07-24 15:28:28 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-07-24 15:28:28 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-07-24 15:28:28 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 377 ms
2024-07-24 15:28:29 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-07-24 15:28:29 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2024-07-24 15:28:29 INFO  com.bsp.demo.DemoApplication - Started DemoApplication in 0.911 seconds (process running for 1.071)
2024-07-24 15:28:31 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-07-24 15:28:31 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-07-24 15:28:31 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-07-24 15:28:42 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.web.client.HttpClientErrorException$Forbidden: 403 Forbidden on GET request for "https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/direct-debits": "{"Code":"UK.OBIE.Reauthenticate","Message":"UK.OBIE.Reauthenticate: Token has expired","Errors":[{"ErrorCode":"UK.OBIE.Reauthenticate","Message":"UK.OBIE.Reauthenticate: Re-authentication is required","Path":"Authorization"}]}"] with root cause
org.springframework.web.client.HttpClientErrorException$Forbidden: 403 Forbidden on GET request for "https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/direct-debits": "{"Code":"UK.OBIE.Reauthenticate","Message":"UK.OBIE.Reauthenticate: Token has expired","Errors":[{"ErrorCode":"UK.OBIE.Reauthenticate","Message":"UK.OBIE.Reauthenticate: Re-authentication is required","Path":"Authorization"}]}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:109)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:225)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:163)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:953)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:902)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:751)
	at com.bsp.account.invoker.ApiClient.invokeAPI(ApiClient.java:659)
	at com.bsp.account.api.DirectDebitsApi.getAccountsAccountIdDirectDebitsWithHttpInfo(DirectDebitsApi.java:122)
	at com.bsp.account.api.DirectDebitsApi.getAccountsAccountIdDirectDebits(DirectDebitsApi.java:61)
	at com.bsp.demo.service.CreditService.fetchDirectDebitAmount(CreditService.java:149)
	at com.bsp.demo.service.CreditService.getAllAccountForUser(CreditService.java:52)
	at com.bsp.demo.controller.CreditController.creditDetails(CreditController.java:29)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:950)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:855)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-07-24 15:29:56 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.web.client.HttpClientErrorException$Unauthorized: 401 Unauthorized on GET request for "https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts": "{"Code":"UK.OBIE.Header.Invalid","Message":"no_access_token: invalid access token","Errors":[{"ErrorCode":"UK.OBIE.Header.Invalid","Message":"no_access_token: invalid access token","Path":"Authorization"}]}"] with root cause
org.springframework.web.client.HttpClientErrorException$Unauthorized: 401 Unauthorized on GET request for "https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts": "{"Code":"UK.OBIE.Header.Invalid","Message":"no_access_token: invalid access token","Errors":[{"ErrorCode":"UK.OBIE.Header.Invalid","Message":"no_access_token: invalid access token","Path":"Authorization"}]}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:106)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:225)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:163)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:953)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:902)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:751)
	at com.bsp.account.invoker.ApiClient.invokeAPI(ApiClient.java:659)
	at com.bsp.account.api.AccountsApi.getAccountsWithHttpInfo(AccountsApi.java:110)
	at com.bsp.account.api.AccountsApi.getAccounts(AccountsApi.java:59)
	at com.bsp.demo.service.CreditService.getAllAccountForUser(CreditService.java:44)
	at com.bsp.demo.controller.CreditController.creditDetails(CreditController.java:29)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:950)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:855)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-07-24 15:30:13 INFO  com.bsp.demo.DemoApplication - Starting DemoApplication using Java 21.0.3 with PID 4835 (/Users/ces/Downloads/demo/build/classes/java/main started by ces in /Users/ces/Downloads/demo)
2024-07-24 15:30:13 DEBUG com.bsp.demo.DemoApplication - Running with Spring Boot v3.4.0-SNAPSHOT, Spring v6.2.0-M6
2024-07-24 15:30:13 INFO  com.bsp.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2024-07-24 15:30:13 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-07-24 15:30:13 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-07-24 15:30:13 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-07-24 15:30:13 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-07-24 15:30:13 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-07-24 15:30:13 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 354 ms
2024-07-24 15:30:14 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-07-24 15:30:14 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2024-07-24 15:30:14 INFO  com.bsp.demo.DemoApplication - Started DemoApplication in 0.841 seconds (process running for 0.989)
2024-07-24 15:30:19 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-07-24 15:30:19 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-07-24 15:30:19 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2024-07-24 15:30:19 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.web.client.HttpClientErrorException$Unauthorized: 401 Unauthorized on GET request for "https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts": "{"Code":"UK.OBIE.Header.Invalid","Message":"no_access_token: invalid access token","Errors":[{"ErrorCode":"UK.OBIE.Header.Invalid","Message":"no_access_token: invalid access token","Path":"Authorization"}]}"] with root cause
org.springframework.web.client.HttpClientErrorException$Unauthorized: 401 Unauthorized on GET request for "https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts": "{"Code":"UK.OBIE.Header.Invalid","Message":"no_access_token: invalid access token","Errors":[{"ErrorCode":"UK.OBIE.Header.Invalid","Message":"no_access_token: invalid access token","Path":"Authorization"}]}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:106)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:225)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:163)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:953)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:902)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:751)
	at com.bsp.account.invoker.ApiClient.invokeAPI(ApiClient.java:659)
	at com.bsp.account.api.AccountsApi.getAccountsWithHttpInfo(AccountsApi.java:110)
	at com.bsp.account.api.AccountsApi.getAccounts(AccountsApi.java:59)
	at com.bsp.demo.service.CreditService.getAllAccountForUser(CreditService.java:44)
	at com.bsp.demo.controller.CreditController.creditDetails(CreditController.java:29)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:950)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:855)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-07-24 15:31:09 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.web.client.HttpClientErrorException$Unauthorized: 401 Unauthorized on GET request for "https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts": "{"Code":"UK.OBIE.Header.Invalid","Message":"no_access_token: invalid access token","Errors":[{"ErrorCode":"UK.OBIE.Header.Invalid","Message":"no_access_token: invalid access token","Path":"Authorization"}]}"] with root cause
org.springframework.web.client.HttpClientErrorException$Unauthorized: 401 Unauthorized on GET request for "https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts": "{"Code":"UK.OBIE.Header.Invalid","Message":"no_access_token: invalid access token","Errors":[{"ErrorCode":"UK.OBIE.Header.Invalid","Message":"no_access_token: invalid access token","Path":"Authorization"}]}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:106)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:225)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:163)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:953)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:902)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:751)
	at com.bsp.account.invoker.ApiClient.invokeAPI(ApiClient.java:659)
	at com.bsp.account.api.AccountsApi.getAccountsWithHttpInfo(AccountsApi.java:110)
	at com.bsp.account.api.AccountsApi.getAccounts(AccountsApi.java:59)
	at com.bsp.demo.service.CreditService.getAllAccountForUser(CreditService.java:44)
	at com.bsp.demo.controller.CreditController.creditDetails(CreditController.java:29)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:950)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:855)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-07-24 15:31:46 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.web.client.HttpClientErrorException$Forbidden: 403 Forbidden on GET request for "https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/direct-debits": "{"Code":"UK.OBIE.Reauthenticate","Message":"UK.OBIE.Reauthenticate: Token has expired","Errors":[{"ErrorCode":"UK.OBIE.Reauthenticate","Message":"UK.OBIE.Reauthenticate: Re-authentication is required","Path":"Authorization"}]}"] with root cause
org.springframework.web.client.HttpClientErrorException$Forbidden: 403 Forbidden on GET request for "https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/direct-debits": "{"Code":"UK.OBIE.Reauthenticate","Message":"UK.OBIE.Reauthenticate: Token has expired","Errors":[{"ErrorCode":"UK.OBIE.Reauthenticate","Message":"UK.OBIE.Reauthenticate: Re-authentication is required","Path":"Authorization"}]}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:109)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:225)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:163)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:953)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:902)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:751)
	at com.bsp.account.invoker.ApiClient.invokeAPI(ApiClient.java:659)
	at com.bsp.account.api.DirectDebitsApi.getAccountsAccountIdDirectDebitsWithHttpInfo(DirectDebitsApi.java:122)
	at com.bsp.account.api.DirectDebitsApi.getAccountsAccountIdDirectDebits(DirectDebitsApi.java:61)
	at com.bsp.demo.service.CreditService.fetchDirectDebitAmount(CreditService.java:149)
	at com.bsp.demo.service.CreditService.getAllAccountForUser(CreditService.java:52)
	at com.bsp.demo.controller.CreditController.creditDetails(CreditController.java:29)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:950)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:855)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-07-24 15:32:38 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.web.client.HttpClientErrorException$Forbidden: 403 Forbidden on GET request for "https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/direct-debits": "{"Code":"UK.OBIE.Reauthenticate","Message":"UK.OBIE.Reauthenticate: Token has expired","Errors":[{"ErrorCode":"UK.OBIE.Reauthenticate","Message":"UK.OBIE.Reauthenticate: Re-authentication is required","Path":"Authorization"}]}"] with root cause
org.springframework.web.client.HttpClientErrorException$Forbidden: 403 Forbidden on GET request for "https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/direct-debits": "{"Code":"UK.OBIE.Reauthenticate","Message":"UK.OBIE.Reauthenticate: Token has expired","Errors":[{"ErrorCode":"UK.OBIE.Reauthenticate","Message":"UK.OBIE.Reauthenticate: Re-authentication is required","Path":"Authorization"}]}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:109)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:225)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:163)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:953)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:902)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:751)
	at com.bsp.account.invoker.ApiClient.invokeAPI(ApiClient.java:659)
	at com.bsp.account.api.DirectDebitsApi.getAccountsAccountIdDirectDebitsWithHttpInfo(DirectDebitsApi.java:122)
	at com.bsp.account.api.DirectDebitsApi.getAccountsAccountIdDirectDebits(DirectDebitsApi.java:61)
	at com.bsp.demo.service.CreditService.fetchDirectDebitAmount(CreditService.java:149)
	at com.bsp.demo.service.CreditService.getAllAccountForUser(CreditService.java:52)
	at com.bsp.demo.controller.CreditController.creditDetails(CreditController.java:29)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:950)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:855)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-07-24 15:33:03 INFO  com.bsp.demo.DemoApplication - Starting DemoApplication using Java 21.0.3 with PID 5004 (/Users/ces/Downloads/demo/build/classes/java/main started by ces in /Users/ces/Downloads/demo)
2024-07-24 15:33:03 DEBUG com.bsp.demo.DemoApplication - Running with Spring Boot v3.4.0-SNAPSHOT, Spring v6.2.0-M6
2024-07-24 15:33:03 INFO  com.bsp.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2024-07-24 15:33:03 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-07-24 15:33:03 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-07-24 15:33:03 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-07-24 15:33:03 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-07-24 15:33:03 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-07-24 15:33:03 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 377 ms
2024-07-24 15:33:04 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-07-24 15:33:04 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2024-07-24 15:33:04 INFO  com.bsp.demo.DemoApplication - Started DemoApplication in 0.878 seconds (process running for 1.039)
2024-07-24 15:34:18 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-07-24 15:34:18 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-07-24 15:34:18 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-07-24 15:34:22 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.web.client.HttpClientErrorException$Forbidden: 403 Forbidden on GET request for "https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/direct-debits": "{"Code":"UK.OBIE.Reauthenticate","Message":"UK.OBIE.Reauthenticate: Token has expired","Errors":[{"ErrorCode":"UK.OBIE.Reauthenticate","Message":"UK.OBIE.Reauthenticate: Re-authentication is required","Path":"Authorization"}]}"] with root cause
org.springframework.web.client.HttpClientErrorException$Forbidden: 403 Forbidden on GET request for "https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/direct-debits": "{"Code":"UK.OBIE.Reauthenticate","Message":"UK.OBIE.Reauthenticate: Token has expired","Errors":[{"ErrorCode":"UK.OBIE.Reauthenticate","Message":"UK.OBIE.Reauthenticate: Re-authentication is required","Path":"Authorization"}]}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:109)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:225)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:163)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:953)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:902)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:751)
	at com.bsp.account.invoker.ApiClient.invokeAPI(ApiClient.java:659)
	at com.bsp.account.api.DirectDebitsApi.getAccountsAccountIdDirectDebitsWithHttpInfo(DirectDebitsApi.java:122)
	at com.bsp.account.api.DirectDebitsApi.getAccountsAccountIdDirectDebits(DirectDebitsApi.java:61)
	at com.bsp.demo.service.CreditService.fetchDirectDebitAmount(CreditService.java:149)
	at com.bsp.demo.service.CreditService.getAllAccountForUser(CreditService.java:52)
	at com.bsp.demo.controller.CreditController.creditDetails(CreditController.java:29)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:950)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:855)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-07-24 15:34:45 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.web.client.HttpClientErrorException$Forbidden: 403 Forbidden on GET request for "https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/direct-debits": "{"Code":"UK.OBIE.Reauthenticate","Message":"UK.OBIE.Reauthenticate: Token has expired","Errors":[{"ErrorCode":"UK.OBIE.Reauthenticate","Message":"UK.OBIE.Reauthenticate: Re-authentication is required","Path":"Authorization"}]}"] with root cause
org.springframework.web.client.HttpClientErrorException$Forbidden: 403 Forbidden on GET request for "https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/direct-debits": "{"Code":"UK.OBIE.Reauthenticate","Message":"UK.OBIE.Reauthenticate: Token has expired","Errors":[{"ErrorCode":"UK.OBIE.Reauthenticate","Message":"UK.OBIE.Reauthenticate: Re-authentication is required","Path":"Authorization"}]}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:109)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:225)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:163)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:953)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:902)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:751)
	at com.bsp.account.invoker.ApiClient.invokeAPI(ApiClient.java:659)
	at com.bsp.account.api.DirectDebitsApi.getAccountsAccountIdDirectDebitsWithHttpInfo(DirectDebitsApi.java:122)
	at com.bsp.account.api.DirectDebitsApi.getAccountsAccountIdDirectDebits(DirectDebitsApi.java:61)
	at com.bsp.demo.service.CreditService.fetchDirectDebitAmount(CreditService.java:149)
	at com.bsp.demo.service.CreditService.getAllAccountForUser(CreditService.java:52)
	at com.bsp.demo.controller.CreditController.creditDetails(CreditController.java:29)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:950)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:855)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-07-24 15:36:26 INFO  com.bsp.demo.DemoApplication - Starting DemoApplication using Java 21.0.3 with PID 5320 (/Users/ces/Downloads/demo/build/classes/java/main started by ces in /Users/ces/Downloads/demo)
2024-07-24 15:36:26 DEBUG com.bsp.demo.DemoApplication - Running with Spring Boot v3.4.0-SNAPSHOT, Spring v6.2.0-M6
2024-07-24 15:36:26 INFO  com.bsp.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2024-07-24 15:36:26 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-07-24 15:36:26 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-07-24 15:36:26 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-07-24 15:36:26 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-07-24 15:36:26 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-07-24 15:36:26 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 376 ms
2024-07-24 15:36:26 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-07-24 15:36:26 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2024-07-24 15:36:26 INFO  com.bsp.demo.DemoApplication - Started DemoApplication in 0.888 seconds (process running for 1.051)
2024-07-24 15:36:42 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-07-24 15:36:42 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-07-24 15:36:42 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2024-07-24 15:36:56 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.web.client.HttpClientErrorException$Forbidden: 403 Forbidden on GET request for "https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/scheduled-payments": "{"Code":"UK.OBIE.Reauthenticate","Message":"UK.OBIE.Reauthenticate: Token has expired","Errors":[{"ErrorCode":"UK.OBIE.Reauthenticate","Message":"UK.OBIE.Reauthenticate: Re-authentication is required","Path":"Authorization"}]}"] with root cause
org.springframework.web.client.HttpClientErrorException$Forbidden: 403 Forbidden on GET request for "https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/scheduled-payments": "{"Code":"UK.OBIE.Reauthenticate","Message":"UK.OBIE.Reauthenticate: Token has expired","Errors":[{"ErrorCode":"UK.OBIE.Reauthenticate","Message":"UK.OBIE.Reauthenticate: Re-authentication is required","Path":"Authorization"}]}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:109)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:225)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:163)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:953)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:902)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:751)
	at com.bsp.account.invoker.ApiClient.invokeAPI(ApiClient.java:659)
	at com.bsp.account.api.ScheduledPaymentsApi.getAccountsAccountIdScheduledPaymentsWithHttpInfo(ScheduledPaymentsApi.java:122)
	at com.bsp.account.api.ScheduledPaymentsApi.getAccountsAccountIdScheduledPayments(ScheduledPaymentsApi.java:61)
	at com.bsp.demo.service.CreditService.fetchScheduledPaymentAmount(CreditService.java:164)
	at com.bsp.demo.service.CreditService.getAllAccountForUser(CreditService.java:55)
	at com.bsp.demo.controller.CreditController.creditDetails(CreditController.java:29)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:950)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:855)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-07-24 15:38:07 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.web.client.HttpClientErrorException$Forbidden: 403 Forbidden on GET request for "https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/scheduled-payments": "{"Code":"UK.OBIE.Reauthenticate","Message":"UK.OBIE.Reauthenticate: Token has expired","Errors":[{"ErrorCode":"UK.OBIE.Reauthenticate","Message":"UK.OBIE.Reauthenticate: Re-authentication is required","Path":"Authorization"}]}"] with root cause
org.springframework.web.client.HttpClientErrorException$Forbidden: 403 Forbidden on GET request for "https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/scheduled-payments": "{"Code":"UK.OBIE.Reauthenticate","Message":"UK.OBIE.Reauthenticate: Token has expired","Errors":[{"ErrorCode":"UK.OBIE.Reauthenticate","Message":"UK.OBIE.Reauthenticate: Re-authentication is required","Path":"Authorization"}]}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:109)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:225)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:163)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:953)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:902)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:751)
	at com.bsp.account.invoker.ApiClient.invokeAPI(ApiClient.java:659)
	at com.bsp.account.api.ScheduledPaymentsApi.getAccountsAccountIdScheduledPaymentsWithHttpInfo(ScheduledPaymentsApi.java:122)
	at com.bsp.account.api.ScheduledPaymentsApi.getAccountsAccountIdScheduledPayments(ScheduledPaymentsApi.java:61)
	at com.bsp.demo.service.CreditService.fetchScheduledPaymentAmount(CreditService.java:164)
	at com.bsp.demo.service.CreditService.getAllAccountForUser(CreditService.java:55)
	at com.bsp.demo.controller.CreditController.creditDetails(CreditController.java:29)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:950)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:855)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-07-24 15:38:59 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.web.client.HttpClientErrorException$Forbidden: 403 Forbidden on GET request for "https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/scheduled-payments": "{"Code":"UK.OBIE.Reauthenticate","Message":"UK.OBIE.Reauthenticate: Token has expired","Errors":[{"ErrorCode":"UK.OBIE.Reauthenticate","Message":"UK.OBIE.Reauthenticate: Re-authentication is required","Path":"Authorization"}]}"] with root cause
org.springframework.web.client.HttpClientErrorException$Forbidden: 403 Forbidden on GET request for "https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/scheduled-payments": "{"Code":"UK.OBIE.Reauthenticate","Message":"UK.OBIE.Reauthenticate: Token has expired","Errors":[{"ErrorCode":"UK.OBIE.Reauthenticate","Message":"UK.OBIE.Reauthenticate: Re-authentication is required","Path":"Authorization"}]}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:109)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:225)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:163)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:953)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:902)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:751)
	at com.bsp.account.invoker.ApiClient.invokeAPI(ApiClient.java:659)
	at com.bsp.account.api.ScheduledPaymentsApi.getAccountsAccountIdScheduledPaymentsWithHttpInfo(ScheduledPaymentsApi.java:122)
	at com.bsp.account.api.ScheduledPaymentsApi.getAccountsAccountIdScheduledPayments(ScheduledPaymentsApi.java:61)
	at com.bsp.demo.service.CreditService.fetchScheduledPaymentAmount(CreditService.java:164)
	at com.bsp.demo.service.CreditService.getAllAccountForUser(CreditService.java:55)
	at com.bsp.demo.controller.CreditController.creditDetails(CreditController.java:29)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:950)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:855)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-07-24 15:39:11 INFO  com.bsp.demo.DemoApplication - Starting DemoApplication using Java 21.0.3 with PID 5542 (/Users/ces/Downloads/demo/build/classes/java/main started by ces in /Users/ces/Downloads/demo)
2024-07-24 15:39:11 DEBUG com.bsp.demo.DemoApplication - Running with Spring Boot v3.4.0-SNAPSHOT, Spring v6.2.0-M6
2024-07-24 15:39:11 INFO  com.bsp.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2024-07-24 15:39:12 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-07-24 15:39:12 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-07-24 15:39:12 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-07-24 15:39:12 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-07-24 15:39:12 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-07-24 15:39:12 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 343 ms
2024-07-24 15:39:12 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-07-24 15:39:12 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2024-07-24 15:39:12 INFO  com.bsp.demo.DemoApplication - Started DemoApplication in 0.823 seconds (process running for 0.968)
2024-07-24 15:39:28 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-07-24 15:39:28 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-07-24 15:39:28 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-07-24 15:39:31 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.web.client.HttpClientErrorException$Forbidden: 403 Forbidden on GET request for "https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/scheduled-payments": "{"Code":"UK.OBIE.Reauthenticate","Message":"UK.OBIE.Reauthenticate: Token has expired","Errors":[{"ErrorCode":"UK.OBIE.Reauthenticate","Message":"UK.OBIE.Reauthenticate: Re-authentication is required","Path":"Authorization"}]}"] with root cause
org.springframework.web.client.HttpClientErrorException$Forbidden: 403 Forbidden on GET request for "https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/scheduled-payments": "{"Code":"UK.OBIE.Reauthenticate","Message":"UK.OBIE.Reauthenticate: Token has expired","Errors":[{"ErrorCode":"UK.OBIE.Reauthenticate","Message":"UK.OBIE.Reauthenticate: Re-authentication is required","Path":"Authorization"}]}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:109)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:225)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:163)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:953)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:902)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:751)
	at com.bsp.account.invoker.ApiClient.invokeAPI(ApiClient.java:659)
	at com.bsp.account.api.ScheduledPaymentsApi.getAccountsAccountIdScheduledPaymentsWithHttpInfo(ScheduledPaymentsApi.java:122)
	at com.bsp.account.api.ScheduledPaymentsApi.getAccountsAccountIdScheduledPayments(ScheduledPaymentsApi.java:61)
	at com.bsp.demo.service.CreditService.fetchScheduledPaymentAmount(CreditService.java:164)
	at com.bsp.demo.service.CreditService.getAllAccountForUser(CreditService.java:55)
	at com.bsp.demo.controller.CreditController.creditDetails(CreditController.java:29)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:950)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:855)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-07-24 15:41:03 INFO  com.bsp.demo.DemoApplication - Starting DemoApplication using Java 21.0.3 with PID 5766 (/Users/ces/Downloads/demo/build/classes/java/main started by ces in /Users/ces/Downloads/demo)
2024-07-24 15:41:03 DEBUG com.bsp.demo.DemoApplication - Running with Spring Boot v3.4.0-SNAPSHOT, Spring v6.2.0-M6
2024-07-24 15:41:03 INFO  com.bsp.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2024-07-24 15:41:04 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-07-24 15:41:04 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-07-24 15:41:04 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-07-24 15:41:04 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-07-24 15:41:04 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-07-24 15:41:04 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 368 ms
2024-07-24 15:41:04 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-07-24 15:41:04 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2024-07-24 15:41:04 INFO  com.bsp.demo.DemoApplication - Started DemoApplication in 0.847 seconds (process running for 0.999)
2024-07-24 15:41:11 INFO  com.bsp.demo.DemoApplication - Starting DemoApplication using Java 21.0.3 with PID 5806 (/Users/ces/Downloads/demo/build/classes/java/main started by ces in /Users/ces/Downloads/demo)
2024-07-24 15:41:11 DEBUG com.bsp.demo.DemoApplication - Running with Spring Boot v3.4.0-SNAPSHOT, Spring v6.2.0-M6
2024-07-24 15:41:11 INFO  com.bsp.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2024-07-24 15:41:11 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-07-24 15:41:11 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-07-24 15:41:11 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-07-24 15:41:11 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-07-24 15:41:11 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-07-24 15:41:11 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 347 ms
2024-07-24 15:41:12 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-07-24 15:41:12 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2024-07-24 15:41:12 INFO  com.bsp.demo.DemoApplication - Started DemoApplication in 0.835 seconds (process running for 0.974)
2024-07-24 15:41:20 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-07-24 15:41:20 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-07-24 15:41:20 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2024-07-24 15:41:48 INFO  com.bsp.demo.DemoApplication - Starting DemoApplication using Java 21.0.3 with PID 5904 (/Users/ces/Downloads/demo/build/classes/java/main started by ces in /Users/ces/Downloads/demo)
2024-07-24 15:41:48 DEBUG com.bsp.demo.DemoApplication - Running with Spring Boot v3.4.0-SNAPSHOT, Spring v6.2.0-M6
2024-07-24 15:41:48 INFO  com.bsp.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2024-07-24 15:41:49 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-07-24 15:41:49 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-07-24 15:41:49 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-07-24 15:41:49 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-07-24 15:41:49 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-07-24 15:41:49 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 349 ms
2024-07-24 15:41:49 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-07-24 15:41:49 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2024-07-24 15:41:49 INFO  com.bsp.demo.DemoApplication - Started DemoApplication in 0.83 seconds (process running for 0.97)
2024-07-24 15:41:55 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-07-24 15:41:55 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-07-24 15:41:55 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2024-07-24 15:42:01 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.web.client.HttpServerErrorException$BadGateway: 502 Bad Gateway on POST request for "https://ckwl5eo409.execute-api.us-east-1.amazonaws.com/hackathonDevStage/calculate": "{"message": "Internal server error"}"] with root cause
org.springframework.web.client.HttpServerErrorException$BadGateway: 502 Bad Gateway on POST request for "https://ckwl5eo409.execute-api.us-east-1.amazonaws.com/hackathonDevStage/calculate": "{"message": "Internal server error"}"
	at org.springframework.web.client.HttpServerErrorException.create(HttpServerErrorException.java:108)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:228)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:163)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:953)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:902)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:751)
	at com.aws.credit.invoker.ApiClient.invokeAPI(ApiClient.java:632)
	at com.aws.credit.api.CreditScoreApi.creditScoreWithHttpInfo(CreditScoreApi.java:87)
	at com.aws.credit.api.CreditScoreApi.creditScore(CreditScoreApi.java:50)
	at com.bsp.demo.service.AWSService.getCreditScore(AWSService.java:34)
	at com.bsp.demo.controller.CreditController.creditDetails(CreditController.java:40)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:950)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:855)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-07-24 15:44:29 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.web.client.HttpServerErrorException$BadGateway: 502 Bad Gateway on POST request for "https://ckwl5eo409.execute-api.us-east-1.amazonaws.com/hackathonDevStage/calculate": "{"message": "Internal server error"}"] with root cause
org.springframework.web.client.HttpServerErrorException$BadGateway: 502 Bad Gateway on POST request for "https://ckwl5eo409.execute-api.us-east-1.amazonaws.com/hackathonDevStage/calculate": "{"message": "Internal server error"}"
	at org.springframework.web.client.HttpServerErrorException.create(HttpServerErrorException.java:108)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:228)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:163)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:953)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:902)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:751)
	at com.aws.credit.invoker.ApiClient.invokeAPI(ApiClient.java:632)
	at com.aws.credit.api.CreditScoreApi.creditScoreWithHttpInfo(CreditScoreApi.java:87)
	at com.aws.credit.api.CreditScoreApi.creditScore(CreditScoreApi.java:50)
	at com.bsp.demo.service.AWSService.getCreditScore(AWSService.java:34)
	at com.bsp.demo.controller.CreditController.creditDetails(CreditController.java:40)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:950)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:855)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-07-24 15:58:51 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.web.client.HttpServerErrorException$BadGateway: 502 Bad Gateway on POST request for "https://ckwl5eo409.execute-api.us-east-1.amazonaws.com/hackathonDevStage/calculate": "{"message": "Internal server error"}"] with root cause
org.springframework.web.client.HttpServerErrorException$BadGateway: 502 Bad Gateway on POST request for "https://ckwl5eo409.execute-api.us-east-1.amazonaws.com/hackathonDevStage/calculate": "{"message": "Internal server error"}"
	at org.springframework.web.client.HttpServerErrorException.create(HttpServerErrorException.java:108)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:228)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:163)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:953)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:902)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:751)
	at com.aws.credit.invoker.ApiClient.invokeAPI(ApiClient.java:632)
	at com.aws.credit.api.CreditScoreApi.creditScoreWithHttpInfo(CreditScoreApi.java:87)
	at com.aws.credit.api.CreditScoreApi.creditScore(CreditScoreApi.java:50)
	at com.bsp.demo.service.AWSService.getCreditScore(AWSService.java:34)
	at com.bsp.demo.controller.CreditController.creditDetails(CreditController.java:40)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:950)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:855)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-07-24 15:59:10 INFO  com.bsp.demo.DemoApplication - Starting DemoApplication using Java 21.0.3 with PID 7225 (/Users/ces/Downloads/demo/build/classes/java/main started by ces in /Users/ces/Downloads/demo)
2024-07-24 15:59:10 DEBUG com.bsp.demo.DemoApplication - Running with Spring Boot v3.4.0-SNAPSHOT, Spring v6.2.0-M6
2024-07-24 15:59:10 INFO  com.bsp.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2024-07-24 15:59:10 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-07-24 15:59:10 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-07-24 15:59:10 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-07-24 15:59:10 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-07-24 15:59:10 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-07-24 15:59:10 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 378 ms
2024-07-24 15:59:11 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-07-24 15:59:11 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2024-07-24 15:59:11 INFO  com.bsp.demo.DemoApplication - Started DemoApplication in 0.899 seconds (process running for 1.062)
2024-07-24 15:59:15 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-07-24 15:59:15 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-07-24 15:59:15 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-07-24 15:59:29 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.web.client.HttpServerErrorException$BadGateway: 502 Bad Gateway on POST request for "https://ckwl5eo409.execute-api.us-east-1.amazonaws.com/hackathonDevStage/calculate": "{"message": "Internal server error"}"] with root cause
org.springframework.web.client.HttpServerErrorException$BadGateway: 502 Bad Gateway on POST request for "https://ckwl5eo409.execute-api.us-east-1.amazonaws.com/hackathonDevStage/calculate": "{"message": "Internal server error"}"
	at org.springframework.web.client.HttpServerErrorException.create(HttpServerErrorException.java:108)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:228)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:163)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:953)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:902)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:751)
	at com.aws.credit.invoker.ApiClient.invokeAPI(ApiClient.java:632)
	at com.aws.credit.api.CreditScoreApi.creditScoreWithHttpInfo(CreditScoreApi.java:87)
	at com.aws.credit.api.CreditScoreApi.creditScore(CreditScoreApi.java:50)
	at com.bsp.demo.service.AWSService.getCreditScore(AWSService.java:34)
	at com.bsp.demo.controller.CreditController.creditDetails(CreditController.java:40)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:950)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:855)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-07-24 15:59:55 INFO  com.bsp.demo.DemoApplication - Starting DemoApplication using Java 21.0.3 with PID 7293 (/Users/ces/Downloads/demo/build/classes/java/main started by ces in /Users/ces/Downloads/demo)
2024-07-24 15:59:55 DEBUG com.bsp.demo.DemoApplication - Running with Spring Boot v3.4.0-SNAPSHOT, Spring v6.2.0-M6
2024-07-24 15:59:55 INFO  com.bsp.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2024-07-24 15:59:55 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-07-24 15:59:55 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-07-24 15:59:55 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-07-24 15:59:55 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-07-24 15:59:55 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-07-24 15:59:55 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 353 ms
2024-07-24 15:59:55 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-07-24 15:59:55 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2024-07-24 15:59:55 INFO  com.bsp.demo.DemoApplication - Started DemoApplication in 0.832 seconds (process running for 0.978)
2024-07-24 15:59:59 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-07-24 15:59:59 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-07-24 15:59:59 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-07-24 16:03:46 INFO  com.bsp.demo.DemoApplication - Starting DemoApplication using Java 21.0.3 with PID 7570 (/Users/ces/Downloads/demo/build/classes/java/main started by ces in /Users/ces/Downloads/demo)
2024-07-24 16:03:46 DEBUG com.bsp.demo.DemoApplication - Running with Spring Boot v3.4.0-SNAPSHOT, Spring v6.2.0-M6
2024-07-24 16:03:46 INFO  com.bsp.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2024-07-24 16:03:46 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-07-24 16:03:46 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-07-24 16:03:46 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-07-24 16:03:46 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-07-24 16:03:46 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-07-24 16:03:46 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 352 ms
2024-07-24 16:03:46 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-07-24 16:03:46 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2024-07-24 16:03:46 INFO  com.bsp.demo.DemoApplication - Started DemoApplication in 0.84 seconds (process running for 0.982)
2024-07-24 17:12:15 INFO  com.bsp.demo.DemoApplication - Starting DemoApplication using Java 21.0.3 with PID 12628 (/Users/ces/Downloads/demo/build/classes/java/main started by ces in /Users/ces/Downloads/demo)
2024-07-24 17:12:15 DEBUG com.bsp.demo.DemoApplication - Running with Spring Boot v3.4.0-SNAPSHOT, Spring v6.2.0-M6
2024-07-24 17:12:15 INFO  com.bsp.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2024-07-24 17:12:15 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-07-24 17:12:15 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-07-24 17:12:15 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-07-24 17:12:15 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-07-24 17:12:15 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-07-24 17:12:15 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 363 ms
2024-07-24 17:12:15 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-07-24 17:12:16 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2024-07-24 17:12:16 INFO  com.bsp.demo.DemoApplication - Started DemoApplication in 0.883 seconds (process running for 1.043)
2024-07-24 17:12:28 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-07-24 17:12:28 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-07-24 17:12:28 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2024-07-24 17:12:31 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.web.client.HttpClientErrorException$Forbidden: 403 Forbidden on GET request for "https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/direct-debits": "{"Code":"UK.OBIE.Reauthenticate","Message":"UK.OBIE.Reauthenticate: Token has expired","Errors":[{"ErrorCode":"UK.OBIE.Reauthenticate","Message":"UK.OBIE.Reauthenticate: Re-authentication is required","Path":"Authorization"}]}"] with root cause
org.springframework.web.client.HttpClientErrorException$Forbidden: 403 Forbidden on GET request for "https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/direct-debits": "{"Code":"UK.OBIE.Reauthenticate","Message":"UK.OBIE.Reauthenticate: Token has expired","Errors":[{"ErrorCode":"UK.OBIE.Reauthenticate","Message":"UK.OBIE.Reauthenticate: Re-authentication is required","Path":"Authorization"}]}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:109)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:225)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:163)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:953)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:902)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:751)
	at com.bsp.account.invoker.ApiClient.invokeAPI(ApiClient.java:659)
	at com.bsp.account.api.DirectDebitsApi.getAccountsAccountIdDirectDebitsWithHttpInfo(DirectDebitsApi.java:122)
	at com.bsp.account.api.DirectDebitsApi.getAccountsAccountIdDirectDebits(DirectDebitsApi.java:61)
	at com.bsp.demo.service.CreditService.fetchDirectDebitAmount(CreditService.java:149)
	at com.bsp.demo.service.CreditService.getAllAccountForUser(CreditService.java:52)
	at com.bsp.demo.controller.CreditController.creditDetails(CreditController.java:27)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:950)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:855)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-07-24 17:14:00 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.web.client.HttpServerErrorException$BadGateway: 502 Bad Gateway on POST request for "https://ckwl5eo409.execute-api.us-east-1.amazonaws.com/hackathonDevStage/calculate": "{"message": "Internal server error"}"] with root cause
org.springframework.web.client.HttpServerErrorException$BadGateway: 502 Bad Gateway on POST request for "https://ckwl5eo409.execute-api.us-east-1.amazonaws.com/hackathonDevStage/calculate": "{"message": "Internal server error"}"
	at org.springframework.web.client.HttpServerErrorException.create(HttpServerErrorException.java:108)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:228)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:163)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:953)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:902)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:751)
	at com.aws.credit.invoker.ApiClient.invokeAPI(ApiClient.java:632)
	at com.aws.credit.api.CreditScoreApi.creditScoreWithHttpInfo(CreditScoreApi.java:87)
	at com.aws.credit.api.CreditScoreApi.creditScore(CreditScoreApi.java:50)
	at com.bsp.demo.service.AWSService.getCreditScore(AWSService.java:34)
	at com.bsp.demo.controller.CreditController.creditDetails(CreditController.java:38)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:950)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:855)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-07-24 17:14:44 INFO  com.bsp.demo.DemoApplication - Starting DemoApplication using Java 21.0.3 with PID 12791 (/Users/ces/Downloads/demo/build/classes/java/main started by ces in /Users/ces/Downloads/demo)
2024-07-24 17:14:44 DEBUG com.bsp.demo.DemoApplication - Running with Spring Boot v3.4.0-SNAPSHOT, Spring v6.2.0-M6
2024-07-24 17:14:44 INFO  com.bsp.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2024-07-24 17:14:44 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-07-24 17:14:44 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-07-24 17:14:44 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-07-24 17:14:44 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-07-24 17:14:44 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-07-24 17:14:44 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 374 ms
2024-07-24 17:14:44 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-07-24 17:14:44 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2024-07-24 17:14:44 INFO  com.bsp.demo.DemoApplication - Started DemoApplication in 0.868 seconds (process running for 1.008)
2024-07-24 17:15:08 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-07-24 17:15:08 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-07-24 17:15:08 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2024-07-24 17:21:25 INFO  com.bsp.demo.DemoApplication - Starting DemoApplication using Java 21.0.3 with PID 13221 (/Users/ces/Downloads/demo/build/classes/java/main started by ces in /Users/ces/Downloads/demo)
2024-07-24 17:21:25 DEBUG com.bsp.demo.DemoApplication - Running with Spring Boot v3.4.0-SNAPSHOT, Spring v6.2.0-M6
2024-07-24 17:21:25 INFO  com.bsp.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2024-07-24 17:21:25 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-07-24 17:21:25 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-07-24 17:21:25 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-07-24 17:21:25 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-07-24 17:21:25 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-07-24 17:21:25 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 381 ms
2024-07-24 17:21:26 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-07-24 17:21:26 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2024-07-24 17:21:26 INFO  com.bsp.demo.DemoApplication - Started DemoApplication in 0.891 seconds (process running for 1.053)
2024-07-24 17:21:30 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-07-24 17:21:30 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-07-24 17:21:30 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 3 ms
2024-07-24 17:25:12 INFO  com.bsp.demo.DemoApplication - Starting DemoApplication using Java 21.0.3 with PID 13461 (/Users/ces/Downloads/demo/build/classes/java/main started by ces in /Users/ces/Downloads/demo)
2024-07-24 17:25:12 DEBUG com.bsp.demo.DemoApplication - Running with Spring Boot v3.4.0-SNAPSHOT, Spring v6.2.0-M6
2024-07-24 17:25:12 INFO  com.bsp.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2024-07-24 17:25:12 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-07-24 17:25:12 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-07-24 17:25:12 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-07-24 17:25:12 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-07-24 17:25:12 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-07-24 17:25:12 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 387 ms
2024-07-24 17:25:16 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-07-24 17:25:16 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2024-07-24 17:25:16 INFO  com.bsp.demo.DemoApplication - Started DemoApplication in 3.802 seconds (process running for 3.967)
2024-07-24 17:25:31 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-07-24 17:25:31 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-07-24 17:25:31 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-07-24 17:25:48 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.web.client.HttpServerErrorException$BadGateway: 502 Bad Gateway on POST request for "https://ckwl5eo409.execute-api.us-east-1.amazonaws.com/hackathonDevStage/calculate": "{"message": "Internal server error"}"] with root cause
org.springframework.web.client.HttpServerErrorException$BadGateway: 502 Bad Gateway on POST request for "https://ckwl5eo409.execute-api.us-east-1.amazonaws.com/hackathonDevStage/calculate": "{"message": "Internal server error"}"
	at org.springframework.web.client.HttpServerErrorException.create(HttpServerErrorException.java:108)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:228)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:163)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:953)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:902)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:751)
	at com.aws.credit.invoker.ApiClient.invokeAPI(ApiClient.java:632)
	at com.aws.credit.api.CreditScoreApi.creditScoreWithHttpInfo(CreditScoreApi.java:87)
	at com.aws.credit.api.CreditScoreApi.creditScore(CreditScoreApi.java:50)
	at com.bsp.demo.service.AWSService.getCreditScore(AWSService.java:34)
	at com.bsp.demo.controller.CreditController.creditDetails(CreditController.java:38)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:950)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:855)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-07-24 17:52:51 INFO  com.bsp.demo.DemoApplication - Starting DemoApplication using Java 21.0.3 with PID 14900 (/Users/ces/Downloads/demo/build/classes/java/main started by ces in /Users/ces/Downloads/demo)
2024-07-24 17:52:51 DEBUG com.bsp.demo.DemoApplication - Running with Spring Boot v3.4.0-SNAPSHOT, Spring v6.2.0-M6
2024-07-24 17:52:51 INFO  com.bsp.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2024-07-24 17:52:52 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-07-24 17:52:52 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-07-24 17:52:52 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-07-24 17:52:52 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-07-24 17:52:52 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-07-24 17:52:52 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 365 ms
2024-07-24 17:52:52 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-07-24 17:52:52 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2024-07-24 17:52:52 INFO  com.bsp.demo.DemoApplication - Started DemoApplication in 0.84 seconds (process running for 0.982)
2024-07-24 17:54:08 INFO  com.bsp.demo.DemoApplication - Starting DemoApplication using Java 21.0.3 with PID 15002 (/Users/ces/Downloads/demo/build/classes/java/main started by ces in /Users/ces/Downloads/demo)
2024-07-24 17:54:08 DEBUG com.bsp.demo.DemoApplication - Running with Spring Boot v3.4.0-SNAPSHOT, Spring v6.2.0-M6
2024-07-24 17:54:08 INFO  com.bsp.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2024-07-24 17:54:09 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-07-24 17:54:09 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-07-24 17:54:09 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-07-24 17:54:09 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-07-24 17:54:09 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-07-24 17:54:09 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 357 ms
2024-07-24 17:54:09 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-07-24 17:54:09 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2024-07-24 17:54:09 INFO  com.bsp.demo.DemoApplication - Started DemoApplication in 0.85 seconds (process running for 0.991)
2024-07-24 18:16:23 INFO  com.bsp.demo.DemoApplication - Starting DemoApplication using Java 21.0.3 with PID 16274 (/Users/ces/Downloads/demo/build/classes/java/main started by ces in /Users/ces/Downloads/demo)
2024-07-24 18:16:23 DEBUG com.bsp.demo.DemoApplication - Running with Spring Boot v3.4.0-SNAPSHOT, Spring v6.2.0-M6
2024-07-24 18:16:23 INFO  com.bsp.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2024-07-24 18:16:23 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-07-24 18:16:23 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-07-24 18:16:23 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-07-24 18:16:23 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-07-24 18:16:23 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-07-24 18:16:23 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 392 ms
2024-07-24 18:16:23 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-07-24 18:16:24 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2024-07-24 18:16:24 INFO  com.bsp.demo.DemoApplication - Started DemoApplication in 0.922 seconds (process running for 1.101)
2024-07-24 18:16:28 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-07-24 18:16:28 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-07-24 18:16:28 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2024-07-24 18:16:28 WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'POST' is not supported]
2024-07-24 18:17:44 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.web.client.HttpClientErrorException$BadRequest: 400 Bad Request on GET request for "https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/balances": "{"Code":"UK.OBIE.Field.Invalid","Message":"invalid_value: The field x-fapi-interaction-id has an invalid value. Must match /^[a-zA-Z\\d-_]+$/","Errors":[{"ErrorCode":"UK.OBIE.Field.Invalid","Message":"invalid_value: The field x-fapi-interaction-id has an invalid value. Must match /^[a-zA-Z\\d-_]+$/"}]}"] with root cause
org.springframework.web.client.HttpClientErrorException$BadRequest: 400 Bad Request on GET request for "https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/balances": "{"Code":"UK.OBIE.Field.Invalid","Message":"invalid_value: The field x-fapi-interaction-id has an invalid value. Must match /^[a-zA-Z\\d-_]+$/","Errors":[{"ErrorCode":"UK.OBIE.Field.Invalid","Message":"invalid_value: The field x-fapi-interaction-id has an invalid value. Must match /^[a-zA-Z\\d-_]+$/"}]}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:103)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:225)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:163)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:953)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:902)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:751)
	at com.bsp.account.invoker.ApiClient.invokeAPI(ApiClient.java:659)
	at com.bsp.account.api.BalancesApi.getAccountsAccountIdBalancesWithHttpInfo(BalancesApi.java:120)
	at com.bsp.account.api.BalancesApi.getAccountsAccountIdBalances(BalancesApi.java:60)
	at com.bsp.demo.service.CreditService.getAccountBalance(CreditService.java:70)
	at com.bsp.demo.service.CreditService.getAllAccountForUser(CreditService.java:48)
	at com.bsp.demo.controller.CreditController.creditDetails(CreditController.java:23)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:950)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:855)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-07-24 18:23:41 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.web.client.HttpClientErrorException$BadRequest: 400 Bad Request on GET request for "https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/balances": "{"Code":"UK.OBIE.Field.Invalid","Message":"invalid_value: The field x-fapi-interaction-id has an invalid value. Must match /^[a-zA-Z\\d-_]+$/","Errors":[{"ErrorCode":"UK.OBIE.Field.Invalid","Message":"invalid_value: The field x-fapi-interaction-id has an invalid value. Must match /^[a-zA-Z\\d-_]+$/"}]}"] with root cause
org.springframework.web.client.HttpClientErrorException$BadRequest: 400 Bad Request on GET request for "https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/balances": "{"Code":"UK.OBIE.Field.Invalid","Message":"invalid_value: The field x-fapi-interaction-id has an invalid value. Must match /^[a-zA-Z\\d-_]+$/","Errors":[{"ErrorCode":"UK.OBIE.Field.Invalid","Message":"invalid_value: The field x-fapi-interaction-id has an invalid value. Must match /^[a-zA-Z\\d-_]+$/"}]}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:103)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:225)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:163)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:953)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:902)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:751)
	at com.bsp.account.invoker.ApiClient.invokeAPI(ApiClient.java:659)
	at com.bsp.account.api.BalancesApi.getAccountsAccountIdBalancesWithHttpInfo(BalancesApi.java:120)
	at com.bsp.account.api.BalancesApi.getAccountsAccountIdBalances(BalancesApi.java:60)
	at com.bsp.demo.service.CreditService.getAccountBalance(CreditService.java:70)
	at com.bsp.demo.service.CreditService.getAllAccountForUser(CreditService.java:48)
	at com.bsp.demo.controller.CreditController.creditDetails(CreditController.java:23)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:950)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:855)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-07-24 18:23:58 INFO  com.bsp.demo.DemoApplication - Starting DemoApplication using Java 21.0.3 with PID 16737 (/Users/ces/Downloads/demo/build/classes/java/main started by ces in /Users/ces/Downloads/demo)
2024-07-24 18:23:58 DEBUG com.bsp.demo.DemoApplication - Running with Spring Boot v3.4.0-SNAPSHOT, Spring v6.2.0-M6
2024-07-24 18:23:58 INFO  com.bsp.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2024-07-24 18:23:58 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-07-24 18:23:58 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-07-24 18:23:58 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-07-24 18:23:58 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-07-24 18:23:58 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-07-24 18:23:58 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 374 ms
2024-07-24 18:23:58 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-07-24 18:23:58 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2024-07-24 18:23:58 INFO  com.bsp.demo.DemoApplication - Started DemoApplication in 0.907 seconds (process running for 1.06)
2024-07-24 18:24:57 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-07-24 18:24:57 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-07-24 18:24:57 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-07-24 18:24:59 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.web.client.HttpClientErrorException$Unauthorized: 401 Unauthorized on GET request for "https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/balances": "{"Code":"UK.OBIE.Header.Invalid","Message":"authorization_header_invalid_format: The authorization header is not valid.","Errors":[{"ErrorCode":"UK.OBIE.Header.Invalid","Message":"authorization_header_invalid_format: The authorization header is not valid.","Path":"Authorization"}]}"] with root cause
org.springframework.web.client.HttpClientErrorException$Unauthorized: 401 Unauthorized on GET request for "https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/balances": "{"Code":"UK.OBIE.Header.Invalid","Message":"authorization_header_invalid_format: The authorization header is not valid.","Errors":[{"ErrorCode":"UK.OBIE.Header.Invalid","Message":"authorization_header_invalid_format: The authorization header is not valid.","Path":"Authorization"}]}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:106)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:225)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:163)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:953)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:902)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:751)
	at com.bsp.account.invoker.ApiClient.invokeAPI(ApiClient.java:659)
	at com.bsp.account.api.BalancesApi.getAccountsAccountIdBalancesWithHttpInfo(BalancesApi.java:120)
	at com.bsp.account.api.BalancesApi.getAccountsAccountIdBalances(BalancesApi.java:60)
	at com.bsp.demo.service.CreditService.getAccountBalance(CreditService.java:70)
	at com.bsp.demo.service.CreditService.getAllAccountForUser(CreditService.java:48)
	at com.bsp.demo.controller.CreditController.creditDetails(CreditController.java:23)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:950)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:855)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-07-24 18:28:37 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.web.client.HttpClientErrorException$Unauthorized: 401 Unauthorized on GET request for "https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/balances": "{"Code":"UK.OBIE.Header.Invalid","Message":"authorization_header_invalid_format: The authorization header is not valid.","Errors":[{"ErrorCode":"UK.OBIE.Header.Invalid","Message":"authorization_header_invalid_format: The authorization header is not valid.","Path":"Authorization"}]}"] with root cause
org.springframework.web.client.HttpClientErrorException$Unauthorized: 401 Unauthorized on GET request for "https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/balances": "{"Code":"UK.OBIE.Header.Invalid","Message":"authorization_header_invalid_format: The authorization header is not valid.","Errors":[{"ErrorCode":"UK.OBIE.Header.Invalid","Message":"authorization_header_invalid_format: The authorization header is not valid.","Path":"Authorization"}]}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:106)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:225)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:163)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:953)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:902)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:751)
	at com.bsp.account.invoker.ApiClient.invokeAPI(ApiClient.java:659)
	at com.bsp.account.api.BalancesApi.getAccountsAccountIdBalancesWithHttpInfo(BalancesApi.java:120)
	at com.bsp.account.api.BalancesApi.getAccountsAccountIdBalances(BalancesApi.java:60)
	at com.bsp.demo.service.CreditService.getAccountBalance(CreditService.java:70)
	at com.bsp.demo.service.CreditService.getAllAccountForUser(CreditService.java:48)
	at com.bsp.demo.controller.CreditController.creditDetails(CreditController.java:23)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:950)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:855)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-07-24 18:29:12 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.web.client.HttpClientErrorException$Unauthorized: 401 Unauthorized on GET request for "https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/balances": "{"Code":"UK.OBIE.Header.Invalid","Message":"authorization_header_invalid_format: The authorization header is not valid.","Errors":[{"ErrorCode":"UK.OBIE.Header.Invalid","Message":"authorization_header_invalid_format: The authorization header is not valid.","Path":"Authorization"}]}"] with root cause
org.springframework.web.client.HttpClientErrorException$Unauthorized: 401 Unauthorized on GET request for "https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/balances": "{"Code":"UK.OBIE.Header.Invalid","Message":"authorization_header_invalid_format: The authorization header is not valid.","Errors":[{"ErrorCode":"UK.OBIE.Header.Invalid","Message":"authorization_header_invalid_format: The authorization header is not valid.","Path":"Authorization"}]}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:106)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:225)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:163)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:953)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:902)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:751)
	at com.bsp.account.invoker.ApiClient.invokeAPI(ApiClient.java:659)
	at com.bsp.account.api.BalancesApi.getAccountsAccountIdBalancesWithHttpInfo(BalancesApi.java:120)
	at com.bsp.account.api.BalancesApi.getAccountsAccountIdBalances(BalancesApi.java:60)
	at com.bsp.demo.service.CreditService.getAccountBalance(CreditService.java:70)
	at com.bsp.demo.service.CreditService.getAllAccountForUser(CreditService.java:48)
	at com.bsp.demo.controller.CreditController.creditDetails(CreditController.java:23)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:950)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:855)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-07-24 18:30:22 INFO  com.bsp.demo.DemoApplication - Starting DemoApplication using Java 21.0.3 with PID 17112 (/Users/ces/Downloads/demo/build/classes/java/main started by ces in /Users/ces/Downloads/demo)
2024-07-24 18:30:22 DEBUG com.bsp.demo.DemoApplication - Running with Spring Boot v3.4.0-SNAPSHOT, Spring v6.2.0-M6
2024-07-24 18:30:22 INFO  com.bsp.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2024-07-24 18:30:22 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-07-24 18:30:22 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-07-24 18:30:22 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-07-24 18:30:22 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-07-24 18:30:22 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-07-24 18:30:22 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 377 ms
2024-07-24 18:30:23 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-07-24 18:30:23 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2024-07-24 18:30:23 INFO  com.bsp.demo.DemoApplication - Started DemoApplication in 0.898 seconds (process running for 1.058)
2024-07-24 18:30:25 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-07-24 18:30:25 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-07-24 18:30:25 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2024-07-24 18:30:50 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.web.client.HttpClientErrorException$Unauthorized: 401 Unauthorized on GET request for "https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/balances": "{"Code":"UK.OBIE.Header.Invalid","Message":"authorization_header_invalid_format: The authorization header is not valid.","Errors":[{"ErrorCode":"UK.OBIE.Header.Invalid","Message":"authorization_header_invalid_format: The authorization header is not valid.","Path":"Authorization"}]}"] with root cause
org.springframework.web.client.HttpClientErrorException$Unauthorized: 401 Unauthorized on GET request for "https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/balances": "{"Code":"UK.OBIE.Header.Invalid","Message":"authorization_header_invalid_format: The authorization header is not valid.","Errors":[{"ErrorCode":"UK.OBIE.Header.Invalid","Message":"authorization_header_invalid_format: The authorization header is not valid.","Path":"Authorization"}]}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:106)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:225)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:163)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:953)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:902)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:751)
	at com.bsp.account.invoker.ApiClient.invokeAPI(ApiClient.java:659)
	at com.bsp.account.api.BalancesApi.getAccountsAccountIdBalancesWithHttpInfo(BalancesApi.java:120)
	at com.bsp.account.api.BalancesApi.getAccountsAccountIdBalances(BalancesApi.java:60)
	at com.bsp.demo.service.CreditService.getAccountBalance(CreditService.java:68)
	at com.bsp.demo.service.CreditService.getAllAccountForUser(CreditService.java:48)
	at com.bsp.demo.controller.CreditController.creditDetails(CreditController.java:23)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:950)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:855)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-07-24 18:31:45 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.web.client.HttpClientErrorException$Unauthorized: 401 Unauthorized on GET request for "https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/balances": "{"Code":"UK.OBIE.Header.Invalid","Message":"authorization_header_invalid_format: The authorization header is not valid.","Errors":[{"ErrorCode":"UK.OBIE.Header.Invalid","Message":"authorization_header_invalid_format: The authorization header is not valid.","Path":"Authorization"}]}"] with root cause
org.springframework.web.client.HttpClientErrorException$Unauthorized: 401 Unauthorized on GET request for "https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/balances": "{"Code":"UK.OBIE.Header.Invalid","Message":"authorization_header_invalid_format: The authorization header is not valid.","Errors":[{"ErrorCode":"UK.OBIE.Header.Invalid","Message":"authorization_header_invalid_format: The authorization header is not valid.","Path":"Authorization"}]}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:106)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:225)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:163)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:953)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:902)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:751)
	at com.bsp.account.invoker.ApiClient.invokeAPI(ApiClient.java:659)
	at com.bsp.account.api.BalancesApi.getAccountsAccountIdBalancesWithHttpInfo(BalancesApi.java:120)
	at com.bsp.account.api.BalancesApi.getAccountsAccountIdBalances(BalancesApi.java:60)
	at com.bsp.demo.service.CreditService.getAccountBalance(CreditService.java:68)
	at com.bsp.demo.service.CreditService.getAllAccountForUser(CreditService.java:48)
	at com.bsp.demo.controller.CreditController.creditDetails(CreditController.java:23)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:950)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:855)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-07-24 18:32:20 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.web.client.HttpClientErrorException$Unauthorized: 401 Unauthorized on GET request for "https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/balances": "{"Code":"UK.OBIE.Header.Invalid","Message":"authorization_header_invalid_format: The authorization header is not valid.","Errors":[{"ErrorCode":"UK.OBIE.Header.Invalid","Message":"authorization_header_invalid_format: The authorization header is not valid.","Path":"Authorization"}]}"] with root cause
org.springframework.web.client.HttpClientErrorException$Unauthorized: 401 Unauthorized on GET request for "https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/balances": "{"Code":"UK.OBIE.Header.Invalid","Message":"authorization_header_invalid_format: The authorization header is not valid.","Errors":[{"ErrorCode":"UK.OBIE.Header.Invalid","Message":"authorization_header_invalid_format: The authorization header is not valid.","Path":"Authorization"}]}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:106)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:225)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:163)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:953)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:902)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:751)
	at com.bsp.account.invoker.ApiClient.invokeAPI(ApiClient.java:659)
	at com.bsp.account.api.BalancesApi.getAccountsAccountIdBalancesWithHttpInfo(BalancesApi.java:120)
	at com.bsp.account.api.BalancesApi.getAccountsAccountIdBalances(BalancesApi.java:60)
	at com.bsp.demo.service.CreditService.getAccountBalance(CreditService.java:68)
	at com.bsp.demo.service.CreditService.getAllAccountForUser(CreditService.java:48)
	at com.bsp.demo.controller.CreditController.creditDetails(CreditController.java:23)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:950)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:855)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-07-24 18:33:28 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.web.client.HttpClientErrorException$Unauthorized: 401 Unauthorized on GET request for "https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/balances": "{"Code":"UK.OBIE.Header.Invalid","Message":"authorization_header_invalid_format: The authorization header is not valid.","Errors":[{"ErrorCode":"UK.OBIE.Header.Invalid","Message":"authorization_header_invalid_format: The authorization header is not valid.","Path":"Authorization"}]}"] with root cause
org.springframework.web.client.HttpClientErrorException$Unauthorized: 401 Unauthorized on GET request for "https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/balances": "{"Code":"UK.OBIE.Header.Invalid","Message":"authorization_header_invalid_format: The authorization header is not valid.","Errors":[{"ErrorCode":"UK.OBIE.Header.Invalid","Message":"authorization_header_invalid_format: The authorization header is not valid.","Path":"Authorization"}]}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:106)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:225)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:163)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:953)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:902)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:751)
	at com.bsp.account.invoker.ApiClient.invokeAPI(ApiClient.java:659)
	at com.bsp.account.api.BalancesApi.getAccountsAccountIdBalancesWithHttpInfo(BalancesApi.java:120)
	at com.bsp.account.api.BalancesApi.getAccountsAccountIdBalances(BalancesApi.java:60)
	at com.bsp.demo.service.CreditService.getAccountBalance(CreditService.java:68)
	at com.bsp.demo.service.CreditService.getAllAccountForUser(CreditService.java:48)
	at com.bsp.demo.controller.CreditController.creditDetails(CreditController.java:23)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:950)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:855)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-07-24 18:35:06 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.web.client.HttpClientErrorException$Unauthorized: 401 Unauthorized on GET request for "https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/balances": "{"Code":"UK.OBIE.Header.Invalid","Message":"authorization_header_invalid_format: The authorization header is not valid.","Errors":[{"ErrorCode":"UK.OBIE.Header.Invalid","Message":"authorization_header_invalid_format: The authorization header is not valid.","Path":"Authorization"}]}"] with root cause
org.springframework.web.client.HttpClientErrorException$Unauthorized: 401 Unauthorized on GET request for "https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/balances": "{"Code":"UK.OBIE.Header.Invalid","Message":"authorization_header_invalid_format: The authorization header is not valid.","Errors":[{"ErrorCode":"UK.OBIE.Header.Invalid","Message":"authorization_header_invalid_format: The authorization header is not valid.","Path":"Authorization"}]}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:106)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:225)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:163)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:953)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:902)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:751)
	at com.bsp.account.invoker.ApiClient.invokeAPI(ApiClient.java:659)
	at com.bsp.account.api.BalancesApi.getAccountsAccountIdBalancesWithHttpInfo(BalancesApi.java:120)
	at com.bsp.account.api.BalancesApi.getAccountsAccountIdBalances(BalancesApi.java:60)
	at com.bsp.demo.service.CreditService.getAccountBalance(CreditService.java:68)
	at com.bsp.demo.service.CreditService.getAllAccountForUser(CreditService.java:48)
	at com.bsp.demo.controller.CreditController.creditDetails(CreditController.java:23)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:950)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:855)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-07-24 18:36:00 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.web.client.HttpClientErrorException$Unauthorized: 401 Unauthorized on GET request for "https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts": "{"Code":"UK.OBIE.Header.Invalid","Message":"expected_bearer_token: The authorization header is not valid.","Errors":[{"ErrorCode":"UK.OBIE.Header.Invalid","Message":"expected_bearer_token: The authorization header is not valid.","Path":"Authorization"}]}"] with root cause
org.springframework.web.client.HttpClientErrorException$Unauthorized: 401 Unauthorized on GET request for "https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts": "{"Code":"UK.OBIE.Header.Invalid","Message":"expected_bearer_token: The authorization header is not valid.","Errors":[{"ErrorCode":"UK.OBIE.Header.Invalid","Message":"expected_bearer_token: The authorization header is not valid.","Path":"Authorization"}]}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:106)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:225)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:163)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:953)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:902)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:751)
	at com.bsp.account.invoker.ApiClient.invokeAPI(ApiClient.java:659)
	at com.bsp.account.api.AccountsApi.getAccountsWithHttpInfo(AccountsApi.java:110)
	at com.bsp.account.api.AccountsApi.getAccounts(AccountsApi.java:59)
	at com.bsp.demo.service.CreditService.getAllAccountForUser(CreditService.java:43)
	at com.bsp.demo.controller.CreditController.creditDetails(CreditController.java:23)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:950)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:855)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-07-24 18:36:30 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.web.client.HttpClientErrorException$Unauthorized: 401 Unauthorized on GET request for "https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/balances": "{"Code":"UK.OBIE.Header.Invalid","Message":"authorization_header_invalid_format: The authorization header is not valid.","Errors":[{"ErrorCode":"UK.OBIE.Header.Invalid","Message":"authorization_header_invalid_format: The authorization header is not valid.","Path":"Authorization"}]}"] with root cause
org.springframework.web.client.HttpClientErrorException$Unauthorized: 401 Unauthorized on GET request for "https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/balances": "{"Code":"UK.OBIE.Header.Invalid","Message":"authorization_header_invalid_format: The authorization header is not valid.","Errors":[{"ErrorCode":"UK.OBIE.Header.Invalid","Message":"authorization_header_invalid_format: The authorization header is not valid.","Path":"Authorization"}]}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:106)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:225)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:163)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:953)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:902)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:751)
	at com.bsp.account.invoker.ApiClient.invokeAPI(ApiClient.java:659)
	at com.bsp.account.api.BalancesApi.getAccountsAccountIdBalancesWithHttpInfo(BalancesApi.java:120)
	at com.bsp.account.api.BalancesApi.getAccountsAccountIdBalances(BalancesApi.java:60)
	at com.bsp.demo.service.CreditService.getAccountBalance(CreditService.java:68)
	at com.bsp.demo.service.CreditService.getAllAccountForUser(CreditService.java:48)
	at com.bsp.demo.controller.CreditController.creditDetails(CreditController.java:23)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:950)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:855)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-07-24 18:37:02 INFO  com.bsp.demo.DemoApplication - Starting DemoApplication using Java 21.0.3 with PID 17509 (/Users/ces/Downloads/demo/build/classes/java/main started by ces in /Users/ces/Downloads/demo)
2024-07-24 18:37:02 DEBUG com.bsp.demo.DemoApplication - Running with Spring Boot v3.4.0-SNAPSHOT, Spring v6.2.0-M6
2024-07-24 18:37:02 INFO  com.bsp.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2024-07-24 18:37:03 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-07-24 18:37:03 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-07-24 18:37:03 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-07-24 18:37:03 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-07-24 18:37:03 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-07-24 18:37:03 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 338 ms
2024-07-24 18:37:03 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-07-24 18:37:03 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2024-07-24 18:37:03 INFO  com.bsp.demo.DemoApplication - Started DemoApplication in 0.816 seconds (process running for 0.957)
2024-07-24 18:37:08 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-07-24 18:37:08 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-07-24 18:37:08 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2024-07-24 18:37:09 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.web.client.HttpClientErrorException$Unauthorized: 401 Unauthorized on GET request for "https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/balances": "{"Code":"UK.OBIE.Header.Invalid","Message":"authorization_header_invalid_format: The authorization header is not valid.","Errors":[{"ErrorCode":"UK.OBIE.Header.Invalid","Message":"authorization_header_invalid_format: The authorization header is not valid.","Path":"Authorization"}]}"] with root cause
org.springframework.web.client.HttpClientErrorException$Unauthorized: 401 Unauthorized on GET request for "https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/balances": "{"Code":"UK.OBIE.Header.Invalid","Message":"authorization_header_invalid_format: The authorization header is not valid.","Errors":[{"ErrorCode":"UK.OBIE.Header.Invalid","Message":"authorization_header_invalid_format: The authorization header is not valid.","Path":"Authorization"}]}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:106)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:225)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:163)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:953)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:902)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:751)
	at com.bsp.account.invoker.ApiClient.invokeAPI(ApiClient.java:659)
	at com.bsp.account.api.BalancesApi.getAccountsAccountIdBalancesWithHttpInfo(BalancesApi.java:120)
	at com.bsp.account.api.BalancesApi.getAccountsAccountIdBalances(BalancesApi.java:60)
	at com.bsp.demo.service.CreditService.getAccountBalance(CreditService.java:68)
	at com.bsp.demo.service.CreditService.getAllAccountForUser(CreditService.java:48)
	at com.bsp.demo.controller.CreditController.creditDetails(CreditController.java:23)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:950)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:855)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-07-24 18:40:06 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.web.client.HttpClientErrorException$Unauthorized: 401 Unauthorized on GET request for "https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/balances": "{"Code":"UK.OBIE.Header.Invalid","Message":"authorization_header_invalid_format: The authorization header is not valid.","Errors":[{"ErrorCode":"UK.OBIE.Header.Invalid","Message":"authorization_header_invalid_format: The authorization header is not valid.","Path":"Authorization"}]}"] with root cause
org.springframework.web.client.HttpClientErrorException$Unauthorized: 401 Unauthorized on GET request for "https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/balances": "{"Code":"UK.OBIE.Header.Invalid","Message":"authorization_header_invalid_format: The authorization header is not valid.","Errors":[{"ErrorCode":"UK.OBIE.Header.Invalid","Message":"authorization_header_invalid_format: The authorization header is not valid.","Path":"Authorization"}]}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:106)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:225)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:163)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:953)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:902)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:751)
	at com.bsp.account.invoker.ApiClient.invokeAPI(ApiClient.java:659)
	at com.bsp.account.api.BalancesApi.getAccountsAccountIdBalancesWithHttpInfo(BalancesApi.java:120)
	at com.bsp.account.api.BalancesApi.getAccountsAccountIdBalances(BalancesApi.java:60)
	at com.bsp.demo.service.CreditService.getAccountBalance(CreditService.java:68)
	at com.bsp.demo.service.CreditService.getAllAccountForUser(CreditService.java:48)
	at com.bsp.demo.controller.CreditController.creditDetails(CreditController.java:23)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:950)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:855)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-07-24 18:40:40 INFO  com.bsp.demo.DemoApplication - Starting DemoApplication using Java 21.0.3 with PID 17752 (/Users/ces/Downloads/demo/build/classes/java/main started by ces in /Users/ces/Downloads/demo)
2024-07-24 18:40:40 DEBUG com.bsp.demo.DemoApplication - Running with Spring Boot v3.4.0-SNAPSHOT, Spring v6.2.0-M6
2024-07-24 18:40:40 INFO  com.bsp.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2024-07-24 18:40:40 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-07-24 18:40:40 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-07-24 18:40:40 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-07-24 18:40:40 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-07-24 18:40:40 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-07-24 18:40:40 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 428 ms
2024-07-24 18:40:40 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-07-24 18:40:40 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2024-07-24 18:40:40 INFO  com.bsp.demo.DemoApplication - Started DemoApplication in 0.985 seconds (process running for 1.146)
2024-07-24 18:41:11 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-07-24 18:41:11 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-07-24 18:41:11 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2024-07-24 18:41:24 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.web.client.HttpClientErrorException$Unauthorized: 401 Unauthorized on GET request for "https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/balances": "{"Code":"UK.OBIE.Header.Invalid","Message":"authorization_header_invalid_format: The authorization header is not valid.","Errors":[{"ErrorCode":"UK.OBIE.Header.Invalid","Message":"authorization_header_invalid_format: The authorization header is not valid.","Path":"Authorization"}]}"] with root cause
org.springframework.web.client.HttpClientErrorException$Unauthorized: 401 Unauthorized on GET request for "https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/balances": "{"Code":"UK.OBIE.Header.Invalid","Message":"authorization_header_invalid_format: The authorization header is not valid.","Errors":[{"ErrorCode":"UK.OBIE.Header.Invalid","Message":"authorization_header_invalid_format: The authorization header is not valid.","Path":"Authorization"}]}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:106)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:225)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:163)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:953)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:902)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:751)
	at com.bsp.account.invoker.ApiClient.invokeAPI(ApiClient.java:659)
	at com.bsp.account.api.BalancesApi.getAccountsAccountIdBalancesWithHttpInfo(BalancesApi.java:120)
	at com.bsp.account.api.BalancesApi.getAccountsAccountIdBalances(BalancesApi.java:60)
	at com.bsp.demo.service.CreditService.getAccountBalance(CreditService.java:68)
	at com.bsp.demo.service.CreditService.getAllAccountForUser(CreditService.java:48)
	at com.bsp.demo.controller.CreditController.creditDetails(CreditController.java:23)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:950)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:855)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-07-24 18:42:35 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.web.client.HttpClientErrorException$Unauthorized: 401 Unauthorized on GET request for "https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/balances": "{"Code":"UK.OBIE.Header.Invalid","Message":"authorization_header_invalid_format: The authorization header is not valid.","Errors":[{"ErrorCode":"UK.OBIE.Header.Invalid","Message":"authorization_header_invalid_format: The authorization header is not valid.","Path":"Authorization"}]}"] with root cause
org.springframework.web.client.HttpClientErrorException$Unauthorized: 401 Unauthorized on GET request for "https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/balances": "{"Code":"UK.OBIE.Header.Invalid","Message":"authorization_header_invalid_format: The authorization header is not valid.","Errors":[{"ErrorCode":"UK.OBIE.Header.Invalid","Message":"authorization_header_invalid_format: The authorization header is not valid.","Path":"Authorization"}]}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:106)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:225)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:163)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:953)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:902)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:751)
	at com.bsp.account.invoker.ApiClient.invokeAPI(ApiClient.java:659)
	at com.bsp.account.api.BalancesApi.getAccountsAccountIdBalancesWithHttpInfo(BalancesApi.java:120)
	at com.bsp.account.api.BalancesApi.getAccountsAccountIdBalances(BalancesApi.java:60)
	at com.bsp.demo.service.CreditService.getAccountBalance(CreditService.java:68)
	at com.bsp.demo.service.CreditService.getAllAccountForUser(CreditService.java:48)
	at com.bsp.demo.controller.CreditController.creditDetails(CreditController.java:23)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:950)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:855)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-07-24 18:42:55 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.web.client.HttpClientErrorException$Unauthorized: 401 Unauthorized on GET request for "https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/balances": "{"Code":"UK.OBIE.Header.Invalid","Message":"authorization_header_invalid_format: The authorization header is not valid.","Errors":[{"ErrorCode":"UK.OBIE.Header.Invalid","Message":"authorization_header_invalid_format: The authorization header is not valid.","Path":"Authorization"}]}"] with root cause
org.springframework.web.client.HttpClientErrorException$Unauthorized: 401 Unauthorized on GET request for "https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/balances": "{"Code":"UK.OBIE.Header.Invalid","Message":"authorization_header_invalid_format: The authorization header is not valid.","Errors":[{"ErrorCode":"UK.OBIE.Header.Invalid","Message":"authorization_header_invalid_format: The authorization header is not valid.","Path":"Authorization"}]}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:106)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:225)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:163)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:953)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:902)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:751)
	at com.bsp.account.invoker.ApiClient.invokeAPI(ApiClient.java:659)
	at com.bsp.account.api.BalancesApi.getAccountsAccountIdBalancesWithHttpInfo(BalancesApi.java:120)
	at com.bsp.account.api.BalancesApi.getAccountsAccountIdBalances(BalancesApi.java:60)
	at com.bsp.demo.service.CreditService.getAccountBalance(CreditService.java:68)
	at com.bsp.demo.service.CreditService.getAllAccountForUser(CreditService.java:48)
	at com.bsp.demo.controller.CreditController.creditDetails(CreditController.java:23)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:950)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:855)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-07-24 18:44:10 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.web.client.HttpClientErrorException$Unauthorized: 401 Unauthorized on GET request for "https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/balances": "{"Code":"UK.OBIE.Header.Invalid","Message":"authorization_header_invalid_format: The authorization header is not valid.","Errors":[{"ErrorCode":"UK.OBIE.Header.Invalid","Message":"authorization_header_invalid_format: The authorization header is not valid.","Path":"Authorization"}]}"] with root cause
org.springframework.web.client.HttpClientErrorException$Unauthorized: 401 Unauthorized on GET request for "https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/balances": "{"Code":"UK.OBIE.Header.Invalid","Message":"authorization_header_invalid_format: The authorization header is not valid.","Errors":[{"ErrorCode":"UK.OBIE.Header.Invalid","Message":"authorization_header_invalid_format: The authorization header is not valid.","Path":"Authorization"}]}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:106)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:225)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:163)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:953)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:902)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:751)
	at com.bsp.account.invoker.ApiClient.invokeAPI(ApiClient.java:659)
	at com.bsp.account.api.BalancesApi.getAccountsAccountIdBalancesWithHttpInfo(BalancesApi.java:120)
	at com.bsp.account.api.BalancesApi.getAccountsAccountIdBalances(BalancesApi.java:60)
	at com.bsp.demo.service.CreditService.getAccountBalance(CreditService.java:68)
	at com.bsp.demo.service.CreditService.getAllAccountForUser(CreditService.java:48)
	at com.bsp.demo.controller.CreditController.creditDetails(CreditController.java:23)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:950)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:855)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-07-24 18:45:32 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.web.client.HttpClientErrorException$Unauthorized: 401 Unauthorized on GET request for "https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/balances": "{"Code":"UK.OBIE.Header.Invalid","Message":"authorization_header_invalid_format: The authorization header is not valid.","Errors":[{"ErrorCode":"UK.OBIE.Header.Invalid","Message":"authorization_header_invalid_format: The authorization header is not valid.","Path":"Authorization"}]}"] with root cause
org.springframework.web.client.HttpClientErrorException$Unauthorized: 401 Unauthorized on GET request for "https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/balances": "{"Code":"UK.OBIE.Header.Invalid","Message":"authorization_header_invalid_format: The authorization header is not valid.","Errors":[{"ErrorCode":"UK.OBIE.Header.Invalid","Message":"authorization_header_invalid_format: The authorization header is not valid.","Path":"Authorization"}]}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:106)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:225)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:163)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:953)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:902)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:751)
	at com.bsp.account.invoker.ApiClient.invokeAPI(ApiClient.java:659)
	at com.bsp.account.api.BalancesApi.getAccountsAccountIdBalancesWithHttpInfo(BalancesApi.java:120)
	at com.bsp.account.api.BalancesApi.getAccountsAccountIdBalances(BalancesApi.java:60)
	at com.bsp.demo.service.CreditService.getAccountBalance(CreditService.java:68)
	at com.bsp.demo.service.CreditService.getAllAccountForUser(CreditService.java:48)
	at com.bsp.demo.controller.CreditController.creditDetails(CreditController.java:23)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:950)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:855)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-07-24 18:49:17 INFO  com.bsp.demo.DemoApplication - Starting DemoApplication using Java 21.0.3 with PID 18201 (/Users/ces/Downloads/demo/build/classes/java/main started by ces in /Users/ces/Downloads/demo)
2024-07-24 18:49:17 DEBUG com.bsp.demo.DemoApplication - Running with Spring Boot v3.4.0-SNAPSHOT, Spring v6.2.0-M6
2024-07-24 18:49:17 INFO  com.bsp.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2024-07-24 18:49:18 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-07-24 18:49:18 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-07-24 18:49:18 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-07-24 18:49:18 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-07-24 18:49:18 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-07-24 18:49:18 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 344 ms
2024-07-24 18:49:18 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-07-24 18:49:18 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2024-07-24 18:49:18 INFO  com.bsp.demo.DemoApplication - Started DemoApplication in 0.811 seconds (process running for 0.943)
2024-07-24 18:49:39 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-07-24 18:49:39 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-07-24 18:49:39 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-07-24 18:49:41 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.web.client.HttpClientErrorException$Forbidden: 403 Forbidden on GET request for "https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/direct-debits": "{"Code":"UK.OBIE.Reauthenticate","Message":"UK.OBIE.Reauthenticate: Token has expired","Errors":[{"ErrorCode":"UK.OBIE.Reauthenticate","Message":"UK.OBIE.Reauthenticate: Re-authentication is required","Path":"Authorization"}]}"] with root cause
org.springframework.web.client.HttpClientErrorException$Forbidden: 403 Forbidden on GET request for "https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/direct-debits": "{"Code":"UK.OBIE.Reauthenticate","Message":"UK.OBIE.Reauthenticate: Token has expired","Errors":[{"ErrorCode":"UK.OBIE.Reauthenticate","Message":"UK.OBIE.Reauthenticate: Re-authentication is required","Path":"Authorization"}]}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:109)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:225)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:163)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:953)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:902)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:751)
	at com.bsp.account.invoker.ApiClient.invokeAPI(ApiClient.java:659)
	at com.bsp.account.api.DirectDebitsApi.getAccountsAccountIdDirectDebitsWithHttpInfo(DirectDebitsApi.java:122)
	at com.bsp.account.api.DirectDebitsApi.getAccountsAccountIdDirectDebits(DirectDebitsApi.java:61)
	at com.bsp.demo.service.CreditService.fetchDirectDebitAmount(CreditService.java:145)
	at com.bsp.demo.service.CreditService.getAllAccountForUser(CreditService.java:49)
	at com.bsp.demo.controller.CreditController.creditDetails(CreditController.java:23)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:950)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:855)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-07-24 18:49:59 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.web.client.HttpClientErrorException$Forbidden: 403 Forbidden on GET request for "https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/direct-debits": "{"Code":"UK.OBIE.Reauthenticate","Message":"UK.OBIE.Reauthenticate: Token has expired","Errors":[{"ErrorCode":"UK.OBIE.Reauthenticate","Message":"UK.OBIE.Reauthenticate: Re-authentication is required","Path":"Authorization"}]}"] with root cause
org.springframework.web.client.HttpClientErrorException$Forbidden: 403 Forbidden on GET request for "https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/direct-debits": "{"Code":"UK.OBIE.Reauthenticate","Message":"UK.OBIE.Reauthenticate: Token has expired","Errors":[{"ErrorCode":"UK.OBIE.Reauthenticate","Message":"UK.OBIE.Reauthenticate: Re-authentication is required","Path":"Authorization"}]}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:109)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:225)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:163)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:953)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:902)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:751)
	at com.bsp.account.invoker.ApiClient.invokeAPI(ApiClient.java:659)
	at com.bsp.account.api.DirectDebitsApi.getAccountsAccountIdDirectDebitsWithHttpInfo(DirectDebitsApi.java:122)
	at com.bsp.account.api.DirectDebitsApi.getAccountsAccountIdDirectDebits(DirectDebitsApi.java:61)
	at com.bsp.demo.service.CreditService.fetchDirectDebitAmount(CreditService.java:145)
	at com.bsp.demo.service.CreditService.getAllAccountForUser(CreditService.java:49)
	at com.bsp.demo.controller.CreditController.creditDetails(CreditController.java:23)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:950)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:855)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-07-24 18:53:44 INFO  com.bsp.demo.DemoApplication - Starting DemoApplication using Java 21.0.3 with PID 18558 (/Users/ces/Downloads/demo/build/classes/java/main started by ces in /Users/ces/Downloads/demo)
2024-07-24 18:53:44 DEBUG com.bsp.demo.DemoApplication - Running with Spring Boot v3.4.0-SNAPSHOT, Spring v6.2.0-M6
2024-07-24 18:53:44 INFO  com.bsp.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2024-07-24 18:53:44 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-07-24 18:53:44 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-07-24 18:53:44 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-07-24 18:53:44 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-07-24 18:53:44 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-07-24 18:53:44 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 339 ms
2024-07-24 18:53:44 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-07-24 18:53:44 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2024-07-24 18:53:44 INFO  com.bsp.demo.DemoApplication - Started DemoApplication in 0.803 seconds (process running for 0.934)
2024-07-24 18:53:50 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-07-24 18:53:50 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-07-24 18:53:50 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2024-07-24 18:53:55 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.web.client.HttpClientErrorException$Forbidden: 403 Forbidden on GET request for "https://ckwl5eo409.execute-api.us-east-1.amazonaws.com/hackathonDevStage/calculate": "{"message":"Missing Authentication Token"}<EOL>"] with root cause
org.springframework.web.client.HttpClientErrorException$Forbidden: 403 Forbidden on GET request for "https://ckwl5eo409.execute-api.us-east-1.amazonaws.com/hackathonDevStage/calculate": "{"message":"Missing Authentication Token"}<EOL>"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:109)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:225)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:163)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:953)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:902)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:751)
	at com.aws.credit.invoker.ApiClient.invokeAPI(ApiClient.java:632)
	at com.aws.credit.api.CreditScoreApi.creditScoreWithHttpInfo(CreditScoreApi.java:87)
	at com.aws.credit.api.CreditScoreApi.creditScore(CreditScoreApi.java:50)
	at com.bsp.demo.service.AWSService.getCreditScore(AWSService.java:24)
	at com.bsp.demo.controller.CreditController.creditDetails(CreditController.java:34)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:950)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:855)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-07-24 20:53:25 INFO  com.bsp.demo.DemoApplication - Starting DemoApplication using Java 21.0.3 with PID 22109 (/Users/ces/Downloads/demo/build/classes/java/main started by ces in /Users/ces/Downloads/demo)
2024-07-24 20:53:25 DEBUG com.bsp.demo.DemoApplication - Running with Spring Boot v3.4.0-SNAPSHOT, Spring v6.2.0-M6
2024-07-24 20:53:25 INFO  com.bsp.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2024-07-24 20:53:25 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-07-24 20:53:25 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-07-24 20:53:25 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-07-24 20:53:25 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-07-24 20:53:25 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-07-24 20:53:25 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 434 ms
2024-07-24 20:53:26 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-07-24 20:53:26 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2024-07-24 20:53:26 INFO  com.bsp.demo.DemoApplication - Started DemoApplication in 0.91 seconds (process running for 1.053)
2024-07-24 20:55:33 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-07-24 20:55:33 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-07-24 20:55:33 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-07-24 20:55:38 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.web.client.HttpClientErrorException$Forbidden: 403 Forbidden on GET request for "https://ckwl5eo409.execute-api.us-east-1.amazonaws.com/hackathonDevStage/calculate": "{"message":"Missing Authentication Token"}<EOL>"] with root cause
org.springframework.web.client.HttpClientErrorException$Forbidden: 403 Forbidden on GET request for "https://ckwl5eo409.execute-api.us-east-1.amazonaws.com/hackathonDevStage/calculate": "{"message":"Missing Authentication Token"}<EOL>"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:109)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:225)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:163)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:953)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:902)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:751)
	at com.aws.credit.invoker.ApiClient.invokeAPI(ApiClient.java:632)
	at com.aws.credit.api.CreditScoreApi.creditScoreWithHttpInfo(CreditScoreApi.java:87)
	at com.aws.credit.api.CreditScoreApi.creditScore(CreditScoreApi.java:50)
	at com.bsp.demo.service.AWSService.getCreditScore(AWSService.java:24)
	at com.bsp.demo.controller.CreditController.creditDetails(CreditController.java:34)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:950)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:855)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-07-24 21:06:13 INFO  com.bsp.demo.DemoApplication - Starting DemoApplication using Java 21.0.3 with PID 23217 (/Users/ces/Downloads/demo/build/classes/java/main started by ces in /Users/ces/Downloads/demo)
2024-07-24 21:06:13 DEBUG com.bsp.demo.DemoApplication - Running with Spring Boot v3.4.0-SNAPSHOT, Spring v6.2.0-M6
2024-07-24 21:06:13 INFO  com.bsp.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2024-07-24 21:06:13 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-07-24 21:06:13 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-07-24 21:06:13 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-07-24 21:06:13 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-07-24 21:06:13 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-07-24 21:06:13 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 345 ms
2024-07-24 21:06:13 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-07-24 21:06:13 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2024-07-24 21:06:13 INFO  com.bsp.demo.DemoApplication - Started DemoApplication in 0.814 seconds (process running for 0.971)
2024-07-24 21:06:15 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-07-24 21:06:15 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-07-24 21:06:15 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2024-07-24 21:06:17 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.web.client.HttpClientErrorException$Forbidden: 403 Forbidden on GET request for "https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/direct-debits": "{"Code":"UK.OBIE.Reauthenticate","Message":"UK.OBIE.Reauthenticate: Token has expired","Errors":[{"ErrorCode":"UK.OBIE.Reauthenticate","Message":"UK.OBIE.Reauthenticate: Re-authentication is required","Path":"Authorization"}]}"] with root cause
org.springframework.web.client.HttpClientErrorException$Forbidden: 403 Forbidden on GET request for "https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/direct-debits": "{"Code":"UK.OBIE.Reauthenticate","Message":"UK.OBIE.Reauthenticate: Token has expired","Errors":[{"ErrorCode":"UK.OBIE.Reauthenticate","Message":"UK.OBIE.Reauthenticate: Re-authentication is required","Path":"Authorization"}]}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:109)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:225)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:163)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:953)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:902)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:751)
	at com.bsp.account.invoker.ApiClient.invokeAPI(ApiClient.java:659)
	at com.bsp.account.api.DirectDebitsApi.getAccountsAccountIdDirectDebitsWithHttpInfo(DirectDebitsApi.java:122)
	at com.bsp.account.api.DirectDebitsApi.getAccountsAccountIdDirectDebits(DirectDebitsApi.java:61)
	at com.bsp.demo.service.CreditService.fetchDirectDebitAmount(CreditService.java:145)
	at com.bsp.demo.service.CreditService.getAllAccountForUser(CreditService.java:49)
	at com.bsp.demo.controller.CreditController.creditDetails(CreditController.java:24)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:950)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:855)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-07-24 21:07:30 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.web.client.HttpClientErrorException$Forbidden: 403 Forbidden on GET request for "https://ckwl5eo409.execute-api.us-east-1.amazonaws.com/hackathonDevStage/calculate": "{"message":"Missing Authentication Token"}<EOL>"] with root cause
org.springframework.web.client.HttpClientErrorException$Forbidden: 403 Forbidden on GET request for "https://ckwl5eo409.execute-api.us-east-1.amazonaws.com/hackathonDevStage/calculate": "{"message":"Missing Authentication Token"}<EOL>"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:109)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:225)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:163)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:953)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:902)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:751)
	at com.aws.credit.invoker.ApiClient.invokeAPI(ApiClient.java:632)
	at com.aws.credit.api.CreditScoreApi.creditScoreWithHttpInfo(CreditScoreApi.java:87)
	at com.aws.credit.api.CreditScoreApi.creditScore(CreditScoreApi.java:50)
	at com.bsp.demo.service.AWSService.getCreditScore(AWSService.java:24)
	at com.bsp.demo.controller.CreditController.creditDetails(CreditController.java:34)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:950)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:855)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-07-24 21:08:20 INFO  com.bsp.demo.DemoApplication - Starting DemoApplication using Java 21.0.3 with PID 23369 (/Users/ces/Downloads/demo/build/classes/java/main started by ces in /Users/ces/Downloads/demo)
2024-07-24 21:08:20 DEBUG com.bsp.demo.DemoApplication - Running with Spring Boot v3.4.0-SNAPSHOT, Spring v6.2.0-M6
2024-07-24 21:08:20 INFO  com.bsp.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2024-07-24 21:08:20 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-07-24 21:08:20 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-07-24 21:08:20 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-07-24 21:08:20 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-07-24 21:08:20 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-07-24 21:08:20 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 347 ms
2024-07-24 21:08:20 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-07-24 21:08:20 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2024-07-24 21:08:20 INFO  com.bsp.demo.DemoApplication - Started DemoApplication in 0.814 seconds (process running for 0.949)
2024-07-24 21:08:29 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-07-24 21:08:29 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-07-24 21:08:29 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-07-24 21:08:35 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.web.client.HttpClientErrorException$Forbidden: 403 Forbidden on GET request for "https://ckwl5eo409.execute-api.us-east-1.amazonaws.com/hackathonDevStage/calculate": "{"message":"Missing Authentication Token"}<EOL>"] with root cause
org.springframework.web.client.HttpClientErrorException$Forbidden: 403 Forbidden on GET request for "https://ckwl5eo409.execute-api.us-east-1.amazonaws.com/hackathonDevStage/calculate": "{"message":"Missing Authentication Token"}<EOL>"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:109)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:225)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:163)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:953)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:902)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:751)
	at com.aws.credit.invoker.ApiClient.invokeAPI(ApiClient.java:632)
	at com.aws.credit.api.CreditScoreApi.creditScoreWithHttpInfo(CreditScoreApi.java:87)
	at com.aws.credit.api.CreditScoreApi.creditScore(CreditScoreApi.java:50)
	at com.bsp.demo.service.AWSService.getCreditScore(AWSService.java:24)
	at com.bsp.demo.controller.CreditController.creditDetails(CreditController.java:34)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:950)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:855)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-07-24 21:28:41 INFO  com.bsp.demo.DemoApplication - Starting DemoApplication using Java 21.0.3 with PID 25077 (/Users/ces/Downloads/demo/build/classes/java/main started by ces in /Users/ces/Downloads/demo)
2024-07-24 21:28:41 DEBUG com.bsp.demo.DemoApplication - Running with Spring Boot v3.4.0-SNAPSHOT, Spring v6.2.0-M6
2024-07-24 21:28:41 INFO  com.bsp.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2024-07-24 21:28:42 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-07-24 21:28:42 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-07-24 21:28:42 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-07-24 21:28:42 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-07-24 21:28:42 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-07-24 21:28:42 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 372 ms
2024-07-24 21:28:42 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-07-24 21:28:42 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2024-07-24 21:28:42 INFO  com.bsp.demo.DemoApplication - Started DemoApplication in 0.884 seconds (process running for 1.028)
2024-07-24 21:28:53 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-07-24 21:28:53 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-07-24 21:28:53 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-07-24 21:28:53 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts
2024-07-24 21:28:53 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 21:28:53 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 21:28:53 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadAccount6]
2024-07-24 21:28:53 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/balances
2024-07-24 21:28:53 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 21:28:54 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 21:28:54 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadBalance1]
2024-07-24 21:28:54 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/0cfc13e3-03a7-4880-9c65-4234894bab6b/balances
2024-07-24 21:28:54 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 21:28:54 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 21:28:54 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadBalance1]
2024-07-24 21:28:54 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/direct-debits
2024-07-24 21:28:54 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 21:28:55 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 21:28:55 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadDirectDebit2]
2024-07-24 21:28:55 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/0cfc13e3-03a7-4880-9c65-4234894bab6b/direct-debits
2024-07-24 21:28:55 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 21:28:56 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 21:28:56 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadDirectDebit2]
2024-07-24 21:28:56 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/scheduled-payments
2024-07-24 21:28:56 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 21:28:56 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 21:28:56 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadScheduledPayment3]
2024-07-24 21:28:56 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/0cfc13e3-03a7-4880-9c65-4234894bab6b/scheduled-payments
2024-07-24 21:28:56 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 21:28:57 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 21:28:57 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadScheduledPayment3]
2024-07-24 21:28:57 DEBUG o.s.web.client.RestTemplate - HTTP GET https://ckwl5eo409.execute-api.us-east-1.amazonaws.com/hackathonDevStage/calculate
2024-07-24 21:28:57 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 21:28:57 DEBUG o.s.web.client.RestTemplate - Writing [class CreditScoreRequest {
    totalIncome: 3500.0
    totalExpenses: null
    creditLine: 2000.0
    existingBalance: 3500.0
    totalCredits: 3500.0
    totalDebits: null
    totalDebtObligations: 4079.62
}] as "application/json"
2024-07-24 21:28:58 DEBUG o.s.web.client.RestTemplate - Response 403 FORBIDDEN
2024-07-24 21:28:58 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.web.client.HttpClientErrorException$Forbidden: 403 Forbidden on GET request for "https://ckwl5eo409.execute-api.us-east-1.amazonaws.com/hackathonDevStage/calculate": "{"message":"Missing Authentication Token"}<EOL>"] with root cause
org.springframework.web.client.HttpClientErrorException$Forbidden: 403 Forbidden on GET request for "https://ckwl5eo409.execute-api.us-east-1.amazonaws.com/hackathonDevStage/calculate": "{"message":"Missing Authentication Token"}<EOL>"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:109)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:225)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:163)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:953)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:902)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:751)
	at com.aws.credit.invoker.ApiClient.invokeAPI(ApiClient.java:632)
	at com.aws.credit.api.CreditScoreApi.creditScoreWithHttpInfo(CreditScoreApi.java:87)
	at com.aws.credit.api.CreditScoreApi.creditScore(CreditScoreApi.java:50)
	at com.bsp.demo.service.AWSService.getCreditScore(AWSService.java:24)
	at com.bsp.demo.controller.CreditController.creditDetails(CreditController.java:34)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:950)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:855)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-07-24 21:42:51 INFO  com.bsp.demo.DemoApplication - Starting DemoApplication using Java 21.0.3 with PID 26033 (/Users/ces/Downloads/demo/build/classes/java/main started by ces in /Users/ces/Downloads/demo)
2024-07-24 21:42:51 DEBUG com.bsp.demo.DemoApplication - Running with Spring Boot v3.4.0-SNAPSHOT, Spring v6.2.0-M6
2024-07-24 21:42:51 INFO  com.bsp.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2024-07-24 21:42:51 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-07-24 21:42:51 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-07-24 21:42:51 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-07-24 21:42:51 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-07-24 21:42:52 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-07-24 21:42:52 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 390 ms
2024-07-24 21:42:52 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-07-24 21:42:52 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2024-07-24 21:42:52 INFO  com.bsp.demo.DemoApplication - Started DemoApplication in 0.92 seconds (process running for 1.077)
2024-07-24 21:43:33 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-07-24 21:43:33 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-07-24 21:43:33 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-07-24 21:43:46 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts
2024-07-24 21:43:46 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 21:43:47 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 21:43:47 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadAccount6]
2024-07-24 21:43:47 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/balances
2024-07-24 21:43:47 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 21:43:48 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 21:43:48 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadBalance1]
2024-07-24 21:43:48 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/0cfc13e3-03a7-4880-9c65-4234894bab6b/balances
2024-07-24 21:43:48 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 21:43:48 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 21:43:48 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadBalance1]
2024-07-24 21:43:48 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/direct-debits
2024-07-24 21:43:48 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 21:43:49 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 21:43:49 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadDirectDebit2]
2024-07-24 21:43:49 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/0cfc13e3-03a7-4880-9c65-4234894bab6b/direct-debits
2024-07-24 21:43:49 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 21:43:49 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 21:43:49 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadDirectDebit2]
2024-07-24 21:43:49 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/scheduled-payments
2024-07-24 21:43:49 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 21:43:50 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 21:43:50 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadScheduledPayment3]
2024-07-24 21:43:50 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/0cfc13e3-03a7-4880-9c65-4234894bab6b/scheduled-payments
2024-07-24 21:43:50 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 21:43:51 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 21:43:51 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadScheduledPayment3]
2024-07-24 21:43:58 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.IllegalArgumentException: URI is not absolute] with root cause
java.lang.IllegalArgumentException: URI is not absolute
	at java.base/java.net.URL.of(URL.java:862)
	at java.base/java.net.URI.toURL(URI.java:1172)
	at org.springframework.http.client.SimpleClientHttpRequestFactory.createRequest(SimpleClientHttpRequestFactory.java:154)
	at org.springframework.http.client.support.HttpAccessor.createRequest(HttpAccessor.java:124)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:884)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:801)
	at org.springframework.web.client.RestTemplate.postForEntity(RestTemplate.java:549)
	at com.bsp.demo.service.AWSService.getCreditScore(AWSService.java:35)
	at com.bsp.demo.controller.CreditController.creditDetails(CreditController.java:34)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:950)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:855)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-07-24 21:44:55 INFO  com.bsp.demo.DemoApplication - Starting DemoApplication using Java 21.0.3 with PID 26178 (/Users/ces/Downloads/demo/build/classes/java/main started by ces in /Users/ces/Downloads/demo)
2024-07-24 21:44:55 DEBUG com.bsp.demo.DemoApplication - Running with Spring Boot v3.4.0-SNAPSHOT, Spring v6.2.0-M6
2024-07-24 21:44:55 INFO  com.bsp.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2024-07-24 21:44:55 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-07-24 21:44:55 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-07-24 21:44:55 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-07-24 21:44:55 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-07-24 21:44:56 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-07-24 21:44:56 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 373 ms
2024-07-24 21:44:56 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-07-24 21:44:56 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2024-07-24 21:44:56 INFO  com.bsp.demo.DemoApplication - Started DemoApplication in 0.879 seconds (process running for 1.028)
2024-07-24 21:45:00 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-07-24 21:45:00 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-07-24 21:45:00 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-07-24 21:45:00 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts
2024-07-24 21:45:00 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 21:45:01 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 21:45:01 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadAccount6]
2024-07-24 21:45:01 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/balances
2024-07-24 21:45:01 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 21:45:02 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 21:45:02 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadBalance1]
2024-07-24 21:45:02 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/0cfc13e3-03a7-4880-9c65-4234894bab6b/balances
2024-07-24 21:45:02 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 21:45:02 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 21:45:02 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadBalance1]
2024-07-24 21:45:02 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/direct-debits
2024-07-24 21:45:02 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 21:45:03 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 21:45:03 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadDirectDebit2]
2024-07-24 21:45:03 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/0cfc13e3-03a7-4880-9c65-4234894bab6b/direct-debits
2024-07-24 21:45:03 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 21:45:03 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 21:45:03 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadDirectDebit2]
2024-07-24 21:45:03 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/scheduled-payments
2024-07-24 21:45:03 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 21:45:04 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 21:45:04 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadScheduledPayment3]
2024-07-24 21:45:04 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/0cfc13e3-03a7-4880-9c65-4234894bab6b/scheduled-payments
2024-07-24 21:45:04 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 21:45:04 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 21:45:04 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadScheduledPayment3]
2024-07-24 21:45:05 DEBUG o.s.web.client.RestTemplate - HTTP POST https://ckwl5eo409.execute-api.us-east-1.amazonaws.com/hackathonDevStage/calculate
2024-07-24 21:45:05 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 21:45:05 DEBUG o.s.web.client.RestTemplate - Writing [class CreditScoreRequest {
    totalIncome: 3500.0
    totalExpenses: null
    creditLine: 2000.0
    existingBalance: 3500.0
    totalCredits: 3500.0
    totalDebits: null
    totalDebtObligations: 4079.62
}] with org.springframework.http.converter.json.MappingJackson2HttpMessageConverter
2024-07-24 21:45:06 DEBUG o.s.web.client.RestTemplate - Response 502 BAD_GATEWAY
2024-07-24 21:45:06 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.web.client.HttpServerErrorException$BadGateway: 502 Bad Gateway on POST request for "https://ckwl5eo409.execute-api.us-east-1.amazonaws.com/hackathonDevStage/calculate": "{"message": "Internal server error"}"] with root cause
org.springframework.web.client.HttpServerErrorException$BadGateway: 502 Bad Gateway on POST request for "https://ckwl5eo409.execute-api.us-east-1.amazonaws.com/hackathonDevStage/calculate": "{"message": "Internal server error"}"
	at org.springframework.web.client.HttpServerErrorException.create(HttpServerErrorException.java:108)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:228)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:163)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:953)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:902)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:801)
	at org.springframework.web.client.RestTemplate.postForEntity(RestTemplate.java:549)
	at com.bsp.demo.service.AWSService.getCreditScore(AWSService.java:35)
	at com.bsp.demo.controller.CreditController.creditDetails(CreditController.java:34)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:950)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:855)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-07-24 21:46:42 INFO  com.bsp.demo.DemoApplication - Starting DemoApplication using Java 21.0.3 with PID 26320 (/Users/ces/Downloads/demo/build/classes/java/main started by ces in /Users/ces/Downloads/demo)
2024-07-24 21:46:42 DEBUG com.bsp.demo.DemoApplication - Running with Spring Boot v3.4.0-SNAPSHOT, Spring v6.2.0-M6
2024-07-24 21:46:42 INFO  com.bsp.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2024-07-24 21:47:08 INFO  com.bsp.demo.DemoApplication - Starting DemoApplication using Java 21.0.3 with PID 26397 (/Users/ces/Downloads/demo/build/classes/java/main started by ces in /Users/ces/Downloads/demo)
2024-07-24 21:47:08 DEBUG com.bsp.demo.DemoApplication - Running with Spring Boot v3.4.0-SNAPSHOT, Spring v6.2.0-M6
2024-07-24 21:47:08 INFO  com.bsp.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2024-07-24 21:47:09 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-07-24 21:47:09 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-07-24 21:47:09 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-07-24 21:47:09 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-07-24 21:47:09 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-07-24 21:47:09 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 368 ms
2024-07-24 21:47:09 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-07-24 21:47:09 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2024-07-24 21:47:09 INFO  com.bsp.demo.DemoApplication - Started DemoApplication in 0.872 seconds (process running for 1.011)
2024-07-24 21:47:19 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-07-24 21:47:19 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-07-24 21:47:19 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-07-24 21:47:19 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts
2024-07-24 21:47:19 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 21:47:19 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 21:47:19 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadAccount6]
2024-07-24 21:47:19 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/balances
2024-07-24 21:47:19 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 21:47:20 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 21:47:20 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadBalance1]
2024-07-24 21:47:20 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/0cfc13e3-03a7-4880-9c65-4234894bab6b/balances
2024-07-24 21:47:20 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 21:47:21 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 21:47:21 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadBalance1]
2024-07-24 21:47:21 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/direct-debits
2024-07-24 21:47:21 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 21:47:21 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 21:47:21 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadDirectDebit2]
2024-07-24 21:47:21 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/0cfc13e3-03a7-4880-9c65-4234894bab6b/direct-debits
2024-07-24 21:47:21 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 21:47:22 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 21:47:22 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadDirectDebit2]
2024-07-24 21:47:22 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/scheduled-payments
2024-07-24 21:47:22 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 21:47:22 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 21:47:22 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadScheduledPayment3]
2024-07-24 21:47:22 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/0cfc13e3-03a7-4880-9c65-4234894bab6b/scheduled-payments
2024-07-24 21:47:22 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 21:47:23 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 21:47:23 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadScheduledPayment3]
2024-07-24 21:47:23 DEBUG o.s.web.client.RestTemplate - HTTP POST https://ckwl5eo409.execute-api.us-east-1.amazonaws.com/hackathonDevStage/calculate
2024-07-24 21:47:23 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 21:47:23 DEBUG o.s.web.client.RestTemplate - Writing [class CreditScoreRequest {
    totalIncome: 3500.0
    totalExpenses: null
    creditLine: 2000.0
    existingBalance: 3500.0
    totalCredits: 3500.0
    totalDebits: null
    totalDebtObligations: 4079.62
}] as "application/json"
2024-07-24 21:47:24 DEBUG o.s.web.client.RestTemplate - Response 502 BAD_GATEWAY
2024-07-24 21:47:24 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.web.client.HttpServerErrorException$BadGateway: 502 Bad Gateway on POST request for "https://ckwl5eo409.execute-api.us-east-1.amazonaws.com/hackathonDevStage/calculate": "{"message": "Internal server error"}"] with root cause
org.springframework.web.client.HttpServerErrorException$BadGateway: 502 Bad Gateway on POST request for "https://ckwl5eo409.execute-api.us-east-1.amazonaws.com/hackathonDevStage/calculate": "{"message": "Internal server error"}"
	at org.springframework.web.client.HttpServerErrorException.create(HttpServerErrorException.java:108)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:228)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:163)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:953)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:902)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:751)
	at com.aws.credit.invoker.ApiClient.invokeAPI(ApiClient.java:632)
	at com.aws.credit.api.CreditScoreApi.creditScoreWithHttpInfo(CreditScoreApi.java:87)
	at com.aws.credit.api.CreditScoreApi.creditScore(CreditScoreApi.java:50)
	at com.bsp.demo.service.AWSService.getCreditScore(AWSService.java:32)
	at com.bsp.demo.controller.CreditController.creditDetails(CreditController.java:34)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:950)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:855)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-07-24 21:50:02 INFO  com.bsp.demo.DemoApplication - Starting DemoApplication using Java 21.0.3 with PID 26658 (/Users/ces/Downloads/demo/build/classes/java/main started by ces in /Users/ces/Downloads/demo)
2024-07-24 21:50:02 DEBUG com.bsp.demo.DemoApplication - Running with Spring Boot v3.4.0-SNAPSHOT, Spring v6.2.0-M6
2024-07-24 21:50:02 INFO  com.bsp.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2024-07-24 21:50:03 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-07-24 21:50:03 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-07-24 21:50:03 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-07-24 21:50:03 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-07-24 21:50:03 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-07-24 21:50:03 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 384 ms
2024-07-24 21:50:03 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-07-24 21:50:03 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2024-07-24 21:50:03 INFO  com.bsp.demo.DemoApplication - Started DemoApplication in 0.904 seconds (process running for 1.06)
2024-07-24 21:50:09 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-07-24 21:50:09 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-07-24 21:50:09 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2024-07-24 21:50:09 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts
2024-07-24 21:50:09 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 21:50:10 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 21:50:10 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadAccount6]
2024-07-24 21:50:10 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/balances
2024-07-24 21:50:10 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 21:50:11 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 21:50:11 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadBalance1]
2024-07-24 21:50:11 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/0cfc13e3-03a7-4880-9c65-4234894bab6b/balances
2024-07-24 21:50:11 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 21:50:11 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 21:50:11 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadBalance1]
2024-07-24 21:50:11 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/direct-debits
2024-07-24 21:50:11 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 21:50:12 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 21:50:12 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadDirectDebit2]
2024-07-24 21:50:12 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/0cfc13e3-03a7-4880-9c65-4234894bab6b/direct-debits
2024-07-24 21:50:12 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 21:50:12 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 21:50:12 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadDirectDebit2]
2024-07-24 21:50:12 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/scheduled-payments
2024-07-24 21:50:12 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 21:50:13 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 21:50:13 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadScheduledPayment3]
2024-07-24 21:50:13 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/0cfc13e3-03a7-4880-9c65-4234894bab6b/scheduled-payments
2024-07-24 21:50:13 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 21:50:13 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 21:50:13 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadScheduledPayment3]
2024-07-24 21:50:26 DEBUG o.s.web.client.RestTemplate - HTTP POST https://ckwl5eo409.execute-api.us-east-1.amazonaws.com/hackathonDevStage/calculate
2024-07-24 21:50:26 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 21:50:26 DEBUG o.s.web.client.RestTemplate - Writing [class CreditScoreRequest {
    totalIncome: 3500.0
    totalExpenses: null
    creditLine: 2000.0
    existingBalance: 3500.0
    totalCredits: 3500.0
    totalDebits: null
    totalDebtObligations: 4079.62
}] as "application/json"
2024-07-24 21:50:27 DEBUG o.s.web.client.RestTemplate - Response 502 BAD_GATEWAY
2024-07-24 21:50:36 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.web.client.HttpServerErrorException$BadGateway: 502 Bad Gateway on POST request for "https://ckwl5eo409.execute-api.us-east-1.amazonaws.com/hackathonDevStage/calculate": "{"message": "Internal server error"}"] with root cause
org.springframework.web.client.HttpServerErrorException$BadGateway: 502 Bad Gateway on POST request for "https://ckwl5eo409.execute-api.us-east-1.amazonaws.com/hackathonDevStage/calculate": "{"message": "Internal server error"}"
	at org.springframework.web.client.HttpServerErrorException.create(HttpServerErrorException.java:108)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:228)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:163)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:953)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:902)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:751)
	at com.aws.credit.invoker.ApiClient.invokeAPI(ApiClient.java:632)
	at com.aws.credit.api.CreditScoreApi.creditScoreWithHttpInfo(CreditScoreApi.java:87)
	at com.aws.credit.api.CreditScoreApi.creditScore(CreditScoreApi.java:50)
	at com.bsp.demo.service.AWSService.getCreditScore(AWSService.java:32)
	at com.bsp.demo.controller.CreditController.creditDetails(CreditController.java:34)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:950)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:855)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-07-24 21:52:21 INFO  com.bsp.demo.DemoApplication - Starting DemoApplication using Java 21.0.3 with PID 26834 (/Users/ces/Downloads/demo/build/classes/java/main started by ces in /Users/ces/Downloads/demo)
2024-07-24 21:52:21 DEBUG com.bsp.demo.DemoApplication - Running with Spring Boot v3.4.0-SNAPSHOT, Spring v6.2.0-M6
2024-07-24 21:52:21 INFO  com.bsp.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2024-07-24 21:52:21 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-07-24 21:52:21 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-07-24 21:52:21 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-07-24 21:52:21 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-07-24 21:52:21 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-07-24 21:52:21 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 355 ms
2024-07-24 21:52:22 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-07-24 21:52:22 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2024-07-24 21:52:22 INFO  com.bsp.demo.DemoApplication - Started DemoApplication in 0.837 seconds (process running for 0.983)
2024-07-24 21:52:31 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-07-24 21:52:31 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-07-24 21:52:31 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2024-07-24 21:52:31 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts
2024-07-24 21:52:31 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 21:52:32 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 21:52:32 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadAccount6]
2024-07-24 21:52:32 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/balances
2024-07-24 21:52:32 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 21:52:33 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 21:52:33 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadBalance1]
2024-07-24 21:52:33 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/0cfc13e3-03a7-4880-9c65-4234894bab6b/balances
2024-07-24 21:52:33 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 21:52:33 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 21:52:33 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadBalance1]
2024-07-24 21:52:33 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/direct-debits
2024-07-24 21:52:33 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 21:52:34 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 21:52:34 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadDirectDebit2]
2024-07-24 21:52:34 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/0cfc13e3-03a7-4880-9c65-4234894bab6b/direct-debits
2024-07-24 21:52:34 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 21:52:34 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 21:52:34 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadDirectDebit2]
2024-07-24 21:52:34 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/scheduled-payments
2024-07-24 21:52:34 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 21:52:35 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 21:52:35 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadScheduledPayment3]
2024-07-24 21:52:35 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/0cfc13e3-03a7-4880-9c65-4234894bab6b/scheduled-payments
2024-07-24 21:52:35 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 21:52:35 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 21:52:35 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadScheduledPayment3]
2024-07-24 21:52:35 DEBUG o.s.web.client.RestTemplate - HTTP POST https://ckwl5eo409.execute-api.us-east-1.amazonaws.com/hackathonDevStage/calculate
2024-07-24 21:52:35 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 21:52:35 DEBUG o.s.web.client.RestTemplate - Writing [class CreditScoreRequest {
    totalIncome: 3500.0
    totalExpenses: null
    creditLine: 2000.0
    existingBalance: 3500.0
    totalCredits: 3500.0
    totalDebits: null
    totalDebtObligations: 4079.62
}] as "application/json"
2024-07-24 21:52:36 DEBUG o.s.web.client.RestTemplate - Response 502 BAD_GATEWAY
2024-07-24 21:52:36 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.web.client.HttpServerErrorException$BadGateway: 502 Bad Gateway on POST request for "https://ckwl5eo409.execute-api.us-east-1.amazonaws.com/hackathonDevStage/calculate": "{"message": "Internal server error"}"] with root cause
org.springframework.web.client.HttpServerErrorException$BadGateway: 502 Bad Gateway on POST request for "https://ckwl5eo409.execute-api.us-east-1.amazonaws.com/hackathonDevStage/calculate": "{"message": "Internal server error"}"
	at org.springframework.web.client.HttpServerErrorException.create(HttpServerErrorException.java:108)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:228)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:163)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:953)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:902)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:751)
	at com.aws.credit.invoker.ApiClient.invokeAPI(ApiClient.java:632)
	at com.aws.credit.api.CreditScoreApi.creditScoreWithHttpInfo(CreditScoreApi.java:87)
	at com.aws.credit.api.CreditScoreApi.creditScore(CreditScoreApi.java:50)
	at com.bsp.demo.service.AWSService.getCreditScore(AWSService.java:32)
	at com.bsp.demo.controller.CreditController.creditDetails(CreditController.java:34)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:950)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:855)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-07-24 21:56:43 INFO  com.bsp.demo.DemoApplication - Starting DemoApplication using Java 21.0.3 with PID 27315 (/Users/ces/Downloads/demo/build/classes/java/main started by ces in /Users/ces/Downloads/demo)
2024-07-24 21:56:43 DEBUG com.bsp.demo.DemoApplication - Running with Spring Boot v3.4.0-SNAPSHOT, Spring v6.2.0-M6
2024-07-24 21:56:43 INFO  com.bsp.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2024-07-24 21:56:43 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-07-24 21:56:43 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-07-24 21:56:43 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-07-24 21:56:43 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-07-24 21:56:43 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-07-24 21:56:43 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 358 ms
2024-07-24 21:56:43 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-07-24 21:56:43 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2024-07-24 21:56:43 INFO  com.bsp.demo.DemoApplication - Started DemoApplication in 0.852 seconds (process running for 0.992)
2024-07-24 21:56:56 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-07-24 21:56:56 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-07-24 21:56:56 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-07-24 21:56:56 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts
2024-07-24 21:56:56 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 21:56:57 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 21:56:57 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadAccount6]
2024-07-24 21:56:57 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/balances
2024-07-24 21:56:57 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 21:56:57 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 21:56:57 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadBalance1]
2024-07-24 21:56:57 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/0cfc13e3-03a7-4880-9c65-4234894bab6b/balances
2024-07-24 21:56:57 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 21:56:58 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 21:56:58 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadBalance1]
2024-07-24 21:56:58 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/direct-debits
2024-07-24 21:56:58 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 21:56:58 DEBUG o.s.web.client.RestTemplate - Response 403 FORBIDDEN
2024-07-24 21:56:58 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.web.client.HttpClientErrorException$Forbidden: 403 Forbidden on GET request for "https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/direct-debits": "{"Code":"UK.OBIE.Reauthenticate","Message":"UK.OBIE.Reauthenticate: Token has expired","Errors":[{"ErrorCode":"UK.OBIE.Reauthenticate","Message":"UK.OBIE.Reauthenticate: Re-authentication is required","Path":"Authorization"}]}"] with root cause
org.springframework.web.client.HttpClientErrorException$Forbidden: 403 Forbidden on GET request for "https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/direct-debits": "{"Code":"UK.OBIE.Reauthenticate","Message":"UK.OBIE.Reauthenticate: Token has expired","Errors":[{"ErrorCode":"UK.OBIE.Reauthenticate","Message":"UK.OBIE.Reauthenticate: Re-authentication is required","Path":"Authorization"}]}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:109)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:225)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:163)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:953)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:902)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:751)
	at com.bsp.account.invoker.ApiClient.invokeAPI(ApiClient.java:659)
	at com.bsp.account.api.DirectDebitsApi.getAccountsAccountIdDirectDebitsWithHttpInfo(DirectDebitsApi.java:122)
	at com.bsp.account.api.DirectDebitsApi.getAccountsAccountIdDirectDebits(DirectDebitsApi.java:61)
	at com.bsp.demo.service.CreditService.fetchDirectDebitAmount(CreditService.java:145)
	at com.bsp.demo.service.CreditService.getAllAccountForUser(CreditService.java:49)
	at com.bsp.demo.controller.CreditController.creditDetails(CreditController.java:24)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:950)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:855)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-07-24 21:58:00 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts
2024-07-24 21:58:00 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 21:58:00 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 21:58:00 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadAccount6]
2024-07-24 21:58:00 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/balances
2024-07-24 21:58:00 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 21:58:01 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 21:58:01 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadBalance1]
2024-07-24 21:58:01 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/0cfc13e3-03a7-4880-9c65-4234894bab6b/balances
2024-07-24 21:58:01 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 21:58:01 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 21:58:01 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadBalance1]
2024-07-24 21:58:01 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/direct-debits
2024-07-24 21:58:01 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 21:58:02 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 21:58:02 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadDirectDebit2]
2024-07-24 21:58:02 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/0cfc13e3-03a7-4880-9c65-4234894bab6b/direct-debits
2024-07-24 21:58:02 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 21:58:02 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 21:58:02 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadDirectDebit2]
2024-07-24 21:58:02 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/scheduled-payments
2024-07-24 21:58:02 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 21:58:03 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 21:58:03 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadScheduledPayment3]
2024-07-24 21:58:03 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/0cfc13e3-03a7-4880-9c65-4234894bab6b/scheduled-payments
2024-07-24 21:58:03 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 21:58:04 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 21:58:04 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadScheduledPayment3]
2024-07-24 21:58:04 DEBUG o.s.web.client.RestTemplate - HTTP POST https://ckwl5eo409.execute-api.us-east-1.amazonaws.com/hackathonDevStage/calculate
2024-07-24 21:58:04 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 21:58:04 DEBUG o.s.web.client.RestTemplate - Writing [class CreditScoreRequest {
    totalIncome: 3500.0
    totalExpenses: null
    creditLine: 2000.0
    existingBalance: 3500.0
    totalCredits: 3500.0
    totalDebits: null
    totalDebtObligations: 4079.62
}] as "application/json"
2024-07-24 21:58:05 DEBUG o.s.web.client.RestTemplate - Response 502 BAD_GATEWAY
2024-07-24 21:58:05 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.web.client.HttpServerErrorException$BadGateway: 502 Bad Gateway on POST request for "https://ckwl5eo409.execute-api.us-east-1.amazonaws.com/hackathonDevStage/calculate": "{"message": "Internal server error"}"] with root cause
org.springframework.web.client.HttpServerErrorException$BadGateway: 502 Bad Gateway on POST request for "https://ckwl5eo409.execute-api.us-east-1.amazonaws.com/hackathonDevStage/calculate": "{"message": "Internal server error"}"
	at org.springframework.web.client.HttpServerErrorException.create(HttpServerErrorException.java:108)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:228)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:163)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:953)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:902)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:751)
	at com.aws.credit.invoker.ApiClient.invokeAPI(ApiClient.java:632)
	at com.aws.credit.api.CreditScoreApi.creditScoreWithHttpInfo(CreditScoreApi.java:87)
	at com.aws.credit.api.CreditScoreApi.creditScore(CreditScoreApi.java:50)
	at com.bsp.demo.service.AWSService.getCreditScore(AWSService.java:27)
	at com.bsp.demo.controller.CreditController.creditDetails(CreditController.java:34)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:950)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:855)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-07-24 22:03:43 INFO  com.bsp.demo.DemoApplication - Starting DemoApplication using Java 21.0.3 with PID 27729 (/Users/ces/Downloads/demo/build/classes/java/main started by ces in /Users/ces/Downloads/demo)
2024-07-24 22:03:43 DEBUG com.bsp.demo.DemoApplication - Running with Spring Boot v3.4.0-SNAPSHOT, Spring v6.2.0-M6
2024-07-24 22:03:43 INFO  com.bsp.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2024-07-24 22:03:44 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-07-24 22:03:44 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-07-24 22:03:44 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-07-24 22:03:44 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-07-24 22:03:44 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-07-24 22:03:44 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 388 ms
2024-07-24 22:03:44 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-07-24 22:03:44 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2024-07-24 22:03:44 INFO  com.bsp.demo.DemoApplication - Started DemoApplication in 0.911 seconds (process running for 1.055)
2024-07-24 22:03:57 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-07-24 22:03:57 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-07-24 22:03:57 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-07-24 22:03:57 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts
2024-07-24 22:03:57 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 22:03:57 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 22:03:58 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadAccount6]
2024-07-24 22:03:58 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/balances
2024-07-24 22:03:58 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 22:03:58 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 22:03:58 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadBalance1]
2024-07-24 22:03:58 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/0cfc13e3-03a7-4880-9c65-4234894bab6b/balances
2024-07-24 22:03:58 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 22:03:59 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 22:03:59 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadBalance1]
2024-07-24 22:03:59 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/direct-debits
2024-07-24 22:03:59 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 22:03:59 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 22:03:59 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadDirectDebit2]
2024-07-24 22:03:59 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/0cfc13e3-03a7-4880-9c65-4234894bab6b/direct-debits
2024-07-24 22:03:59 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 22:04:00 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 22:04:00 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadDirectDebit2]
2024-07-24 22:04:00 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/scheduled-payments
2024-07-24 22:04:00 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 22:04:00 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 22:04:00 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadScheduledPayment3]
2024-07-24 22:04:00 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/0cfc13e3-03a7-4880-9c65-4234894bab6b/scheduled-payments
2024-07-24 22:04:00 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 22:04:01 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 22:04:01 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadScheduledPayment3]
2024-07-24 22:04:01 DEBUG o.s.web.client.RestTemplate - HTTP POST https://ckwl5eo409.execute-api.us-east-1.amazonaws.com/hackathonDevStage/calculate
2024-07-24 22:04:01 DEBUG o.s.web.client.RestTemplate - Accept=[text/plain, application/json, application/*+json, */*]
2024-07-24 22:04:01 DEBUG o.s.web.client.RestTemplate - Writing [class CreditScoreRequest {
    totalIncome: 3500.0
    totalExpenses: null
    creditLine: 2000.0
    existingBalance: 3500.0
    totalCredits: 3500.0
    totalDebits: null
    totalDebtObligations: 4079.62
}] with org.springframework.http.converter.json.MappingJackson2HttpMessageConverter
2024-07-24 22:04:02 DEBUG o.s.web.client.RestTemplate - Response 502 BAD_GATEWAY
2024-07-24 22:04:02 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.web.client.HttpServerErrorException$BadGateway: 502 Bad Gateway on POST request for "https://ckwl5eo409.execute-api.us-east-1.amazonaws.com/hackathonDevStage/calculate": "{"message": "Internal server error"}"] with root cause
org.springframework.web.client.HttpServerErrorException$BadGateway: 502 Bad Gateway on POST request for "https://ckwl5eo409.execute-api.us-east-1.amazonaws.com/hackathonDevStage/calculate": "{"message": "Internal server error"}"
	at org.springframework.web.client.HttpServerErrorException.create(HttpServerErrorException.java:108)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:228)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:163)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:953)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:902)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:801)
	at org.springframework.web.client.RestTemplate.postForEntity(RestTemplate.java:549)
	at com.bsp.demo.service.AWSService.getCreditScore(AWSService.java:34)
	at com.bsp.demo.controller.CreditController.creditDetails(CreditController.java:34)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:950)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:855)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-07-24 22:04:49 INFO  com.bsp.demo.DemoApplication - Starting DemoApplication using Java 21.0.3 with PID 27825 (/Users/ces/Downloads/demo/build/classes/java/main started by ces in /Users/ces/Downloads/demo)
2024-07-24 22:04:49 DEBUG com.bsp.demo.DemoApplication - Running with Spring Boot v3.4.0-SNAPSHOT, Spring v6.2.0-M6
2024-07-24 22:04:49 INFO  com.bsp.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2024-07-24 22:04:49 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-07-24 22:04:49 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-07-24 22:04:49 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-07-24 22:04:49 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-07-24 22:04:49 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-07-24 22:04:49 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 338 ms
2024-07-24 22:04:49 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-07-24 22:04:49 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2024-07-24 22:04:49 INFO  com.bsp.demo.DemoApplication - Started DemoApplication in 0.84 seconds (process running for 0.986)
2024-07-24 22:04:57 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-07-24 22:04:57 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-07-24 22:04:57 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-07-24 22:04:57 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts
2024-07-24 22:04:57 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 22:04:58 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 22:04:58 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadAccount6]
2024-07-24 22:04:58 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/balances
2024-07-24 22:04:58 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 22:04:59 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 22:04:59 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadBalance1]
2024-07-24 22:04:59 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/0cfc13e3-03a7-4880-9c65-4234894bab6b/balances
2024-07-24 22:04:59 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 22:04:59 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 22:04:59 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadBalance1]
2024-07-24 22:04:59 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/direct-debits
2024-07-24 22:04:59 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 22:05:00 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 22:05:00 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadDirectDebit2]
2024-07-24 22:05:00 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/0cfc13e3-03a7-4880-9c65-4234894bab6b/direct-debits
2024-07-24 22:05:00 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 22:05:00 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 22:05:00 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadDirectDebit2]
2024-07-24 22:05:00 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/scheduled-payments
2024-07-24 22:05:00 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 22:05:01 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 22:05:01 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadScheduledPayment3]
2024-07-24 22:05:01 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/0cfc13e3-03a7-4880-9c65-4234894bab6b/scheduled-payments
2024-07-24 22:05:01 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 22:05:02 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 22:05:02 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadScheduledPayment3]
2024-07-24 22:05:02 DEBUG o.s.web.client.RestTemplate - HTTP POST https://ckwl5eo409.execute-api.us-east-1.amazonaws.com/hackathonDevStage/calculate
2024-07-24 22:05:02 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 22:05:02 DEBUG o.s.web.client.RestTemplate - Writing [class CreditScoreRequest {
    totalIncome: 3500.0
    totalExpenses: null
    creditLine: 2000.0
    existingBalance: 3500.0
    totalCredits: 3500.0
    totalDebits: null
    totalDebtObligations: 4079.62
}] as "application/json"
2024-07-24 22:05:03 DEBUG o.s.web.client.RestTemplate - Response 502 BAD_GATEWAY
2024-07-24 22:05:03 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.web.client.HttpServerErrorException$BadGateway: 502 Bad Gateway on POST request for "https://ckwl5eo409.execute-api.us-east-1.amazonaws.com/hackathonDevStage/calculate": "{"message": "Internal server error"}"] with root cause
org.springframework.web.client.HttpServerErrorException$BadGateway: 502 Bad Gateway on POST request for "https://ckwl5eo409.execute-api.us-east-1.amazonaws.com/hackathonDevStage/calculate": "{"message": "Internal server error"}"
	at org.springframework.web.client.HttpServerErrorException.create(HttpServerErrorException.java:108)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:228)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:163)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:953)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:902)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:751)
	at com.aws.credit.invoker.ApiClient.invokeAPI(ApiClient.java:632)
	at com.aws.credit.api.CreditScoreApi.creditScoreWithHttpInfo(CreditScoreApi.java:87)
	at com.aws.credit.api.CreditScoreApi.creditScore(CreditScoreApi.java:50)
	at com.bsp.demo.service.AWSService.getCreditScore(AWSService.java:24)
	at com.bsp.demo.controller.CreditController.creditDetails(CreditController.java:34)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:950)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:855)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-07-24 22:09:42 INFO  com.bsp.demo.DemoApplication - Starting DemoApplication using Java 21.0.3 with PID 28150 (/Users/ces/Downloads/demo/build/classes/java/main started by ces in /Users/ces/Downloads/demo)
2024-07-24 22:09:42 DEBUG com.bsp.demo.DemoApplication - Running with Spring Boot v3.4.0-SNAPSHOT, Spring v6.2.0-M6
2024-07-24 22:09:42 INFO  com.bsp.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2024-07-24 22:09:42 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-07-24 22:09:42 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-07-24 22:09:42 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-07-24 22:09:42 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-07-24 22:09:42 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-07-24 22:09:42 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 354 ms
2024-07-24 22:09:42 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-07-24 22:09:42 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2024-07-24 22:09:42 INFO  com.bsp.demo.DemoApplication - Started DemoApplication in 0.849 seconds (process running for 0.997)
2024-07-24 22:09:47 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-07-24 22:09:47 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-07-24 22:09:47 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-07-24 22:09:47 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts
2024-07-24 22:09:47 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 22:09:48 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 22:09:48 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadAccount6]
2024-07-24 22:09:48 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/balances
2024-07-24 22:09:48 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 22:09:49 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 22:09:49 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadBalance1]
2024-07-24 22:09:49 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/0cfc13e3-03a7-4880-9c65-4234894bab6b/balances
2024-07-24 22:09:49 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 22:09:50 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 22:09:50 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadBalance1]
2024-07-24 22:09:50 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/direct-debits
2024-07-24 22:09:50 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 22:09:52 DEBUG o.s.web.client.RestTemplate - Response 403 FORBIDDEN
2024-07-24 22:09:52 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.web.client.HttpClientErrorException$Forbidden: 403 Forbidden on GET request for "https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/direct-debits": "{"Code":"UK.OBIE.Reauthenticate","Message":"UK.OBIE.Reauthenticate: Token has expired","Errors":[{"ErrorCode":"UK.OBIE.Reauthenticate","Message":"UK.OBIE.Reauthenticate: Re-authentication is required","Path":"Authorization"}]}"] with root cause
org.springframework.web.client.HttpClientErrorException$Forbidden: 403 Forbidden on GET request for "https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/direct-debits": "{"Code":"UK.OBIE.Reauthenticate","Message":"UK.OBIE.Reauthenticate: Token has expired","Errors":[{"ErrorCode":"UK.OBIE.Reauthenticate","Message":"UK.OBIE.Reauthenticate: Re-authentication is required","Path":"Authorization"}]}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:109)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:225)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:163)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:953)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:902)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:751)
	at com.bsp.account.invoker.ApiClient.invokeAPI(ApiClient.java:659)
	at com.bsp.account.api.DirectDebitsApi.getAccountsAccountIdDirectDebitsWithHttpInfo(DirectDebitsApi.java:122)
	at com.bsp.account.api.DirectDebitsApi.getAccountsAccountIdDirectDebits(DirectDebitsApi.java:61)
	at com.bsp.demo.service.CreditService.fetchDirectDebitAmount(CreditService.java:145)
	at com.bsp.demo.service.CreditService.getAllAccountForUser(CreditService.java:49)
	at com.bsp.demo.controller.CreditController.creditDetails(CreditController.java:24)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:950)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:855)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-07-24 22:10:46 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts
2024-07-24 22:10:46 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 22:10:47 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 22:10:47 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadAccount6]
2024-07-24 22:10:47 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/balances
2024-07-24 22:10:47 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 22:10:48 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 22:10:48 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadBalance1]
2024-07-24 22:10:48 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/0cfc13e3-03a7-4880-9c65-4234894bab6b/balances
2024-07-24 22:10:48 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 22:10:48 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 22:10:48 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadBalance1]
2024-07-24 22:10:48 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/direct-debits
2024-07-24 22:10:48 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 22:10:49 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 22:10:49 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadDirectDebit2]
2024-07-24 22:10:49 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/0cfc13e3-03a7-4880-9c65-4234894bab6b/direct-debits
2024-07-24 22:10:49 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 22:10:50 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 22:10:50 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadDirectDebit2]
2024-07-24 22:10:50 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/scheduled-payments
2024-07-24 22:10:50 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 22:10:50 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 22:10:50 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadScheduledPayment3]
2024-07-24 22:10:50 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/0cfc13e3-03a7-4880-9c65-4234894bab6b/scheduled-payments
2024-07-24 22:10:50 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 22:10:51 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 22:10:51 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadScheduledPayment3]
2024-07-24 22:10:51 DEBUG o.s.web.client.RestTemplate - HTTP POST https://ckwl5eo409.execute-api.us-east-1.amazonaws.com/hackathonDevStage/calculate
2024-07-24 22:10:51 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 22:10:51 DEBUG o.s.web.client.RestTemplate - Writing [class CreditScoreRequest {
    totalIncome: 3500.0
    totalExpenses: null
    creditLine: 2000.0
    existingBalance: 3500.0
    totalCredits: 3500.0
    totalDebits: null
    totalDebtObligations: 4079.62
}] as "application/json"
2024-07-24 22:10:52 DEBUG o.s.web.client.RestTemplate - Response 502 BAD_GATEWAY
2024-07-24 22:10:52 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.web.client.HttpServerErrorException$BadGateway: 502 Bad Gateway on POST request for "https://ckwl5eo409.execute-api.us-east-1.amazonaws.com/hackathonDevStage/calculate": "{"message": "Internal server error"}"] with root cause
org.springframework.web.client.HttpServerErrorException$BadGateway: 502 Bad Gateway on POST request for "https://ckwl5eo409.execute-api.us-east-1.amazonaws.com/hackathonDevStage/calculate": "{"message": "Internal server error"}"
	at org.springframework.web.client.HttpServerErrorException.create(HttpServerErrorException.java:108)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:228)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:163)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:953)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:902)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:751)
	at com.aws.credit.invoker.ApiClient.invokeAPI(ApiClient.java:632)
	at com.aws.credit.api.CreditScoreApi.creditScoreWithHttpInfo(CreditScoreApi.java:87)
	at com.aws.credit.api.CreditScoreApi.creditScore(CreditScoreApi.java:50)
	at com.bsp.demo.service.AWSService.getCreditScore(AWSService.java:24)
	at com.bsp.demo.controller.CreditController.creditDetails(CreditController.java:34)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:950)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:855)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-07-24 22:13:42 INFO  com.bsp.demo.DemoApplication - Starting DemoApplication using Java 21.0.3 with PID 28393 (/Users/ces/Downloads/demo/build/classes/java/main started by ces in /Users/ces/Downloads/demo)
2024-07-24 22:13:42 DEBUG com.bsp.demo.DemoApplication - Running with Spring Boot v3.4.0-SNAPSHOT, Spring v6.2.0-M6
2024-07-24 22:13:42 INFO  com.bsp.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2024-07-24 22:13:42 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-07-24 22:13:42 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-07-24 22:13:42 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-07-24 22:13:42 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-07-24 22:13:42 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-07-24 22:13:42 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 348 ms
2024-07-24 22:13:43 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-07-24 22:13:43 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2024-07-24 22:13:43 INFO  com.bsp.demo.DemoApplication - Started DemoApplication in 0.828 seconds (process running for 0.977)
2024-07-24 22:13:50 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-07-24 22:13:50 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-07-24 22:13:50 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-07-24 22:13:50 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts
2024-07-24 22:13:50 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 22:13:51 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 22:13:51 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadAccount6]
2024-07-24 22:13:51 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/balances
2024-07-24 22:13:51 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 22:13:52 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 22:13:52 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadBalance1]
2024-07-24 22:13:52 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/0cfc13e3-03a7-4880-9c65-4234894bab6b/balances
2024-07-24 22:13:52 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 22:13:53 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 22:13:53 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadBalance1]
2024-07-24 22:13:53 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/direct-debits
2024-07-24 22:13:53 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 22:13:53 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 22:13:53 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadDirectDebit2]
2024-07-24 22:13:53 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/0cfc13e3-03a7-4880-9c65-4234894bab6b/direct-debits
2024-07-24 22:13:53 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 22:13:54 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 22:13:54 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadDirectDebit2]
2024-07-24 22:13:54 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/scheduled-payments
2024-07-24 22:13:54 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 22:13:54 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 22:13:54 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadScheduledPayment3]
2024-07-24 22:13:54 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/0cfc13e3-03a7-4880-9c65-4234894bab6b/scheduled-payments
2024-07-24 22:13:54 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 22:13:55 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 22:13:55 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadScheduledPayment3]
2024-07-24 22:13:55 DEBUG o.s.web.client.RestTemplate - HTTP POST https://ckwl5eo409.execute-api.us-east-1.amazonaws.com/hackathonDevStage/calculate
2024-07-24 22:13:55 DEBUG o.s.web.client.RestTemplate - Accept=[text/plain, application/json, application/*+json, */*]
2024-07-24 22:13:55 DEBUG o.s.web.client.RestTemplate - Writing [class CreditScoreRequest {
    totalIncome: 3500.0
    totalExpenses: null
    creditLine: 2000.0
    existingBalance: 3500.0
    totalCredits: 3500.0
    totalDebits: null
    totalDebtObligations: 4079.62
}] with org.springframework.http.converter.json.MappingJackson2HttpMessageConverter
2024-07-24 22:13:56 DEBUG o.s.web.client.RestTemplate - Response 502 BAD_GATEWAY
2024-07-24 22:13:56 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.web.client.HttpServerErrorException$BadGateway: 502 Bad Gateway on POST request for "https://ckwl5eo409.execute-api.us-east-1.amazonaws.com/hackathonDevStage/calculate": "{"message": "Internal server error"}"] with root cause
org.springframework.web.client.HttpServerErrorException$BadGateway: 502 Bad Gateway on POST request for "https://ckwl5eo409.execute-api.us-east-1.amazonaws.com/hackathonDevStage/calculate": "{"message": "Internal server error"}"
	at org.springframework.web.client.HttpServerErrorException.create(HttpServerErrorException.java:108)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:228)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:163)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:953)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:902)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:801)
	at org.springframework.web.client.RestTemplate.postForObject(RestTemplate.java:518)
	at com.bsp.demo.service.AWSService.getCreditScore(AWSService.java:29)
	at com.bsp.demo.controller.CreditController.creditDetails(CreditController.java:34)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:950)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:855)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-07-24 22:15:33 INFO  com.bsp.demo.DemoApplication - Starting DemoApplication using Java 21.0.3 with PID 28519 (/Users/ces/Downloads/demo/build/classes/java/main started by ces in /Users/ces/Downloads/demo)
2024-07-24 22:15:33 DEBUG com.bsp.demo.DemoApplication - Running with Spring Boot v3.4.0-SNAPSHOT, Spring v6.2.0-M6
2024-07-24 22:15:33 INFO  com.bsp.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2024-07-24 22:15:34 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-07-24 22:15:34 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-07-24 22:15:34 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-07-24 22:15:34 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-07-24 22:15:34 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-07-24 22:15:34 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 343 ms
2024-07-24 22:15:34 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-07-24 22:15:34 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2024-07-24 22:15:34 INFO  com.bsp.demo.DemoApplication - Started DemoApplication in 0.814 seconds (process running for 0.95)
2024-07-24 22:15:37 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-07-24 22:15:37 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-07-24 22:15:37 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-07-24 22:15:37 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts
2024-07-24 22:15:37 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 22:15:39 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 22:15:39 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadAccount6]
2024-07-24 22:15:39 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/balances
2024-07-24 22:15:39 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 22:15:39 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 22:15:39 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadBalance1]
2024-07-24 22:15:39 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/0cfc13e3-03a7-4880-9c65-4234894bab6b/balances
2024-07-24 22:15:39 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 22:15:40 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 22:15:40 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadBalance1]
2024-07-24 22:15:40 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/direct-debits
2024-07-24 22:15:40 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 22:15:41 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 22:15:41 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadDirectDebit2]
2024-07-24 22:15:41 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/0cfc13e3-03a7-4880-9c65-4234894bab6b/direct-debits
2024-07-24 22:15:41 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 22:15:41 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 22:15:41 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadDirectDebit2]
2024-07-24 22:15:41 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/scheduled-payments
2024-07-24 22:15:41 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 22:15:42 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 22:15:42 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadScheduledPayment3]
2024-07-24 22:15:42 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/0cfc13e3-03a7-4880-9c65-4234894bab6b/scheduled-payments
2024-07-24 22:15:42 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 22:15:42 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 22:15:42 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadScheduledPayment3]
2024-07-24 22:15:42 DEBUG o.s.web.client.RestTemplate - HTTP POST https://ckwl5eo409.execute-api.us-east-1.amazonaws.com/hackathonDevStage/calculate
2024-07-24 22:15:42 DEBUG o.s.web.client.RestTemplate - Accept=[text/plain, application/json, application/*+json, */*]
2024-07-24 22:15:42 DEBUG o.s.web.client.RestTemplate - Writing [class CreditScoreRequest {
    totalIncome: 3500.0
    totalExpenses: null
    creditLine: 2000.0
    existingBalance: 3500.0
    totalCredits: 3500.0
    totalDebits: null
    totalDebtObligations: 4079.62
}] with org.springframework.http.converter.json.MappingJackson2HttpMessageConverter
2024-07-24 22:15:43 DEBUG o.s.web.client.RestTemplate - Response 502 BAD_GATEWAY
2024-07-24 22:17:05 INFO  com.bsp.demo.DemoApplication - Starting DemoApplication using Java 21.0.3 with PID 28628 (/Users/ces/Downloads/demo/build/classes/java/main started by ces in /Users/ces/Downloads/demo)
2024-07-24 22:17:05 DEBUG com.bsp.demo.DemoApplication - Running with Spring Boot v3.4.0-SNAPSHOT, Spring v6.2.0-M6
2024-07-24 22:17:05 INFO  com.bsp.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2024-07-24 22:17:05 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-07-24 22:17:05 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-07-24 22:17:05 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-07-24 22:17:05 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-07-24 22:17:05 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-07-24 22:17:05 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 356 ms
2024-07-24 22:17:05 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-07-24 22:17:06 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2024-07-24 22:17:06 INFO  com.bsp.demo.DemoApplication - Started DemoApplication in 0.873 seconds (process running for 1.01)
2024-07-24 22:17:15 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-07-24 22:17:15 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-07-24 22:17:15 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-07-24 22:17:15 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts
2024-07-24 22:17:15 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 22:17:16 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 22:17:16 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadAccount6]
2024-07-24 22:17:16 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/balances
2024-07-24 22:17:16 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 22:17:16 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 22:17:16 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadBalance1]
2024-07-24 22:17:16 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/0cfc13e3-03a7-4880-9c65-4234894bab6b/balances
2024-07-24 22:17:16 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 22:17:17 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 22:17:17 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadBalance1]
2024-07-24 22:17:17 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/direct-debits
2024-07-24 22:17:17 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 22:17:17 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 22:17:17 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadDirectDebit2]
2024-07-24 22:17:17 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/0cfc13e3-03a7-4880-9c65-4234894bab6b/direct-debits
2024-07-24 22:17:17 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 22:17:18 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 22:17:18 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadDirectDebit2]
2024-07-24 22:17:18 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/scheduled-payments
2024-07-24 22:17:18 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 22:17:19 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 22:17:19 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadScheduledPayment3]
2024-07-24 22:17:19 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/0cfc13e3-03a7-4880-9c65-4234894bab6b/scheduled-payments
2024-07-24 22:17:19 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 22:17:19 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 22:17:19 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadScheduledPayment3]
2024-07-24 22:17:19 DEBUG o.s.web.client.RestTemplate - HTTP POST https://ckwl5eo409.execute-api.us-east-1.amazonaws.com/hackathonDevStage/calculate
2024-07-24 22:17:19 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 22:17:19 DEBUG o.s.web.client.RestTemplate - Writing [class CreditScoreRequest {
    totalIncome: 3500.0
    totalExpenses: null
    creditLine: 2000.0
    existingBalance: 3500.0
    totalCredits: 3500.0
    totalDebits: null
    totalDebtObligations: 4079.62
}] as "application/json"
2024-07-24 22:17:20 DEBUG o.s.web.client.RestTemplate - Response 502 BAD_GATEWAY
2024-07-24 22:17:20 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.web.client.HttpServerErrorException$BadGateway: 502 Bad Gateway on POST request for "https://ckwl5eo409.execute-api.us-east-1.amazonaws.com/hackathonDevStage/calculate": "{"message": "Internal server error"}"] with root cause
org.springframework.web.client.HttpServerErrorException$BadGateway: 502 Bad Gateway on POST request for "https://ckwl5eo409.execute-api.us-east-1.amazonaws.com/hackathonDevStage/calculate": "{"message": "Internal server error"}"
	at org.springframework.web.client.HttpServerErrorException.create(HttpServerErrorException.java:108)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:228)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:163)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:953)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:902)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:751)
	at com.aws.credit.invoker.ApiClient.invokeAPI(ApiClient.java:632)
	at com.aws.credit.api.CreditScoreApi.creditScoreWithHttpInfo(CreditScoreApi.java:87)
	at com.aws.credit.api.CreditScoreApi.creditScore(CreditScoreApi.java:50)
	at com.bsp.demo.service.AWSService.getCreditScore(AWSService.java:21)
	at com.bsp.demo.controller.CreditController.creditDetails(CreditController.java:34)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:950)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:855)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-07-24 22:22:20 INFO  com.bsp.demo.DemoApplication - Starting DemoApplication using Java 21.0.3 with PID 28941 (/Users/ces/Downloads/demo/build/classes/java/main started by ces in /Users/ces/Downloads/demo)
2024-07-24 22:22:20 DEBUG com.bsp.demo.DemoApplication - Running with Spring Boot v3.4.0-SNAPSHOT, Spring v6.2.0-M6
2024-07-24 22:22:20 INFO  com.bsp.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2024-07-24 22:22:20 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-07-24 22:22:20 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-07-24 22:22:20 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-07-24 22:22:20 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-07-24 22:22:20 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-07-24 22:22:20 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 345 ms
2024-07-24 22:22:20 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-07-24 22:22:20 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2024-07-24 22:22:20 INFO  com.bsp.demo.DemoApplication - Started DemoApplication in 0.842 seconds (process running for 0.991)
2024-07-24 22:23:04 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-07-24 22:23:04 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-07-24 22:23:04 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2024-07-24 22:23:04 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts
2024-07-24 22:23:04 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 22:23:05 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 22:23:05 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadAccount6]
2024-07-24 22:23:05 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/balances
2024-07-24 22:23:05 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 22:23:06 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 22:23:06 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadBalance1]
2024-07-24 22:23:06 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/0cfc13e3-03a7-4880-9c65-4234894bab6b/balances
2024-07-24 22:23:06 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 22:23:06 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 22:23:06 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadBalance1]
2024-07-24 22:23:06 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/direct-debits
2024-07-24 22:23:06 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 22:23:07 DEBUG o.s.web.client.RestTemplate - Response 403 FORBIDDEN
2024-07-24 22:23:07 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.web.client.HttpClientErrorException$Forbidden: 403 Forbidden on GET request for "https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/direct-debits": "{"Code":"UK.OBIE.Reauthenticate","Message":"UK.OBIE.Reauthenticate: Token has expired","Errors":[{"ErrorCode":"UK.OBIE.Reauthenticate","Message":"UK.OBIE.Reauthenticate: Re-authentication is required","Path":"Authorization"}]}"] with root cause
org.springframework.web.client.HttpClientErrorException$Forbidden: 403 Forbidden on GET request for "https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/direct-debits": "{"Code":"UK.OBIE.Reauthenticate","Message":"UK.OBIE.Reauthenticate: Token has expired","Errors":[{"ErrorCode":"UK.OBIE.Reauthenticate","Message":"UK.OBIE.Reauthenticate: Re-authentication is required","Path":"Authorization"}]}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:109)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:225)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:163)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:953)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:902)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:751)
	at com.bsp.account.invoker.ApiClient.invokeAPI(ApiClient.java:659)
	at com.bsp.account.api.DirectDebitsApi.getAccountsAccountIdDirectDebitsWithHttpInfo(DirectDebitsApi.java:122)
	at com.bsp.account.api.DirectDebitsApi.getAccountsAccountIdDirectDebits(DirectDebitsApi.java:61)
	at com.bsp.demo.service.CreditService.fetchDirectDebitAmount(CreditService.java:145)
	at com.bsp.demo.service.CreditService.getAllAccountForUser(CreditService.java:49)
	at com.bsp.demo.controller.CreditController.creditDetails(CreditController.java:27)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:950)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:855)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-07-24 22:23:53 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts
2024-07-24 22:23:53 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 22:23:54 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 22:23:54 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadAccount6]
2024-07-24 22:23:54 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/balances
2024-07-24 22:23:54 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 22:23:54 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 22:23:54 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadBalance1]
2024-07-24 22:23:54 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/0cfc13e3-03a7-4880-9c65-4234894bab6b/balances
2024-07-24 22:23:54 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 22:23:55 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 22:23:55 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadBalance1]
2024-07-24 22:23:55 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/direct-debits
2024-07-24 22:23:55 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 22:23:55 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 22:23:55 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadDirectDebit2]
2024-07-24 22:23:55 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/0cfc13e3-03a7-4880-9c65-4234894bab6b/direct-debits
2024-07-24 22:23:55 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 22:23:56 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 22:23:56 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadDirectDebit2]
2024-07-24 22:23:56 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/scheduled-payments
2024-07-24 22:23:56 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 22:23:57 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 22:23:57 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadScheduledPayment3]
2024-07-24 22:23:57 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/0cfc13e3-03a7-4880-9c65-4234894bab6b/scheduled-payments
2024-07-24 22:23:57 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 22:23:57 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 22:23:57 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadScheduledPayment3]
2024-07-24 22:23:57 DEBUG o.s.web.client.RestTemplate - HTTP POST https://ckwl5eo409.execute-api.us-east-1.amazonaws.com/hackathonDevStage/calculate
2024-07-24 22:23:57 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 22:23:57 DEBUG o.s.web.client.RestTemplate - Writing [class CreditScoreRequest {
    totalIncome: 3500.0
    totalExpenses: null
    creditLine: 2000.0
    existingBalance: 3500.0
    totalCredits: 3500.0
    totalDebits: null
    totalDebtObligations: 4079.62
}] as "application/json"
2024-07-24 22:23:58 DEBUG o.s.web.client.RestTemplate - Response 502 BAD_GATEWAY
2024-07-24 22:23:58 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.web.client.HttpServerErrorException$BadGateway: 502 Bad Gateway on POST request for "https://ckwl5eo409.execute-api.us-east-1.amazonaws.com/hackathonDevStage/calculate": "{"message": "Internal server error"}"] with root cause
org.springframework.web.client.HttpServerErrorException$BadGateway: 502 Bad Gateway on POST request for "https://ckwl5eo409.execute-api.us-east-1.amazonaws.com/hackathonDevStage/calculate": "{"message": "Internal server error"}"
	at org.springframework.web.client.HttpServerErrorException.create(HttpServerErrorException.java:108)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:228)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:163)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:953)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:902)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:751)
	at com.aws.credit.invoker.ApiClient.invokeAPI(ApiClient.java:632)
	at com.aws.credit.api.CreditScoreApi.creditScoreWithHttpInfo(CreditScoreApi.java:87)
	at com.aws.credit.api.CreditScoreApi.creditScore(CreditScoreApi.java:50)
	at com.bsp.demo.service.AWSService.getCreditScore(AWSService.java:21)
	at com.bsp.demo.controller.CreditController.creditDetails(CreditController.java:37)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:950)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:855)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-07-24 22:48:04 INFO  com.bsp.demo.DemoApplication - Starting DemoApplication using Java 21.0.3 with PID 30717 (/Users/ces/Downloads/demo/build/classes/java/main started by ces in /Users/ces/Downloads/demo)
2024-07-24 22:48:04 DEBUG com.bsp.demo.DemoApplication - Running with Spring Boot v3.4.0-SNAPSHOT, Spring v6.2.0-M6
2024-07-24 22:48:04 INFO  com.bsp.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2024-07-24 22:48:04 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-07-24 22:48:04 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-07-24 22:48:04 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-07-24 22:48:04 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-07-24 22:48:04 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-07-24 22:48:04 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 381 ms
2024-07-24 22:48:05 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-07-24 22:48:05 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2024-07-24 22:48:05 INFO  com.bsp.demo.DemoApplication - Started DemoApplication in 0.935 seconds (process running for 1.076)
2024-07-24 22:48:52 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-07-24 22:48:52 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-07-24 22:48:52 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-07-24 22:48:52 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts
2024-07-24 22:48:52 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 22:48:53 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 22:48:53 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadAccount6]
2024-07-24 22:48:53 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/balances
2024-07-24 22:48:53 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 22:48:55 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 22:48:55 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadBalance1]
2024-07-24 22:48:55 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/0cfc13e3-03a7-4880-9c65-4234894bab6b/balances
2024-07-24 22:48:55 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 22:48:56 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 22:48:56 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadBalance1]
2024-07-24 22:48:56 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/direct-debits
2024-07-24 22:48:56 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 22:48:58 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 22:48:58 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadDirectDebit2]
2024-07-24 22:48:58 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/0cfc13e3-03a7-4880-9c65-4234894bab6b/direct-debits
2024-07-24 22:48:58 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 22:48:59 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 22:48:59 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadDirectDebit2]
2024-07-24 22:48:59 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/scheduled-payments
2024-07-24 22:48:59 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 22:49:00 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 22:49:00 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadScheduledPayment3]
2024-07-24 22:49:00 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/0cfc13e3-03a7-4880-9c65-4234894bab6b/scheduled-payments
2024-07-24 22:49:00 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 22:49:02 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 22:49:02 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadScheduledPayment3]
2024-07-24 22:49:02 DEBUG o.s.web.client.RestTemplate - HTTP POST https://ckwl5eo409.execute-api.us-east-1.amazonaws.com/hackathonDevStage/calculate/hackathonDevStage/calculate
2024-07-24 22:49:02 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 22:49:02 DEBUG o.s.web.client.RestTemplate - Writing [class CreditScoreRequest {
    totalIncome: 3500.0
    totalExpenses: null
    creditLine: 2000.0
    existingBalance: 3500.0
    totalCredits: 3500.0
    totalDebits: null
    totalDebtObligations: 4079.62
}] as "application/json"
2024-07-24 22:49:04 DEBUG o.s.web.client.RestTemplate - Response 403 FORBIDDEN
2024-07-24 22:49:04 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.web.client.HttpClientErrorException$Forbidden: 403 Forbidden on POST request for "https://ckwl5eo409.execute-api.us-east-1.amazonaws.com/hackathonDevStage/calculate/hackathonDevStage/calculate": "{"message":"Missing Authentication Token"}<EOL>"] with root cause
org.springframework.web.client.HttpClientErrorException$Forbidden: 403 Forbidden on POST request for "https://ckwl5eo409.execute-api.us-east-1.amazonaws.com/hackathonDevStage/calculate/hackathonDevStage/calculate": "{"message":"Missing Authentication Token"}<EOL>"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:109)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:225)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:163)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:953)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:902)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:751)
	at com.aws.credit.invoker.ApiClient.invokeAPI(ApiClient.java:632)
	at com.aws.credit.api.CreditScoreApi.creditScoreWithHttpInfo(CreditScoreApi.java:87)
	at com.aws.credit.api.CreditScoreApi.creditScore(CreditScoreApi.java:50)
	at com.bsp.demo.service.AWSService.getCreditScore(AWSService.java:21)
	at com.bsp.demo.controller.CreditController.creditDetails(CreditController.java:36)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:950)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:855)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-07-24 22:50:40 INFO  com.bsp.demo.DemoApplication - Starting DemoApplication using Java 21.0.3 with PID 30896 (/Users/ces/Downloads/demo/build/classes/java/main started by ces in /Users/ces/Downloads/demo)
2024-07-24 22:50:40 DEBUG com.bsp.demo.DemoApplication - Running with Spring Boot v3.4.0-SNAPSHOT, Spring v6.2.0-M6
2024-07-24 22:50:40 INFO  com.bsp.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2024-07-24 22:50:40 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-07-24 22:50:40 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-07-24 22:50:40 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-07-24 22:50:40 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-07-24 22:50:40 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-07-24 22:50:40 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 369 ms
2024-07-24 22:50:40 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-07-24 22:50:40 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2024-07-24 22:50:40 INFO  com.bsp.demo.DemoApplication - Started DemoApplication in 0.872 seconds (process running for 1.004)
2024-07-24 22:50:49 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-07-24 22:50:49 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-07-24 22:50:49 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-07-24 22:50:49 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts
2024-07-24 22:50:49 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 22:50:58 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 22:50:58 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadAccount6]
2024-07-24 22:50:58 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/balances
2024-07-24 22:50:58 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 22:51:07 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 22:51:07 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadBalance1]
2024-07-24 22:51:07 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/0cfc13e3-03a7-4880-9c65-4234894bab6b/balances
2024-07-24 22:51:07 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 22:51:15 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 22:51:15 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadBalance1]
2024-07-24 22:51:15 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/direct-debits
2024-07-24 22:51:15 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 22:51:17 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 22:51:17 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadDirectDebit2]
2024-07-24 22:51:18 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/0cfc13e3-03a7-4880-9c65-4234894bab6b/direct-debits
2024-07-24 22:51:18 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 22:51:20 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 22:51:20 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadDirectDebit2]
2024-07-24 22:51:20 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/scheduled-payments
2024-07-24 22:51:20 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 22:51:22 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 22:51:22 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadScheduledPayment3]
2024-07-24 22:51:22 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/0cfc13e3-03a7-4880-9c65-4234894bab6b/scheduled-payments
2024-07-24 22:51:22 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 22:51:22 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 22:51:22 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadScheduledPayment3]
2024-07-24 22:51:22 DEBUG o.s.web.client.RestTemplate - HTTP POST https://ckwl5eo409.execute-api.us-east-1.amazonaws.com/hackathonDevStage/calculate/hackathonDevStage/calculate
2024-07-24 22:51:22 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 22:51:22 DEBUG o.s.web.client.RestTemplate - Writing [class CreditScoreRequest {
    totalIncome: 3500.0
    totalExpenses: null
    creditLine: 2000.0
    existingBalance: 3500.0
    totalCredits: 3500.0
    totalDebits: null
    totalDebtObligations: 4079.62
}] as "application/json"
2024-07-24 22:51:23 DEBUG o.s.web.client.RestTemplate - Response 403 FORBIDDEN
2024-07-24 22:51:23 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.web.client.HttpClientErrorException$Forbidden: 403 Forbidden on POST request for "https://ckwl5eo409.execute-api.us-east-1.amazonaws.com/hackathonDevStage/calculate/hackathonDevStage/calculate": "{"message":"Missing Authentication Token"}<EOL>"] with root cause
org.springframework.web.client.HttpClientErrorException$Forbidden: 403 Forbidden on POST request for "https://ckwl5eo409.execute-api.us-east-1.amazonaws.com/hackathonDevStage/calculate/hackathonDevStage/calculate": "{"message":"Missing Authentication Token"}<EOL>"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:109)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:225)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:163)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:953)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:902)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:751)
	at com.aws.credit.invoker.ApiClient.invokeAPI(ApiClient.java:632)
	at com.aws.credit.api.CreditScoreApi.creditScoreWithHttpInfo(CreditScoreApi.java:87)
	at com.aws.credit.api.CreditScoreApi.creditScore(CreditScoreApi.java:50)
	at com.bsp.demo.service.AWSService.getCreditScore(AWSService.java:21)
	at com.bsp.demo.controller.CreditController.creditDetails(CreditController.java:36)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:950)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:855)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-07-24 22:52:58 INFO  com.bsp.demo.DemoApplication - Starting DemoApplication using Java 21.0.3 with PID 31107 (/Users/ces/Downloads/demo/build/classes/java/main started by ces in /Users/ces/Downloads/demo)
2024-07-24 22:52:58 DEBUG com.bsp.demo.DemoApplication - Running with Spring Boot v3.4.0-SNAPSHOT, Spring v6.2.0-M6
2024-07-24 22:52:58 INFO  com.bsp.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2024-07-24 22:52:58 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-07-24 22:52:58 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-07-24 22:52:58 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-07-24 22:52:58 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-07-24 22:52:58 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-07-24 22:52:58 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 368 ms
2024-07-24 22:52:58 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-07-24 22:52:58 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2024-07-24 22:52:58 INFO  com.bsp.demo.DemoApplication - Started DemoApplication in 0.857 seconds (process running for 0.996)
2024-07-24 22:53:11 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-07-24 22:53:11 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-07-24 22:53:11 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-07-24 22:53:11 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts
2024-07-24 22:53:11 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 22:53:12 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 22:53:12 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadAccount6]
2024-07-24 22:53:12 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/balances
2024-07-24 22:53:12 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 22:53:13 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 22:53:13 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadBalance1]
2024-07-24 22:53:13 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/0cfc13e3-03a7-4880-9c65-4234894bab6b/balances
2024-07-24 22:53:13 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 22:53:14 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 22:53:14 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadBalance1]
2024-07-24 22:53:14 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/direct-debits
2024-07-24 22:53:14 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 22:53:14 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 22:53:14 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadDirectDebit2]
2024-07-24 22:53:14 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/0cfc13e3-03a7-4880-9c65-4234894bab6b/direct-debits
2024-07-24 22:53:14 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 22:53:15 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 22:53:15 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadDirectDebit2]
2024-07-24 22:53:15 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/scheduled-payments
2024-07-24 22:53:15 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 22:53:17 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 22:53:17 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadScheduledPayment3]
2024-07-24 22:53:17 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/0cfc13e3-03a7-4880-9c65-4234894bab6b/scheduled-payments
2024-07-24 22:53:17 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 22:53:19 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 22:53:19 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadScheduledPayment3]
2024-07-24 22:53:19 DEBUG o.s.web.client.RestTemplate - HTTP POST https://ckwl5eo409.execute-api.us-east-1.amazonaws.com/hackathonDevStage/calculate/hackathonDevStage/calculate
2024-07-24 22:53:19 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 22:53:19 DEBUG o.s.web.client.RestTemplate - Writing [class CreditScoreRequest {
    totalIncome: 3500.0
    totalExpenses: null
    creditLine: 2000.0
    existingBalance: 3500.0
    totalCredits: 3500.0
    totalDebits: null
    totalDebtObligations: 4079.62
}] as "application/json"
2024-07-24 22:53:20 DEBUG o.s.web.client.RestTemplate - Response 403 FORBIDDEN
2024-07-24 22:53:20 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.web.client.HttpClientErrorException$Forbidden: 403 Forbidden on POST request for "https://ckwl5eo409.execute-api.us-east-1.amazonaws.com/hackathonDevStage/calculate/hackathonDevStage/calculate": "{"message":"Missing Authentication Token"}<EOL>"] with root cause
org.springframework.web.client.HttpClientErrorException$Forbidden: 403 Forbidden on POST request for "https://ckwl5eo409.execute-api.us-east-1.amazonaws.com/hackathonDevStage/calculate/hackathonDevStage/calculate": "{"message":"Missing Authentication Token"}<EOL>"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:109)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:225)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:163)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:953)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:902)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:751)
	at com.aws.credit.invoker.ApiClient.invokeAPI(ApiClient.java:632)
	at com.aws.credit.api.CreditScoreApi.creditScoreWithHttpInfo(CreditScoreApi.java:87)
	at com.aws.credit.api.CreditScoreApi.creditScore(CreditScoreApi.java:50)
	at com.bsp.demo.service.AWSService.getCreditScore(AWSService.java:21)
	at com.bsp.demo.controller.CreditController.creditDetails(CreditController.java:36)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:950)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:855)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-07-24 22:56:22 INFO  com.bsp.demo.DemoApplication - Starting DemoApplication using Java 21.0.3 with PID 31366 (/Users/ces/Downloads/demo/build/classes/java/main started by ces in /Users/ces/Downloads/demo)
2024-07-24 22:56:22 DEBUG com.bsp.demo.DemoApplication - Running with Spring Boot v3.4.0-SNAPSHOT, Spring v6.2.0-M6
2024-07-24 22:56:22 INFO  com.bsp.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2024-07-24 22:56:22 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-07-24 22:56:22 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-07-24 22:56:22 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-07-24 22:56:22 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-07-24 22:56:23 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-07-24 22:56:23 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 383 ms
2024-07-24 22:56:23 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-07-24 22:56:23 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2024-07-24 22:56:23 INFO  com.bsp.demo.DemoApplication - Started DemoApplication in 0.897 seconds (process running for 1.041)
2024-07-24 22:56:30 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-07-24 22:56:30 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-07-24 22:56:30 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-07-24 22:56:30 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts
2024-07-24 22:56:30 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 22:56:31 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 22:56:31 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadAccount6]
2024-07-24 22:56:31 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/balances
2024-07-24 22:56:31 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 22:56:32 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 22:56:32 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadBalance1]
2024-07-24 22:56:32 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/0cfc13e3-03a7-4880-9c65-4234894bab6b/balances
2024-07-24 22:56:32 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 22:56:33 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 22:56:33 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadBalance1]
2024-07-24 22:56:33 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/direct-debits
2024-07-24 22:56:33 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 22:56:35 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 22:56:35 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadDirectDebit2]
2024-07-24 22:56:35 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/0cfc13e3-03a7-4880-9c65-4234894bab6b/direct-debits
2024-07-24 22:56:35 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 22:56:36 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 22:56:36 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadDirectDebit2]
2024-07-24 22:56:36 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/scheduled-payments
2024-07-24 22:56:36 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 22:56:38 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 22:56:38 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadScheduledPayment3]
2024-07-24 22:56:38 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/0cfc13e3-03a7-4880-9c65-4234894bab6b/scheduled-payments
2024-07-24 22:56:38 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 22:56:40 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 22:56:40 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadScheduledPayment3]
2024-07-24 22:56:40 DEBUG o.s.web.client.RestTemplate - HTTP POST https://ckwl5eo409.execute-api.us-east-1.amazonaws.com/hackathonDevStage/calculate/hackathonDevStage/calculate
2024-07-24 22:56:40 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 22:56:40 DEBUG o.s.web.client.RestTemplate - Writing [class CreditScoreRequest {
    totalIncome: 3500.0
    totalExpenses: null
    creditLine: 2000.0
    existingBalance: 3500.0
    totalCredits: 3500.0
    totalDebits: null
    totalDebtObligations: 4079.62
}] as "application/json"
2024-07-24 22:56:42 DEBUG o.s.web.client.RestTemplate - Response 403 FORBIDDEN
2024-07-24 22:56:42 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.web.client.HttpClientErrorException$Forbidden: 403 Forbidden on POST request for "https://ckwl5eo409.execute-api.us-east-1.amazonaws.com/hackathonDevStage/calculate/hackathonDevStage/calculate": "{"message":"Missing Authentication Token"}<EOL>"] with root cause
org.springframework.web.client.HttpClientErrorException$Forbidden: 403 Forbidden on POST request for "https://ckwl5eo409.execute-api.us-east-1.amazonaws.com/hackathonDevStage/calculate/hackathonDevStage/calculate": "{"message":"Missing Authentication Token"}<EOL>"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:109)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:225)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:163)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:953)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:902)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:751)
	at com.aws.credit.invoker.ApiClient.invokeAPI(ApiClient.java:632)
	at com.aws.credit.api.CreditScoreApi.creditScoreWithHttpInfo(CreditScoreApi.java:87)
	at com.aws.credit.api.CreditScoreApi.creditScore(CreditScoreApi.java:50)
	at com.bsp.demo.service.AWSService.getCreditScore(AWSService.java:22)
	at com.bsp.demo.controller.CreditController.creditDetails(CreditController.java:36)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:950)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:855)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-07-24 22:58:36 INFO  com.bsp.demo.DemoApplication - Starting DemoApplication using Java 21.0.3 with PID 31529 (/Users/ces/Downloads/demo/build/classes/java/main started by ces in /Users/ces/Downloads/demo)
2024-07-24 22:58:36 DEBUG com.bsp.demo.DemoApplication - Running with Spring Boot v3.4.0-SNAPSHOT, Spring v6.2.0-M6
2024-07-24 22:58:36 INFO  com.bsp.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2024-07-24 22:58:37 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-07-24 22:58:37 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-07-24 22:58:37 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-07-24 22:58:37 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-07-24 22:58:37 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-07-24 22:58:37 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 393 ms
2024-07-24 22:58:37 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-07-24 22:58:37 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2024-07-24 22:58:37 INFO  com.bsp.demo.DemoApplication - Started DemoApplication in 0.913 seconds (process running for 1.064)
2024-07-24 22:58:43 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-07-24 22:58:43 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-07-24 22:58:43 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-07-24 22:58:43 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts
2024-07-24 22:58:43 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 22:58:45 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 22:58:45 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadAccount6]
2024-07-24 22:58:45 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/balances
2024-07-24 22:58:45 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 22:58:45 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 22:58:45 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadBalance1]
2024-07-24 22:58:45 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/0cfc13e3-03a7-4880-9c65-4234894bab6b/balances
2024-07-24 22:58:45 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 22:58:46 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 22:58:46 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadBalance1]
2024-07-24 22:58:46 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/direct-debits
2024-07-24 22:58:46 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 22:58:47 DEBUG o.s.web.client.RestTemplate - Response 403 FORBIDDEN
2024-07-24 22:58:47 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.web.client.HttpClientErrorException$Forbidden: 403 Forbidden on GET request for "https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/direct-debits": "{"Code":"UK.OBIE.Reauthenticate","Message":"UK.OBIE.Reauthenticate: Token has expired","Errors":[{"ErrorCode":"UK.OBIE.Reauthenticate","Message":"UK.OBIE.Reauthenticate: Re-authentication is required","Path":"Authorization"}]}"] with root cause
org.springframework.web.client.HttpClientErrorException$Forbidden: 403 Forbidden on GET request for "https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/direct-debits": "{"Code":"UK.OBIE.Reauthenticate","Message":"UK.OBIE.Reauthenticate: Token has expired","Errors":[{"ErrorCode":"UK.OBIE.Reauthenticate","Message":"UK.OBIE.Reauthenticate: Re-authentication is required","Path":"Authorization"}]}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:109)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:225)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:163)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:953)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:902)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:751)
	at com.bsp.account.invoker.ApiClient.invokeAPI(ApiClient.java:659)
	at com.bsp.account.api.DirectDebitsApi.getAccountsAccountIdDirectDebitsWithHttpInfo(DirectDebitsApi.java:122)
	at com.bsp.account.api.DirectDebitsApi.getAccountsAccountIdDirectDebits(DirectDebitsApi.java:61)
	at com.bsp.demo.service.CreditService.fetchDirectDebitAmount(CreditService.java:145)
	at com.bsp.demo.service.CreditService.getAllAccountForUser(CreditService.java:49)
	at com.bsp.demo.controller.CreditController.creditDetails(CreditController.java:26)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:950)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:855)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-07-24 22:59:47 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts
2024-07-24 22:59:47 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 22:59:47 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 22:59:47 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadAccount6]
2024-07-24 22:59:47 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/balances
2024-07-24 22:59:47 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 22:59:48 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 22:59:48 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadBalance1]
2024-07-24 22:59:48 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/0cfc13e3-03a7-4880-9c65-4234894bab6b/balances
2024-07-24 22:59:48 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 22:59:48 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 22:59:48 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadBalance1]
2024-07-24 22:59:48 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/direct-debits
2024-07-24 22:59:48 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 22:59:49 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 22:59:49 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadDirectDebit2]
2024-07-24 22:59:49 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/0cfc13e3-03a7-4880-9c65-4234894bab6b/direct-debits
2024-07-24 22:59:49 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 22:59:50 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 22:59:50 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadDirectDebit2]
2024-07-24 22:59:50 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/scheduled-payments
2024-07-24 22:59:50 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 22:59:50 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 22:59:50 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadScheduledPayment3]
2024-07-24 22:59:50 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/0cfc13e3-03a7-4880-9c65-4234894bab6b/scheduled-payments
2024-07-24 22:59:50 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 22:59:51 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 22:59:51 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadScheduledPayment3]
2024-07-24 22:59:51 DEBUG o.s.web.client.RestTemplate - HTTP POST https://ckwl5eo409.execute-api.us-east-1.amazonaws.com/hackathonDevStage/calculate/hackathonDevStage/calculate
2024-07-24 22:59:51 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 22:59:51 DEBUG o.s.web.client.RestTemplate - Writing [class CreditScoreRequest {
    totalIncome: 3500.0
    totalExpenses: null
    creditLine: 2000.0
    existingBalance: 3500.0
    totalCredits: 3500.0
    totalDebits: null
    totalDebtObligations: 4079.62
}] as "application/json"
2024-07-24 22:59:53 DEBUG o.s.web.client.RestTemplate - Response 403 FORBIDDEN
2024-07-24 22:59:53 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.web.client.HttpClientErrorException$Forbidden: 403 Forbidden on POST request for "https://ckwl5eo409.execute-api.us-east-1.amazonaws.com/hackathonDevStage/calculate/hackathonDevStage/calculate": "{"message":"Missing Authentication Token"}<EOL>"] with root cause
org.springframework.web.client.HttpClientErrorException$Forbidden: 403 Forbidden on POST request for "https://ckwl5eo409.execute-api.us-east-1.amazonaws.com/hackathonDevStage/calculate/hackathonDevStage/calculate": "{"message":"Missing Authentication Token"}<EOL>"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:109)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:225)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:163)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:953)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:902)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:751)
	at com.aws.credit.invoker.ApiClient.invokeAPI(ApiClient.java:632)
	at com.aws.credit.api.CreditScoreApi.creditScoreWithHttpInfo(CreditScoreApi.java:87)
	at com.aws.credit.api.CreditScoreApi.creditScore(CreditScoreApi.java:50)
	at com.bsp.demo.service.AWSService.getCreditScore(AWSService.java:22)
	at com.bsp.demo.controller.CreditController.creditDetails(CreditController.java:36)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:950)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:855)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-07-24 23:03:46 INFO  com.bsp.demo.DemoApplication - Starting DemoApplication using Java 21.0.3 with PID 31940 (/Users/ces/Downloads/demo/build/classes/java/main started by ces in /Users/ces/Downloads/demo)
2024-07-24 23:03:46 DEBUG com.bsp.demo.DemoApplication - Running with Spring Boot v3.4.0-SNAPSHOT, Spring v6.2.0-M6
2024-07-24 23:03:46 INFO  com.bsp.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2024-07-24 23:03:46 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-07-24 23:03:46 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-07-24 23:03:46 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-07-24 23:03:46 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-07-24 23:03:46 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-07-24 23:03:46 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 410 ms
2024-07-24 23:03:51 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-07-24 23:03:51 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2024-07-24 23:03:51 INFO  com.bsp.demo.DemoApplication - Started DemoApplication in 5.114 seconds (process running for 5.282)
2024-07-24 23:04:10 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-07-24 23:04:10 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-07-24 23:04:10 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2024-07-24 23:04:10 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts
2024-07-24 23:04:10 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 23:04:11 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 23:04:11 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadAccount6]
2024-07-24 23:04:11 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/balances
2024-07-24 23:04:11 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 23:04:11 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 23:04:11 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadBalance1]
2024-07-24 23:04:12 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/0cfc13e3-03a7-4880-9c65-4234894bab6b/balances
2024-07-24 23:04:12 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 23:04:12 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 23:04:12 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadBalance1]
2024-07-24 23:04:12 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/direct-debits
2024-07-24 23:04:12 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 23:04:13 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 23:04:13 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadDirectDebit2]
2024-07-24 23:04:13 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/0cfc13e3-03a7-4880-9c65-4234894bab6b/direct-debits
2024-07-24 23:04:13 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 23:04:13 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 23:04:13 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadDirectDebit2]
2024-07-24 23:04:13 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/scheduled-payments
2024-07-24 23:04:13 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 23:04:14 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 23:04:14 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadScheduledPayment3]
2024-07-24 23:04:14 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/0cfc13e3-03a7-4880-9c65-4234894bab6b/scheduled-payments
2024-07-24 23:04:14 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 23:04:14 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 23:04:14 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadScheduledPayment3]
2024-07-24 23:05:17 INFO  com.bsp.demo.DemoApplication - Starting DemoApplication using Java 21.0.3 with PID 32086 (/Users/ces/Downloads/demo/build/classes/java/main started by ces in /Users/ces/Downloads/demo)
2024-07-24 23:05:17 DEBUG com.bsp.demo.DemoApplication - Running with Spring Boot v3.4.0-SNAPSHOT, Spring v6.2.0-M6
2024-07-24 23:05:17 INFO  com.bsp.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2024-07-24 23:05:17 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-07-24 23:05:17 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-07-24 23:05:17 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-07-24 23:05:17 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-07-24 23:05:17 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-07-24 23:05:17 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 379 ms
2024-07-24 23:05:18 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-07-24 23:05:18 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2024-07-24 23:05:18 INFO  com.bsp.demo.DemoApplication - Started DemoApplication in 0.908 seconds (process running for 1.052)
2024-07-24 23:05:21 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-07-24 23:05:21 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-07-24 23:05:21 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2024-07-24 23:05:21 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts
2024-07-24 23:05:21 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 23:05:22 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 23:05:22 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadAccount6]
2024-07-24 23:05:22 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/balances
2024-07-24 23:05:22 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 23:05:22 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 23:05:22 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadBalance1]
2024-07-24 23:05:22 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/0cfc13e3-03a7-4880-9c65-4234894bab6b/balances
2024-07-24 23:05:22 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 23:05:23 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 23:05:23 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadBalance1]
2024-07-24 23:05:23 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/direct-debits
2024-07-24 23:05:23 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 23:05:24 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 23:05:24 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadDirectDebit2]
2024-07-24 23:05:24 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/0cfc13e3-03a7-4880-9c65-4234894bab6b/direct-debits
2024-07-24 23:05:24 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 23:05:24 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 23:05:24 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadDirectDebit2]
2024-07-24 23:05:24 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/scheduled-payments
2024-07-24 23:05:24 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 23:05:25 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 23:05:25 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadScheduledPayment3]
2024-07-24 23:05:25 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/0cfc13e3-03a7-4880-9c65-4234894bab6b/scheduled-payments
2024-07-24 23:05:25 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 23:05:25 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 23:05:25 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadScheduledPayment3]
2024-07-24 23:05:25 DEBUG o.s.web.client.RestTemplate - HTTP POST https://ckwl5eo409.execute-api.us-east-1.amazonaws.com/hackathonDevStage/calculate/hackathonDevStage/calculate
2024-07-24 23:05:25 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 23:05:25 DEBUG o.s.web.client.RestTemplate - Writing [class CreditScoreRequest {
    totalIncome: 3500.0
    totalExpenses: null
    creditLine: 2000.0
    existingBalance: 3500.0
    totalCredits: 3500.0
    totalDebits: null
    totalDebtObligations: 4079.62
}] as "application/json"
2024-07-24 23:05:26 DEBUG o.s.web.client.RestTemplate - Response 403 FORBIDDEN
2024-07-24 23:05:26 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.web.client.HttpClientErrorException$Forbidden: 403 Forbidden on POST request for "https://ckwl5eo409.execute-api.us-east-1.amazonaws.com/hackathonDevStage/calculate/hackathonDevStage/calculate": "{"message":"Missing Authentication Token"}<EOL>"] with root cause
org.springframework.web.client.HttpClientErrorException$Forbidden: 403 Forbidden on POST request for "https://ckwl5eo409.execute-api.us-east-1.amazonaws.com/hackathonDevStage/calculate/hackathonDevStage/calculate": "{"message":"Missing Authentication Token"}<EOL>"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:109)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:225)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:163)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:953)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:902)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:751)
	at com.aws.credit.invoker.ApiClient.invokeAPI(ApiClient.java:632)
	at com.aws.credit.api.CreditScoreApi.creditScoreWithHttpInfo(CreditScoreApi.java:87)
	at com.aws.credit.api.CreditScoreApi.creditScore(CreditScoreApi.java:50)
	at com.bsp.demo.service.AWSService.getCreditScore(AWSService.java:23)
	at com.bsp.demo.controller.CreditController.creditDetails(CreditController.java:36)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:950)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:855)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-07-24 23:06:17 INFO  com.bsp.demo.DemoApplication - Starting DemoApplication using Java 21.0.3 with PID 32171 (/Users/ces/Downloads/demo/build/classes/java/main started by ces in /Users/ces/Downloads/demo)
2024-07-24 23:06:17 DEBUG com.bsp.demo.DemoApplication - Running with Spring Boot v3.4.0-SNAPSHOT, Spring v6.2.0-M6
2024-07-24 23:06:17 INFO  com.bsp.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2024-07-24 23:06:17 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-07-24 23:06:17 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-07-24 23:06:17 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-07-24 23:06:17 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-07-24 23:06:17 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-07-24 23:06:17 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 386 ms
2024-07-24 23:06:17 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-07-24 23:06:17 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2024-07-24 23:06:17 INFO  com.bsp.demo.DemoApplication - Started DemoApplication in 0.898 seconds (process running for 1.059)
2024-07-24 23:06:30 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-07-24 23:06:30 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-07-24 23:06:30 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2024-07-24 23:06:30 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts
2024-07-24 23:06:31 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 23:06:32 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 23:06:32 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadAccount6]
2024-07-24 23:06:32 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/balances
2024-07-24 23:06:32 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 23:06:32 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 23:06:32 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadBalance1]
2024-07-24 23:06:32 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/0cfc13e3-03a7-4880-9c65-4234894bab6b/balances
2024-07-24 23:06:32 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 23:06:33 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 23:06:33 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadBalance1]
2024-07-24 23:06:33 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/direct-debits
2024-07-24 23:06:33 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 23:06:33 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 23:06:33 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadDirectDebit2]
2024-07-24 23:06:33 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/0cfc13e3-03a7-4880-9c65-4234894bab6b/direct-debits
2024-07-24 23:06:33 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 23:06:34 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 23:06:34 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadDirectDebit2]
2024-07-24 23:06:34 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/scheduled-payments
2024-07-24 23:06:34 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 23:06:34 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 23:06:34 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadScheduledPayment3]
2024-07-24 23:06:34 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/0cfc13e3-03a7-4880-9c65-4234894bab6b/scheduled-payments
2024-07-24 23:06:34 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 23:06:35 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 23:06:35 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadScheduledPayment3]
2024-07-24 23:07:03 DEBUG o.s.web.client.RestTemplate - HTTP POST https://ckwl5eo409.execute-api.us-east-1.amazonaws.com/hackathonDevStage/calculate/hackathonDevStage/calculate
2024-07-24 23:07:03 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 23:07:03 DEBUG o.s.web.client.RestTemplate - Writing [class CreditScoreRequest {
    totalIncome: 3500.0
    totalExpenses: null
    creditLine: 2000.0
    existingBalance: 3500.0
    totalCredits: 3500.0
    totalDebits: null
    totalDebtObligations: 4079.62
}] as "application/json"
2024-07-24 23:07:04 DEBUG o.s.web.client.RestTemplate - Response 403 FORBIDDEN
2024-07-24 23:07:04 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.web.client.HttpClientErrorException$Forbidden: 403 Forbidden on POST request for "https://ckwl5eo409.execute-api.us-east-1.amazonaws.com/hackathonDevStage/calculate/hackathonDevStage/calculate": "{"message":"Missing Authentication Token"}<EOL>"] with root cause
org.springframework.web.client.HttpClientErrorException$Forbidden: 403 Forbidden on POST request for "https://ckwl5eo409.execute-api.us-east-1.amazonaws.com/hackathonDevStage/calculate/hackathonDevStage/calculate": "{"message":"Missing Authentication Token"}<EOL>"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:109)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:225)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:163)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:953)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:902)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:751)
	at com.aws.credit.invoker.ApiClient.invokeAPI(ApiClient.java:632)
	at com.aws.credit.api.CreditScoreApi.creditScoreWithHttpInfo(CreditScoreApi.java:87)
	at com.aws.credit.api.CreditScoreApi.creditScore(CreditScoreApi.java:50)
	at com.bsp.demo.service.AWSService.getCreditScore(AWSService.java:22)
	at com.bsp.demo.controller.CreditController.creditDetails(CreditController.java:36)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:950)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:855)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-07-24 23:23:40 INFO  com.bsp.demo.DemoApplication - Starting DemoApplication using Java 21.0.3 with PID 33628 (/Users/ces/Downloads/demo/build/classes/java/main started by ces in /Users/ces/Downloads/demo)
2024-07-24 23:23:40 DEBUG com.bsp.demo.DemoApplication - Running with Spring Boot v3.4.0-SNAPSHOT, Spring v6.2.0-M6
2024-07-24 23:23:40 INFO  com.bsp.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2024-07-24 23:23:40 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-07-24 23:23:40 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-07-24 23:23:40 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-07-24 23:23:40 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-07-24 23:23:40 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-07-24 23:23:40 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 394 ms
2024-07-24 23:23:41 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-07-24 23:23:41 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2024-07-24 23:23:41 INFO  com.bsp.demo.DemoApplication - Started DemoApplication in 0.923 seconds (process running for 1.086)
2024-07-24 23:23:55 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-07-24 23:23:55 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-07-24 23:23:55 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-07-24 23:23:55 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts
2024-07-24 23:23:55 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 23:23:55 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 23:23:55 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadAccount6]
2024-07-24 23:23:55 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/balances
2024-07-24 23:23:56 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 23:23:56 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 23:23:56 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadBalance1]
2024-07-24 23:23:56 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/0cfc13e3-03a7-4880-9c65-4234894bab6b/balances
2024-07-24 23:23:56 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 23:23:57 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 23:23:57 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadBalance1]
2024-07-24 23:23:57 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/direct-debits
2024-07-24 23:23:57 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 23:23:57 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 23:23:57 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadDirectDebit2]
2024-07-24 23:23:57 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/0cfc13e3-03a7-4880-9c65-4234894bab6b/direct-debits
2024-07-24 23:23:57 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 23:23:58 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 23:23:58 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadDirectDebit2]
2024-07-24 23:23:58 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/scheduled-payments
2024-07-24 23:23:58 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 23:23:58 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 23:23:58 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadScheduledPayment3]
2024-07-24 23:23:58 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/0cfc13e3-03a7-4880-9c65-4234894bab6b/scheduled-payments
2024-07-24 23:23:58 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 23:23:59 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 23:23:59 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadScheduledPayment3]
2024-07-24 23:23:59 DEBUG o.s.web.client.RestTemplate - HTTP POST https://ckwl5eo409.execute-api.us-east-1.amazonaws.com/hackathonDevStage/calculate/hackathonDevStage/calculate
2024-07-24 23:23:59 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 23:23:59 DEBUG o.s.web.client.RestTemplate - Writing [class CreditScoreRequest {
    totalIncome: 3500.0
    totalExpenses: null
    creditLine: 2000.0
    existingBalance: 3500.0
    totalCredits: 3500.0
    totalDebits: null
    totalDebtObligations: 4079.62
}] as "application/json"
2024-07-24 23:24:00 DEBUG o.s.web.client.RestTemplate - Response 403 FORBIDDEN
2024-07-24 23:24:00 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.web.client.HttpClientErrorException$Forbidden: 403 Forbidden on POST request for "https://ckwl5eo409.execute-api.us-east-1.amazonaws.com/hackathonDevStage/calculate/hackathonDevStage/calculate": "{"message":"Missing Authentication Token"}<EOL>"] with root cause
org.springframework.web.client.HttpClientErrorException$Forbidden: 403 Forbidden on POST request for "https://ckwl5eo409.execute-api.us-east-1.amazonaws.com/hackathonDevStage/calculate/hackathonDevStage/calculate": "{"message":"Missing Authentication Token"}<EOL>"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:109)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:225)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:163)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:953)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:902)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:751)
	at com.aws.credit.invoker.ApiClient.invokeAPI(ApiClient.java:632)
	at com.aws.credit.api.CreditScoreApi.creditScoreWithHttpInfo(CreditScoreApi.java:87)
	at com.aws.credit.api.CreditScoreApi.creditScore(CreditScoreApi.java:50)
	at com.bsp.demo.service.AWSService.getCreditScore(AWSService.java:22)
	at com.bsp.demo.controller.CreditController.creditDetails(CreditController.java:36)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:950)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:855)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-07-24 23:24:35 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts
2024-07-24 23:24:35 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 23:24:35 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 23:24:35 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadAccount6]
2024-07-24 23:24:35 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/balances
2024-07-24 23:24:35 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 23:24:36 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 23:24:36 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadBalance1]
2024-07-24 23:24:36 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/0cfc13e3-03a7-4880-9c65-4234894bab6b/balances
2024-07-24 23:24:36 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 23:24:36 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 23:24:36 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadBalance1]
2024-07-24 23:24:36 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/direct-debits
2024-07-24 23:24:36 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 23:24:37 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 23:24:37 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadDirectDebit2]
2024-07-24 23:24:37 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/0cfc13e3-03a7-4880-9c65-4234894bab6b/direct-debits
2024-07-24 23:24:37 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 23:24:37 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 23:24:37 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadDirectDebit2]
2024-07-24 23:24:37 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/scheduled-payments
2024-07-24 23:24:37 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 23:24:38 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 23:24:38 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadScheduledPayment3]
2024-07-24 23:24:38 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/0cfc13e3-03a7-4880-9c65-4234894bab6b/scheduled-payments
2024-07-24 23:24:38 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 23:24:38 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 23:24:38 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadScheduledPayment3]
2024-07-24 23:36:47 INFO  com.bsp.demo.DemoApplication - Starting DemoApplication using Java 21.0.3 with PID 34699 (/Users/ces/Downloads/demo/build/classes/java/main started by ces in /Users/ces/Downloads/demo)
2024-07-24 23:36:47 DEBUG com.bsp.demo.DemoApplication - Running with Spring Boot v3.4.0-SNAPSHOT, Spring v6.2.0-M6
2024-07-24 23:36:47 INFO  com.bsp.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2024-07-24 23:36:48 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-07-24 23:36:48 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-07-24 23:36:48 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-07-24 23:36:48 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-07-24 23:36:48 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-07-24 23:36:48 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 375 ms
2024-07-24 23:36:48 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-07-24 23:36:48 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2024-07-24 23:36:48 INFO  com.bsp.demo.DemoApplication - Started DemoApplication in 0.896 seconds (process running for 1.07)
2024-07-24 23:36:51 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-07-24 23:36:51 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-07-24 23:36:51 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-07-24 23:36:51 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts
2024-07-24 23:36:51 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 23:36:53 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 23:36:53 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadAccount6]
2024-07-24 23:36:53 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/balances
2024-07-24 23:36:53 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 23:36:54 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 23:36:54 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadBalance1]
2024-07-24 23:36:54 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/0cfc13e3-03a7-4880-9c65-4234894bab6b/balances
2024-07-24 23:36:54 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 23:36:55 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 23:36:55 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadBalance1]
2024-07-24 23:36:55 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/direct-debits
2024-07-24 23:36:55 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 23:36:56 DEBUG o.s.web.client.RestTemplate - Response 403 FORBIDDEN
2024-07-24 23:36:56 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.web.client.HttpClientErrorException$Forbidden: 403 Forbidden on GET request for "https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/direct-debits": "{"Code":"UK.OBIE.Reauthenticate","Message":"UK.OBIE.Reauthenticate: Token has expired","Errors":[{"ErrorCode":"UK.OBIE.Reauthenticate","Message":"UK.OBIE.Reauthenticate: Re-authentication is required","Path":"Authorization"}]}"] with root cause
org.springframework.web.client.HttpClientErrorException$Forbidden: 403 Forbidden on GET request for "https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/direct-debits": "{"Code":"UK.OBIE.Reauthenticate","Message":"UK.OBIE.Reauthenticate: Token has expired","Errors":[{"ErrorCode":"UK.OBIE.Reauthenticate","Message":"UK.OBIE.Reauthenticate: Re-authentication is required","Path":"Authorization"}]}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:109)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:225)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:163)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:953)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:902)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:751)
	at com.bsp.account.invoker.ApiClient.invokeAPI(ApiClient.java:659)
	at com.bsp.account.api.DirectDebitsApi.getAccountsAccountIdDirectDebitsWithHttpInfo(DirectDebitsApi.java:122)
	at com.bsp.account.api.DirectDebitsApi.getAccountsAccountIdDirectDebits(DirectDebitsApi.java:61)
	at com.bsp.demo.service.CreditService.fetchDirectDebitAmount(CreditService.java:145)
	at com.bsp.demo.service.CreditService.getAllAccountForUser(CreditService.java:49)
	at com.bsp.demo.controller.CreditController.creditDetails(CreditController.java:26)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:950)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:855)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-07-24 23:37:44 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts
2024-07-24 23:37:44 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 23:37:44 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 23:37:44 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadAccount6]
2024-07-24 23:37:44 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/balances
2024-07-24 23:37:44 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 23:37:45 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 23:37:45 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadBalance1]
2024-07-24 23:37:45 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/0cfc13e3-03a7-4880-9c65-4234894bab6b/balances
2024-07-24 23:37:45 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 23:37:45 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 23:37:45 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadBalance1]
2024-07-24 23:37:45 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/direct-debits
2024-07-24 23:37:45 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 23:37:46 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 23:37:46 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadDirectDebit2]
2024-07-24 23:37:46 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/0cfc13e3-03a7-4880-9c65-4234894bab6b/direct-debits
2024-07-24 23:37:46 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 23:37:47 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 23:37:47 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadDirectDebit2]
2024-07-24 23:37:47 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/scheduled-payments
2024-07-24 23:37:47 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 23:37:47 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 23:37:47 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadScheduledPayment3]
2024-07-24 23:37:47 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/0cfc13e3-03a7-4880-9c65-4234894bab6b/scheduled-payments
2024-07-24 23:37:47 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 23:37:48 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 23:37:48 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadScheduledPayment3]
2024-07-24 23:37:48 DEBUG o.s.web.client.RestTemplate - HTTP POST https://ckwl5eo409.execute-api.us-east-1.amazonaws.com/hackathonDevStage/calculate/hackathonDevStage/calculate
2024-07-24 23:37:48 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 23:37:48 DEBUG o.s.web.client.RestTemplate - Writing [class CreditScoreRequest {
    totalIncome: 3500.0
    totalExpenses: null
    creditLine: 2000.0
    existingBalance: 3500.0
    totalCredits: 3500.0
    totalDebits: null
    totalDebtObligations: 4079.62
}] as "application/json"
2024-07-24 23:37:49 DEBUG o.s.web.client.RestTemplate - Response 403 FORBIDDEN
2024-07-24 23:37:49 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.web.client.HttpClientErrorException$Forbidden: 403 Forbidden on POST request for "https://ckwl5eo409.execute-api.us-east-1.amazonaws.com/hackathonDevStage/calculate/hackathonDevStage/calculate": "{"message":"Missing Authentication Token"}<EOL>"] with root cause
org.springframework.web.client.HttpClientErrorException$Forbidden: 403 Forbidden on POST request for "https://ckwl5eo409.execute-api.us-east-1.amazonaws.com/hackathonDevStage/calculate/hackathonDevStage/calculate": "{"message":"Missing Authentication Token"}<EOL>"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:109)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:225)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:163)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:953)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:902)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:751)
	at com.aws.credit.invoker.ApiClient.invokeAPI(ApiClient.java:632)
	at com.aws.credit.api.CreditScoreApi.creditScoreWithHttpInfo(CreditScoreApi.java:87)
	at com.aws.credit.api.CreditScoreApi.creditScore(CreditScoreApi.java:50)
	at com.bsp.demo.service.AWSService.getCreditScore(AWSService.java:22)
	at com.bsp.demo.controller.CreditController.creditDetails(CreditController.java:36)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:950)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:855)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-07-24 23:38:12 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts
2024-07-24 23:38:12 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 23:38:13 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 23:38:13 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadAccount6]
2024-07-24 23:38:13 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/balances
2024-07-24 23:38:13 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 23:38:13 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 23:38:13 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadBalance1]
2024-07-24 23:38:13 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/0cfc13e3-03a7-4880-9c65-4234894bab6b/balances
2024-07-24 23:38:13 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 23:38:14 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 23:38:14 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadBalance1]
2024-07-24 23:38:14 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/direct-debits
2024-07-24 23:38:14 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 23:38:14 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 23:38:14 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadDirectDebit2]
2024-07-24 23:38:14 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/0cfc13e3-03a7-4880-9c65-4234894bab6b/direct-debits
2024-07-24 23:38:14 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 23:38:15 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 23:38:15 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadDirectDebit2]
2024-07-24 23:38:15 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/scheduled-payments
2024-07-24 23:38:15 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 23:38:15 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 23:38:15 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadScheduledPayment3]
2024-07-24 23:38:15 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/0cfc13e3-03a7-4880-9c65-4234894bab6b/scheduled-payments
2024-07-24 23:38:15 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 23:38:16 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 23:38:16 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadScheduledPayment3]
2024-07-24 23:41:59 INFO  com.bsp.demo.DemoApplication - Starting DemoApplication using Java 21.0.3 with PID 35262 (/Users/ces/Downloads/demo/build/classes/java/main started by ces in /Users/ces/Downloads/demo)
2024-07-24 23:41:59 DEBUG com.bsp.demo.DemoApplication - Running with Spring Boot v3.4.0-SNAPSHOT, Spring v6.2.0-M6
2024-07-24 23:41:59 INFO  com.bsp.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2024-07-24 23:41:59 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-07-24 23:41:59 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-07-24 23:41:59 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-07-24 23:41:59 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-07-24 23:41:59 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-07-24 23:41:59 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 377 ms
2024-07-24 23:42:00 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-07-24 23:42:00 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2024-07-24 23:42:00 INFO  com.bsp.demo.DemoApplication - Started DemoApplication in 0.967 seconds (process running for 1.126)
2024-07-24 23:42:01 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-07-24 23:42:01 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-07-24 23:42:01 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-07-24 23:42:01 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts
2024-07-24 23:42:01 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 23:42:02 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 23:42:02 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadAccount6]
2024-07-24 23:42:02 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/balances
2024-07-24 23:42:02 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 23:42:02 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 23:42:02 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadBalance1]
2024-07-24 23:42:03 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/0cfc13e3-03a7-4880-9c65-4234894bab6b/balances
2024-07-24 23:42:03 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 23:42:03 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 23:42:03 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadBalance1]
2024-07-24 23:42:03 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/direct-debits
2024-07-24 23:42:03 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 23:42:04 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 23:42:04 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadDirectDebit2]
2024-07-24 23:42:04 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/0cfc13e3-03a7-4880-9c65-4234894bab6b/direct-debits
2024-07-24 23:42:04 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 23:42:04 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 23:42:04 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadDirectDebit2]
2024-07-24 23:42:04 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/scheduled-payments
2024-07-24 23:42:04 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 23:42:05 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 23:42:05 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadScheduledPayment3]
2024-07-24 23:42:05 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/0cfc13e3-03a7-4880-9c65-4234894bab6b/scheduled-payments
2024-07-24 23:42:05 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-24 23:42:05 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-24 23:42:05 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadScheduledPayment3]
2024-07-25 10:48:09 INFO  com.bsp.demo.DemoApplication - Starting DemoApplication using Java 21.0.3 with PID 47348 (/Users/ces/Downloads/demo/build/classes/java/main started by ces in /Users/ces/Downloads/demo)
2024-07-25 10:48:09 DEBUG com.bsp.demo.DemoApplication - Running with Spring Boot v3.4.0-SNAPSHOT, Spring v6.2.0-M6
2024-07-25 10:48:09 INFO  com.bsp.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2024-07-25 10:48:10 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-07-25 10:48:10 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-07-25 10:48:10 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-07-25 10:48:10 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-07-25 10:48:10 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-07-25 10:48:10 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 418 ms
2024-07-25 10:48:10 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-07-25 10:48:10 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2024-07-25 10:48:10 INFO  com.bsp.demo.DemoApplication - Started DemoApplication in 1.059 seconds (process running for 1.333)
2024-07-25 10:48:14 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-07-25 10:48:14 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-07-25 10:48:14 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-07-25 10:48:14 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts
2024-07-25 10:48:14 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-25 10:48:15 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-25 10:48:15 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadAccount6]
2024-07-25 10:48:15 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/balances
2024-07-25 10:48:15 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-25 10:48:16 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-25 10:48:16 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadBalance1]
2024-07-25 10:48:16 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/0cfc13e3-03a7-4880-9c65-4234894bab6b/balances
2024-07-25 10:48:16 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-25 10:48:16 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-25 10:48:16 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadBalance1]
2024-07-25 10:48:16 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/direct-debits
2024-07-25 10:48:16 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-25 10:48:17 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-25 10:48:17 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadDirectDebit2]
2024-07-25 10:48:17 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/0cfc13e3-03a7-4880-9c65-4234894bab6b/direct-debits
2024-07-25 10:48:17 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-25 10:48:17 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-25 10:48:17 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadDirectDebit2]
2024-07-25 10:48:17 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/scheduled-payments
2024-07-25 10:48:17 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-25 10:48:18 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-25 10:48:18 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadScheduledPayment3]
2024-07-25 10:48:18 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/0cfc13e3-03a7-4880-9c65-4234894bab6b/scheduled-payments
2024-07-25 10:48:18 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-25 10:48:19 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-25 10:48:19 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadScheduledPayment3]
2024-07-25 10:48:32 DEBUG o.s.web.client.RestTemplate - HTTP POST https://ckwl5eo409.execute-api.us-east-1.amazonaws.com/hackathonDevStage/calculate/hackathonDevStage/calculate
2024-07-25 10:48:32 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-25 10:48:32 DEBUG o.s.web.client.RestTemplate - Writing [class CreditScoreRequest {
    totalIncome: 3500.0
    totalExpenses: null
    creditLine: 2000.0
    existingBalance: 3500.0
    totalCredits: 3500.0
    totalDebits: null
    totalDebtObligations: 4079.62
}] as "application/json"
2024-07-25 10:48:33 DEBUG o.s.web.client.RestTemplate - Response 403 FORBIDDEN
2024-07-25 10:48:33 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.web.client.HttpClientErrorException$Forbidden: 403 Forbidden on POST request for "https://ckwl5eo409.execute-api.us-east-1.amazonaws.com/hackathonDevStage/calculate/hackathonDevStage/calculate": "{"message":"Missing Authentication Token"}<EOL>"] with root cause
org.springframework.web.client.HttpClientErrorException$Forbidden: 403 Forbidden on POST request for "https://ckwl5eo409.execute-api.us-east-1.amazonaws.com/hackathonDevStage/calculate/hackathonDevStage/calculate": "{"message":"Missing Authentication Token"}<EOL>"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:109)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:225)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:163)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:953)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:902)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:751)
	at com.aws.credit.invoker.ApiClient.invokeAPI(ApiClient.java:632)
	at com.aws.credit.api.CreditScoreApi.creditScoreWithHttpInfo(CreditScoreApi.java:87)
	at com.aws.credit.api.CreditScoreApi.creditScore(CreditScoreApi.java:50)
	at com.bsp.demo.service.AWSService.getCreditScore(AWSService.java:22)
	at com.bsp.demo.controller.CreditController.creditDetails(CreditController.java:36)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:950)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:855)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-07-25 10:49:00 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts
2024-07-25 10:49:00 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-25 10:49:01 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-25 10:49:01 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadAccount6]
2024-07-25 10:49:01 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/balances
2024-07-25 10:49:01 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-25 10:49:01 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-25 10:49:01 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadBalance1]
2024-07-25 10:49:01 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/0cfc13e3-03a7-4880-9c65-4234894bab6b/balances
2024-07-25 10:49:01 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-25 10:49:02 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-25 10:49:02 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadBalance1]
2024-07-25 10:49:02 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/direct-debits
2024-07-25 10:49:02 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-25 10:49:02 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-25 10:49:02 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadDirectDebit2]
2024-07-25 10:49:02 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/0cfc13e3-03a7-4880-9c65-4234894bab6b/direct-debits
2024-07-25 10:49:02 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-25 10:49:03 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-25 10:49:03 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadDirectDebit2]
2024-07-25 10:49:03 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/scheduled-payments
2024-07-25 10:49:03 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-25 10:49:03 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-25 10:49:03 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadScheduledPayment3]
2024-07-25 10:49:03 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/0cfc13e3-03a7-4880-9c65-4234894bab6b/scheduled-payments
2024-07-25 10:49:03 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-25 10:49:04 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-25 10:49:04 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadScheduledPayment3]
2024-07-25 10:51:43 DEBUG o.s.web.client.RestTemplate - HTTP POST https://ckwl5eo409.execute-api.us-east-1.amazonaws.com/hackathonDevStage/calculate/hackathonDevStage/calculate
2024-07-25 10:51:43 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-25 10:51:43 DEBUG o.s.web.client.RestTemplate - Writing [class CreditScoreRequest {
    totalIncome: 3500.0
    totalExpenses: null
    creditLine: 2000.0
    existingBalance: 3500.0
    totalCredits: 3500.0
    totalDebits: null
    totalDebtObligations: 4079.62
}] as "application/json"
2024-07-25 10:51:45 DEBUG o.s.web.client.RestTemplate - Response 403 FORBIDDEN
2024-07-25 10:51:45 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.web.client.HttpClientErrorException$Forbidden: 403 Forbidden on POST request for "https://ckwl5eo409.execute-api.us-east-1.amazonaws.com/hackathonDevStage/calculate/hackathonDevStage/calculate": "{"message":"Missing Authentication Token"}<EOL>"] with root cause
org.springframework.web.client.HttpClientErrorException$Forbidden: 403 Forbidden on POST request for "https://ckwl5eo409.execute-api.us-east-1.amazonaws.com/hackathonDevStage/calculate/hackathonDevStage/calculate": "{"message":"Missing Authentication Token"}<EOL>"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:109)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:225)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:163)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:953)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:902)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:751)
	at com.aws.credit.invoker.ApiClient.invokeAPI(ApiClient.java:632)
	at com.aws.credit.api.CreditScoreApi.creditScoreWithHttpInfo(CreditScoreApi.java:87)
	at com.aws.credit.api.CreditScoreApi.creditScore(CreditScoreApi.java:50)
	at com.bsp.demo.service.AWSService.getCreditScore(AWSService.java:22)
	at com.bsp.demo.controller.CreditController.creditDetails(CreditController.java:36)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:950)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:855)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-07-25 10:52:26 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts
2024-07-25 10:52:26 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-25 10:52:26 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-25 10:52:26 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadAccount6]
2024-07-25 10:52:26 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/balances
2024-07-25 10:52:26 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-25 10:52:27 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-25 10:52:27 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadBalance1]
2024-07-25 10:52:27 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/0cfc13e3-03a7-4880-9c65-4234894bab6b/balances
2024-07-25 10:52:27 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-25 10:52:28 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-25 10:52:28 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadBalance1]
2024-07-25 10:52:28 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/direct-debits
2024-07-25 10:52:28 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-25 10:52:28 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-25 10:52:28 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadDirectDebit2]
2024-07-25 10:52:28 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/0cfc13e3-03a7-4880-9c65-4234894bab6b/direct-debits
2024-07-25 10:52:28 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-25 10:52:29 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-25 10:52:29 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadDirectDebit2]
2024-07-25 10:52:29 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/scheduled-payments
2024-07-25 10:52:29 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-25 10:52:29 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-25 10:52:29 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadScheduledPayment3]
2024-07-25 10:52:29 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/0cfc13e3-03a7-4880-9c65-4234894bab6b/scheduled-payments
2024-07-25 10:52:29 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-25 10:52:30 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-25 10:52:30 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadScheduledPayment3]
2024-07-25 10:53:41 INFO  com.bsp.demo.DemoApplication - Starting DemoApplication using Java 21.0.3 with PID 47675 (/Users/ces/Downloads/demo/build/classes/java/main started by ces in /Users/ces/Downloads/demo)
2024-07-25 10:53:41 DEBUG com.bsp.demo.DemoApplication - Running with Spring Boot v3.4.0-SNAPSHOT, Spring v6.2.0-M6
2024-07-25 10:53:41 INFO  com.bsp.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2024-07-25 10:53:41 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-07-25 10:53:41 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-07-25 10:53:41 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-07-25 10:53:41 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-07-25 10:53:41 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-07-25 10:53:41 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 377 ms
2024-07-25 10:53:41 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-07-25 10:53:41 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2024-07-25 10:53:41 INFO  com.bsp.demo.DemoApplication - Started DemoApplication in 0.878 seconds (process running for 1.02)
2024-07-25 10:54:02 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-07-25 10:54:02 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-07-25 10:54:02 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-07-25 10:54:02 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts
2024-07-25 10:54:02 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-25 10:54:03 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-25 10:54:03 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadAccount6]
2024-07-25 10:54:03 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/balances
2024-07-25 10:54:03 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-25 10:54:03 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-25 10:54:03 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadBalance1]
2024-07-25 10:54:03 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/0cfc13e3-03a7-4880-9c65-4234894bab6b/balances
2024-07-25 10:54:03 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-25 10:54:04 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-25 10:54:04 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadBalance1]
2024-07-25 10:54:04 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/direct-debits
2024-07-25 10:54:04 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-25 10:54:04 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-25 10:54:04 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadDirectDebit2]
2024-07-25 10:54:04 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/0cfc13e3-03a7-4880-9c65-4234894bab6b/direct-debits
2024-07-25 10:54:04 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-25 10:54:05 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-25 10:54:05 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadDirectDebit2]
2024-07-25 10:54:05 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/scheduled-payments
2024-07-25 10:54:05 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-25 10:54:05 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-25 10:54:05 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadScheduledPayment3]
2024-07-25 10:54:05 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/0cfc13e3-03a7-4880-9c65-4234894bab6b/scheduled-payments
2024-07-25 10:54:05 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-25 10:54:06 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-25 10:54:06 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadScheduledPayment3]
2024-07-25 10:54:06 DEBUG o.s.web.client.RestTemplate - HTTP POST https://ckwl5eo409.execute-api.us-east-1.amazonaws.com/hackathonDevStage/calculate/hackathonDevStage/calculate
2024-07-25 10:54:06 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-25 10:54:06 DEBUG o.s.web.client.RestTemplate - Writing [class CreditScoreRequest {
    totalIncome: 3500.0
    totalExpenses: null
    creditLine: 2000.0
    existingBalance: 3500.0
    totalCredits: 3500.0
    totalDebits: null
    totalDebtObligations: 4079.62
}] as "application/json"
2024-07-25 10:54:07 DEBUG o.s.web.client.RestTemplate - Response 403 FORBIDDEN
2024-07-25 10:54:07 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.web.client.HttpClientErrorException$Forbidden: 403 Forbidden on POST request for "https://ckwl5eo409.execute-api.us-east-1.amazonaws.com/hackathonDevStage/calculate/hackathonDevStage/calculate": "{"message":"Missing Authentication Token"}<EOL>"] with root cause
org.springframework.web.client.HttpClientErrorException$Forbidden: 403 Forbidden on POST request for "https://ckwl5eo409.execute-api.us-east-1.amazonaws.com/hackathonDevStage/calculate/hackathonDevStage/calculate": "{"message":"Missing Authentication Token"}<EOL>"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:109)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:225)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:163)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:953)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:902)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:751)
	at com.aws.credit.invoker.ApiClient.invokeAPI(ApiClient.java:632)
	at com.aws.credit.api.CreditScoreApi.creditScoreWithHttpInfo(CreditScoreApi.java:87)
	at com.aws.credit.api.CreditScoreApi.creditScore(CreditScoreApi.java:50)
	at com.bsp.demo.service.AWSService.getCreditScore(AWSService.java:22)
	at com.bsp.demo.controller.CreditController.creditDetails(CreditController.java:36)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:950)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:855)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-07-25 10:54:24 INFO  com.bsp.demo.DemoApplication - Starting DemoApplication using Java 21.0.3 with PID 47750 (/Users/ces/Downloads/demo/build/classes/java/main started by ces in /Users/ces/Downloads/demo)
2024-07-25 10:54:24 DEBUG com.bsp.demo.DemoApplication - Running with Spring Boot v3.4.0-SNAPSHOT, Spring v6.2.0-M6
2024-07-25 10:54:24 INFO  com.bsp.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2024-07-25 10:54:25 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-07-25 10:54:25 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-07-25 10:54:25 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-07-25 10:54:25 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-07-25 10:54:25 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-07-25 10:54:25 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 387 ms
2024-07-25 10:54:25 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-07-25 10:54:25 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2024-07-25 10:54:25 INFO  com.bsp.demo.DemoApplication - Started DemoApplication in 0.934 seconds (process running for 1.105)
2024-07-25 10:54:48 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-07-25 10:54:48 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-07-25 10:54:48 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2024-07-25 10:54:48 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts
2024-07-25 10:54:48 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-25 10:54:49 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-25 10:54:49 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadAccount6]
2024-07-25 10:54:49 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/balances
2024-07-25 10:54:49 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-25 10:54:50 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-25 10:54:50 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadBalance1]
2024-07-25 10:54:50 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/0cfc13e3-03a7-4880-9c65-4234894bab6b/balances
2024-07-25 10:54:50 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-25 10:54:51 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-25 10:54:51 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadBalance1]
2024-07-25 10:54:51 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/direct-debits
2024-07-25 10:54:51 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-25 10:54:51 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-25 10:54:51 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadDirectDebit2]
2024-07-25 10:54:51 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/0cfc13e3-03a7-4880-9c65-4234894bab6b/direct-debits
2024-07-25 10:54:51 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-25 10:54:52 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-25 10:54:52 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadDirectDebit2]
2024-07-25 10:54:52 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/scheduled-payments
2024-07-25 10:54:52 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-25 10:54:52 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-25 10:54:52 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadScheduledPayment3]
2024-07-25 10:54:52 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/0cfc13e3-03a7-4880-9c65-4234894bab6b/scheduled-payments
2024-07-25 10:54:52 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-25 10:54:53 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-25 10:54:53 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadScheduledPayment3]
2024-07-25 10:55:03 DEBUG o.s.web.client.RestTemplate - HTTP POST https://ckwl5eo409.execute-api.us-east-1.amazonaws.com/hackathonDevStage/calculate/hackathonDevStage/calculate
2024-07-25 10:55:03 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-25 10:55:03 DEBUG o.s.web.client.RestTemplate - Writing [class CreditScoreRequest {
    totalIncome: 3500.0
    totalExpenses: null
    creditLine: 2000.0
    existingBalance: 3500.0
    totalCredits: 3500.0
    totalDebits: null
    totalDebtObligations: 4079.62
}] as "application/json"
2024-07-25 10:55:05 DEBUG o.s.web.client.RestTemplate - Response 403 FORBIDDEN
2024-07-25 10:56:02 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.web.client.HttpClientErrorException$Forbidden: 403 Forbidden on POST request for "https://ckwl5eo409.execute-api.us-east-1.amazonaws.com/hackathonDevStage/calculate/hackathonDevStage/calculate": "{"message":"Missing Authentication Token"}<EOL>"] with root cause
org.springframework.web.client.HttpClientErrorException$Forbidden: 403 Forbidden on POST request for "https://ckwl5eo409.execute-api.us-east-1.amazonaws.com/hackathonDevStage/calculate/hackathonDevStage/calculate": "{"message":"Missing Authentication Token"}<EOL>"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:109)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:225)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:163)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:953)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:902)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:751)
	at com.aws.credit.invoker.ApiClient.invokeAPI(ApiClient.java:632)
	at com.aws.credit.api.CreditScoreApi.creditScoreWithHttpInfo(CreditScoreApi.java:87)
	at com.aws.credit.api.CreditScoreApi.creditScore(CreditScoreApi.java:50)
	at com.bsp.demo.service.AWSService.getCreditScore(AWSService.java:22)
	at com.bsp.demo.controller.CreditController.creditDetails(CreditController.java:36)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:950)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:855)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-07-25 10:59:49 INFO  com.bsp.demo.DemoApplication - Starting DemoApplication using Java 21.0.3 with PID 48071 (/Users/ces/Downloads/demo/build/classes/java/main started by ces in /Users/ces/Downloads/demo)
2024-07-25 10:59:49 DEBUG com.bsp.demo.DemoApplication - Running with Spring Boot v3.4.0-SNAPSHOT, Spring v6.2.0-M6
2024-07-25 10:59:49 INFO  com.bsp.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2024-07-25 10:59:49 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-07-25 10:59:49 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-07-25 10:59:49 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-07-25 10:59:49 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-07-25 10:59:49 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-07-25 10:59:49 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 381 ms
2024-07-25 10:59:50 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-07-25 10:59:50 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2024-07-25 10:59:50 INFO  com.bsp.demo.DemoApplication - Started DemoApplication in 0.89 seconds (process running for 1.075)
2024-07-25 11:00:01 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-07-25 11:00:01 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-07-25 11:00:01 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2024-07-25 11:00:05 DEBUG o.s.web.client.RestTemplate - HTTP POST https://ckwl5eo409.execute-api.us-east-1.amazonaws.com/hackathonDevStage/calculate/hackathonDevStage/calculate
2024-07-25 11:00:06 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-25 11:00:06 DEBUG o.s.web.client.RestTemplate - Writing [class CreditScoreRequest {
    totalIncome: 100
    totalExpenses: 100
    creditLine: 100
    existingBalance: 100
    totalCredits: 100
    totalDebits: null
    totalDebtObligations: 100
}] as "application/json"
2024-07-25 11:00:08 DEBUG o.s.web.client.RestTemplate - Response 403 FORBIDDEN
2024-07-25 11:00:38 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.web.client.HttpClientErrorException$Forbidden: 403 Forbidden on POST request for "https://ckwl5eo409.execute-api.us-east-1.amazonaws.com/hackathonDevStage/calculate/hackathonDevStage/calculate": "{"message":"Missing Authentication Token"}<EOL>"] with root cause
org.springframework.web.client.HttpClientErrorException$Forbidden: 403 Forbidden on POST request for "https://ckwl5eo409.execute-api.us-east-1.amazonaws.com/hackathonDevStage/calculate/hackathonDevStage/calculate": "{"message":"Missing Authentication Token"}<EOL>"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:109)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:225)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:163)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:953)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:902)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:751)
	at com.aws.credit.invoker.ApiClient.invokeAPI(ApiClient.java:632)
	at com.aws.credit.api.CreditScoreApi.creditScoreWithHttpInfo(CreditScoreApi.java:87)
	at com.aws.credit.api.CreditScoreApi.creditScore(CreditScoreApi.java:50)
	at com.bsp.demo.service.AWSService.getCreditScore(AWSService.java:22)
	at com.bsp.demo.controller.CreditController.creditDetails(CreditController.java:36)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:950)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:855)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-07-25 11:07:24 INFO  com.bsp.demo.DemoApplication - Starting DemoApplication using Java 21.0.3 with PID 48732 (/Users/ces/Downloads/demo/build/classes/java/main started by ces in /Users/ces/Downloads/demo)
2024-07-25 11:07:24 DEBUG com.bsp.demo.DemoApplication - Running with Spring Boot v3.4.0-SNAPSHOT, Spring v6.2.0-M6
2024-07-25 11:07:24 INFO  com.bsp.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2024-07-25 11:07:25 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-07-25 11:07:25 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-07-25 11:07:25 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-07-25 11:07:25 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-07-25 11:07:25 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-07-25 11:07:25 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 355 ms
2024-07-25 11:07:25 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-07-25 11:07:25 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2024-07-25 11:07:25 INFO  com.bsp.demo.DemoApplication - Started DemoApplication in 0.856 seconds (process running for 1.0)
2024-07-25 11:07:31 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-07-25 11:07:31 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-07-25 11:07:31 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2024-07-25 11:07:31 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts
2024-07-25 11:07:31 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-25 11:07:32 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-25 11:07:32 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadAccount6]
2024-07-25 11:07:32 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/balances
2024-07-25 11:07:32 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-25 11:07:33 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-25 11:07:33 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadBalance1]
2024-07-25 11:07:33 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/0cfc13e3-03a7-4880-9c65-4234894bab6b/balances
2024-07-25 11:07:33 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-25 11:07:34 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-25 11:07:34 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadBalance1]
2024-07-25 11:07:34 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/direct-debits
2024-07-25 11:07:34 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-25 11:07:34 DEBUG o.s.web.client.RestTemplate - Response 403 FORBIDDEN
2024-07-25 11:07:34 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.web.client.HttpClientErrorException$Forbidden: 403 Forbidden on GET request for "https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/direct-debits": "{"Code":"UK.OBIE.Reauthenticate","Message":"UK.OBIE.Reauthenticate: Token has expired","Errors":[{"ErrorCode":"UK.OBIE.Reauthenticate","Message":"UK.OBIE.Reauthenticate: Re-authentication is required","Path":"Authorization"}]}"] with root cause
org.springframework.web.client.HttpClientErrorException$Forbidden: 403 Forbidden on GET request for "https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/direct-debits": "{"Code":"UK.OBIE.Reauthenticate","Message":"UK.OBIE.Reauthenticate: Token has expired","Errors":[{"ErrorCode":"UK.OBIE.Reauthenticate","Message":"UK.OBIE.Reauthenticate: Re-authentication is required","Path":"Authorization"}]}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:109)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:225)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:163)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:953)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:902)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:751)
	at com.bsp.account.invoker.ApiClient.invokeAPI(ApiClient.java:659)
	at com.bsp.account.api.DirectDebitsApi.getAccountsAccountIdDirectDebitsWithHttpInfo(DirectDebitsApi.java:122)
	at com.bsp.account.api.DirectDebitsApi.getAccountsAccountIdDirectDebits(DirectDebitsApi.java:61)
	at com.bsp.demo.service.CreditService.fetchDirectDebitAmount(CreditService.java:145)
	at com.bsp.demo.service.CreditService.getAllAccountForUser(CreditService.java:49)
	at com.bsp.demo.controller.CreditController.creditDetails(CreditController.java:26)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:950)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:855)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-07-25 11:08:55 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts
2024-07-25 11:08:55 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-25 11:08:55 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-25 11:08:55 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadAccount6]
2024-07-25 11:08:55 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/balances
2024-07-25 11:08:55 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-25 11:08:57 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-25 11:08:57 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadBalance1]
2024-07-25 11:08:57 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/0cfc13e3-03a7-4880-9c65-4234894bab6b/balances
2024-07-25 11:08:57 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-25 11:08:57 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-25 11:08:57 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadBalance1]
2024-07-25 11:08:57 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/direct-debits
2024-07-25 11:08:57 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-25 11:08:58 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-25 11:08:58 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadDirectDebit2]
2024-07-25 11:08:58 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/0cfc13e3-03a7-4880-9c65-4234894bab6b/direct-debits
2024-07-25 11:08:58 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-25 11:08:59 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-25 11:08:59 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadDirectDebit2]
2024-07-25 11:08:59 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/scheduled-payments
2024-07-25 11:08:59 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-25 11:08:59 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-25 11:08:59 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadScheduledPayment3]
2024-07-25 11:08:59 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/0cfc13e3-03a7-4880-9c65-4234894bab6b/scheduled-payments
2024-07-25 11:08:59 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-25 11:09:00 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-25 11:09:00 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadScheduledPayment3]
2024-07-25 11:09:00 DEBUG o.s.web.client.RestTemplate - HTTP POST https://ckwl5eo409.execute-api.us-east-1.amazonaws.com/hackathonDevStage/calculate/hackathonDevStage/calculate
2024-07-25 11:09:00 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-25 11:09:00 DEBUG o.s.web.client.RestTemplate - Writing [class CreditScoreRequest {
    totalIncome: 3500.0
    totalExpenses: null
    creditLine: 2000.0
    existingBalance: 3500.0
    totalCredits: 3500.0
    totalDebits: null
    totalDebtObligations: 4079.62
}] as "application/json"
2024-07-25 11:09:01 DEBUG o.s.web.client.RestTemplate - Response 403 FORBIDDEN
2024-07-25 11:09:01 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.web.client.HttpClientErrorException$Forbidden: 403 Forbidden on POST request for "https://ckwl5eo409.execute-api.us-east-1.amazonaws.com/hackathonDevStage/calculate/hackathonDevStage/calculate": "{"message":"Missing Authentication Token"}<EOL>"] with root cause
org.springframework.web.client.HttpClientErrorException$Forbidden: 403 Forbidden on POST request for "https://ckwl5eo409.execute-api.us-east-1.amazonaws.com/hackathonDevStage/calculate/hackathonDevStage/calculate": "{"message":"Missing Authentication Token"}<EOL>"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:109)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:225)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:163)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:953)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:902)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:751)
	at com.aws.credit.invoker.ApiClient.invokeAPI(ApiClient.java:632)
	at com.aws.credit.api.CreditScoreApi.creditScoreWithHttpInfo(CreditScoreApi.java:87)
	at com.aws.credit.api.CreditScoreApi.creditScore(CreditScoreApi.java:50)
	at com.bsp.demo.service.AWSService.getCreditScore(AWSService.java:21)
	at com.bsp.demo.controller.CreditController.creditDetails(CreditController.java:36)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:950)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:855)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-07-25 11:12:02 INFO  com.bsp.demo.DemoApplication - Starting DemoApplication using Java 21.0.3 with PID 49340 (/Users/ces/Downloads/demo/build/classes/java/main started by ces in /Users/ces/Downloads/demo)
2024-07-25 11:12:02 DEBUG com.bsp.demo.DemoApplication - Running with Spring Boot v3.4.0-SNAPSHOT, Spring v6.2.0-M6
2024-07-25 11:12:02 INFO  com.bsp.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2024-07-25 11:12:02 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-07-25 11:12:02 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-07-25 11:12:02 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-07-25 11:12:02 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-07-25 11:12:02 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-07-25 11:12:02 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 356 ms
2024-07-25 11:12:03 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-07-25 11:12:03 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2024-07-25 11:12:03 INFO  com.bsp.demo.DemoApplication - Started DemoApplication in 0.844 seconds (process running for 0.987)
2024-07-25 11:12:07 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-07-25 11:12:07 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-07-25 11:12:07 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2024-07-25 11:12:08 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts
2024-07-25 11:12:08 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-25 11:12:09 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-25 11:12:09 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadAccount6]
2024-07-25 11:12:09 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/balances
2024-07-25 11:12:09 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-25 11:12:09 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-25 11:12:09 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadBalance1]
2024-07-25 11:12:09 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/0cfc13e3-03a7-4880-9c65-4234894bab6b/balances
2024-07-25 11:12:09 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-25 11:12:10 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-25 11:12:10 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadBalance1]
2024-07-25 11:12:10 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/direct-debits
2024-07-25 11:12:10 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-25 11:12:10 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-25 11:12:10 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadDirectDebit2]
2024-07-25 11:12:10 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/0cfc13e3-03a7-4880-9c65-4234894bab6b/direct-debits
2024-07-25 11:12:10 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-25 11:12:11 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-25 11:12:11 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadDirectDebit2]
2024-07-25 11:12:11 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/scheduled-payments
2024-07-25 11:12:11 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-25 11:12:11 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-25 11:12:11 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadScheduledPayment3]
2024-07-25 11:12:11 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/0cfc13e3-03a7-4880-9c65-4234894bab6b/scheduled-payments
2024-07-25 11:12:11 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-25 11:12:12 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-25 11:12:12 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadScheduledPayment3]
2024-07-25 11:12:12 DEBUG o.s.web.client.RestTemplate - HTTP POST https://ckwl5eo409.execute-api.us-east-1.amazonaws.com/hackathonDevStage/calculate/hackathonDevStage/calculate
2024-07-25 11:12:12 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-25 11:12:12 DEBUG o.s.web.client.RestTemplate - Writing [class CreditScoreRequest {
    totalIncome: 3500.0
    totalExpenses: null
    creditLine: 2000.0
    existingBalance: 3500.0
    totalCredits: 3500.0
    totalDebits: null
    totalDebtObligations: 4079.62
}] as "application/json"
2024-07-25 11:12:13 DEBUG o.s.web.client.RestTemplate - Response 403 FORBIDDEN
2024-07-25 11:12:13 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.web.client.HttpClientErrorException$Forbidden: 403 Forbidden on POST request for "https://ckwl5eo409.execute-api.us-east-1.amazonaws.com/hackathonDevStage/calculate/hackathonDevStage/calculate": "{"message":"Missing Authentication Token"}<EOL>"] with root cause
org.springframework.web.client.HttpClientErrorException$Forbidden: 403 Forbidden on POST request for "https://ckwl5eo409.execute-api.us-east-1.amazonaws.com/hackathonDevStage/calculate/hackathonDevStage/calculate": "{"message":"Missing Authentication Token"}<EOL>"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:109)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:225)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:163)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:953)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:902)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:751)
	at com.aws.credit.invoker.ApiClient.invokeAPI(ApiClient.java:632)
	at com.aws.credit.api.CreditScoreApi.creditScoreWithHttpInfo(CreditScoreApi.java:87)
	at com.aws.credit.api.CreditScoreApi.creditScore(CreditScoreApi.java:50)
	at com.bsp.demo.service.AWSService.getCreditScore(AWSService.java:21)
	at com.bsp.demo.controller.CreditController.creditDetails(CreditController.java:36)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:950)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:855)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-07-25 11:13:31 INFO  com.bsp.demo.DemoApplication - Starting DemoApplication using Java 21.0.3 with PID 49448 (/Users/ces/Downloads/demo/build/classes/java/main started by ces in /Users/ces/Downloads/demo)
2024-07-25 11:13:31 DEBUG com.bsp.demo.DemoApplication - Running with Spring Boot v3.4.0-SNAPSHOT, Spring v6.2.0-M6
2024-07-25 11:13:31 INFO  com.bsp.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2024-07-25 11:13:31 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-07-25 11:13:31 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-07-25 11:13:31 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-07-25 11:13:31 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-07-25 11:13:31 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-07-25 11:13:31 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 340 ms
2024-07-25 11:13:31 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-07-25 11:13:31 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2024-07-25 11:13:31 INFO  com.bsp.demo.DemoApplication - Started DemoApplication in 0.836 seconds (process running for 0.975)
2024-07-25 11:13:45 INFO  com.bsp.demo.DemoApplication - Starting DemoApplication using Java 21.0.3 with PID 49531 (/Users/ces/Downloads/demo/build/classes/java/main started by ces in /Users/ces/Downloads/demo)
2024-07-25 11:13:45 DEBUG com.bsp.demo.DemoApplication - Running with Spring Boot v3.4.0-SNAPSHOT, Spring v6.2.0-M6
2024-07-25 11:13:45 INFO  com.bsp.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2024-07-25 11:13:45 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-07-25 11:13:45 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-07-25 11:13:45 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-07-25 11:13:45 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-07-25 11:13:45 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-07-25 11:13:45 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 377 ms
2024-07-25 11:13:45 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-07-25 11:13:45 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2024-07-25 11:13:45 INFO  com.bsp.demo.DemoApplication - Started DemoApplication in 0.933 seconds (process running for 1.1)
2024-07-25 11:13:47 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-07-25 11:13:47 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-07-25 11:13:47 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-07-25 11:13:47 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts
2024-07-25 11:13:47 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-25 11:13:48 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-25 11:13:48 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadAccount6]
2024-07-25 11:13:49 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/balances
2024-07-25 11:13:49 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-25 11:13:49 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-25 11:13:49 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadBalance1]
2024-07-25 11:13:49 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/0cfc13e3-03a7-4880-9c65-4234894bab6b/balances
2024-07-25 11:13:49 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-25 11:13:50 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-25 11:13:50 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadBalance1]
2024-07-25 11:13:50 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/direct-debits
2024-07-25 11:13:50 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-25 11:13:50 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-25 11:13:50 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadDirectDebit2]
2024-07-25 11:13:50 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/0cfc13e3-03a7-4880-9c65-4234894bab6b/direct-debits
2024-07-25 11:13:50 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-25 11:13:51 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-25 11:13:51 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadDirectDebit2]
2024-07-25 11:13:51 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/scheduled-payments
2024-07-25 11:13:51 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-25 11:13:51 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-25 11:13:51 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadScheduledPayment3]
2024-07-25 11:13:51 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/0cfc13e3-03a7-4880-9c65-4234894bab6b/scheduled-payments
2024-07-25 11:13:51 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-25 11:13:52 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-25 11:13:52 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadScheduledPayment3]
2024-07-25 11:14:40 DEBUG o.s.web.client.RestTemplate - HTTP POST https://ckwl5eo409.execute-api.us-east-1.amazonaws.com/hackathonDevStage/calculate/hackathonDevStage/calculate
2024-07-25 11:14:40 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-25 11:14:40 DEBUG o.s.web.client.RestTemplate - Writing [class CreditScoreRequest {
    totalIncome: 3500.0
    totalExpenses: null
    creditLine: 2000.0
    existingBalance: 3500.0
    totalCredits: 3500.0
    totalDebits: null
    totalDebtObligations: 4079.62
}] as "application/json"
2024-07-25 11:14:42 DEBUG o.s.web.client.RestTemplate - Response 403 FORBIDDEN
2024-07-25 11:14:49 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.web.client.HttpClientErrorException$Forbidden: 403 Forbidden on POST request for "https://ckwl5eo409.execute-api.us-east-1.amazonaws.com/hackathonDevStage/calculate/hackathonDevStage/calculate": "{"message":"Missing Authentication Token"}<EOL>"] with root cause
org.springframework.web.client.HttpClientErrorException$Forbidden: 403 Forbidden on POST request for "https://ckwl5eo409.execute-api.us-east-1.amazonaws.com/hackathonDevStage/calculate/hackathonDevStage/calculate": "{"message":"Missing Authentication Token"}<EOL>"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:109)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:225)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:163)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:953)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:902)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:751)
	at com.aws.credit.invoker.ApiClient.invokeAPI(ApiClient.java:632)
	at com.aws.credit.api.CreditScoreApi.creditScoreWithHttpInfo(CreditScoreApi.java:87)
	at com.aws.credit.api.CreditScoreApi.creditScore(CreditScoreApi.java:50)
	at com.bsp.demo.service.AWSService.getCreditScore(AWSService.java:21)
	at com.bsp.demo.controller.CreditController.creditDetails(CreditController.java:36)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:950)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:855)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-07-25 11:30:45 INFO  com.bsp.demo.DemoApplication - Starting DemoApplication using Java 21.0.3 with PID 51064 (/Users/ces/Downloads/demo/build/classes/java/main started by ces in /Users/ces/Downloads/demo)
2024-07-25 11:30:45 DEBUG com.bsp.demo.DemoApplication - Running with Spring Boot v3.4.0-SNAPSHOT, Spring v6.2.0-M6
2024-07-25 11:30:45 INFO  com.bsp.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2024-07-25 11:30:46 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-07-25 11:30:46 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-07-25 11:30:46 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-07-25 11:30:46 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-07-25 11:30:46 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-07-25 11:30:46 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 375 ms
2024-07-25 11:30:46 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-07-25 11:30:46 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2024-07-25 11:30:46 INFO  com.bsp.demo.DemoApplication - Started DemoApplication in 0.913 seconds (process running for 1.069)
2024-07-25 11:31:03 INFO  com.bsp.demo.DemoApplication - Starting DemoApplication using Java 21.0.3 with PID 51111 (/Users/ces/Downloads/demo/build/classes/java/main started by ces in /Users/ces/Downloads/demo)
2024-07-25 11:31:03 DEBUG com.bsp.demo.DemoApplication - Running with Spring Boot v3.4.0-SNAPSHOT, Spring v6.2.0-M6
2024-07-25 11:31:03 INFO  com.bsp.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2024-07-25 11:31:04 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-07-25 11:31:04 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-07-25 11:31:04 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-07-25 11:31:04 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-07-25 11:31:04 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-07-25 11:31:04 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 380 ms
2024-07-25 11:31:04 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-07-25 11:31:04 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2024-07-25 11:31:04 INFO  com.bsp.demo.DemoApplication - Started DemoApplication in 0.905 seconds (process running for 1.064)
2024-07-25 11:31:10 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-07-25 11:31:10 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-07-25 11:31:10 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2024-07-25 11:31:10 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts
2024-07-25 11:31:10 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-25 11:31:11 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-25 11:31:11 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadAccount6]
2024-07-25 11:31:11 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/balances
2024-07-25 11:31:11 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-25 11:31:11 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-25 11:31:11 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadBalance1]
2024-07-25 11:31:11 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/0cfc13e3-03a7-4880-9c65-4234894bab6b/balances
2024-07-25 11:31:11 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-25 11:31:12 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-25 11:31:12 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadBalance1]
2024-07-25 11:31:12 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/direct-debits
2024-07-25 11:31:12 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-25 11:31:13 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-25 11:31:13 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadDirectDebit2]
2024-07-25 11:31:13 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/0cfc13e3-03a7-4880-9c65-4234894bab6b/direct-debits
2024-07-25 11:31:13 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-25 11:31:13 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-25 11:31:13 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadDirectDebit2]
2024-07-25 11:31:13 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/scheduled-payments
2024-07-25 11:31:13 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-25 11:31:14 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-25 11:31:14 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadScheduledPayment3]
2024-07-25 11:31:14 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/0cfc13e3-03a7-4880-9c65-4234894bab6b/scheduled-payments
2024-07-25 11:31:14 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-25 11:31:14 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-25 11:31:14 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadScheduledPayment3]
2024-07-25 11:32:07 DEBUG o.s.web.client.RestTemplate - HTTP POST https://ckwl5eo409.execute-api.us-east-1.amazonaws.com/hackathonDevStage/calculate/hackathonDevStage/calculate
2024-07-25 11:32:07 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-25 11:32:07 DEBUG o.s.web.client.RestTemplate - Writing [class CreditScoreRequest {
    totalIncome: 3500.0
    totalExpenses: null
    creditLine: 2000.0
    existingBalance: 3500.0
    totalCredits: 3500.0
    totalDebits: null
    totalDebtObligations: 4079.62
}] as "application/json"
2024-07-25 11:32:09 DEBUG o.s.web.client.RestTemplate - Response 403 FORBIDDEN
2024-07-25 11:32:11 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.web.client.HttpClientErrorException$Forbidden: 403 Forbidden on POST request for "https://ckwl5eo409.execute-api.us-east-1.amazonaws.com/hackathonDevStage/calculate/hackathonDevStage/calculate": "{"message":"Missing Authentication Token"}<EOL>"] with root cause
org.springframework.web.client.HttpClientErrorException$Forbidden: 403 Forbidden on POST request for "https://ckwl5eo409.execute-api.us-east-1.amazonaws.com/hackathonDevStage/calculate/hackathonDevStage/calculate": "{"message":"Missing Authentication Token"}<EOL>"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:109)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:225)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:163)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:953)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:902)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:751)
	at com.aws.credit.invoker.ApiClient.invokeAPI(ApiClient.java:632)
	at com.aws.credit.api.CreditScoreApi.creditScoreWithHttpInfo(CreditScoreApi.java:87)
	at com.aws.credit.api.CreditScoreApi.creditScore(CreditScoreApi.java:50)
	at com.bsp.demo.service.AWSService.getCreditScore(AWSService.java:21)
	at com.bsp.demo.controller.CreditController.creditDetails(CreditController.java:36)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:950)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:855)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-07-25 11:38:59 INFO  com.bsp.demo.DemoApplication - Starting DemoApplication using Java 21.0.3 with PID 51725 (/Users/ces/Downloads/demo/build/classes/java/main started by ces in /Users/ces/Downloads/demo)
2024-07-25 11:38:59 DEBUG com.bsp.demo.DemoApplication - Running with Spring Boot v3.4.0-SNAPSHOT, Spring v6.2.0-M6
2024-07-25 11:38:59 INFO  com.bsp.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2024-07-25 11:38:59 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-07-25 11:38:59 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-07-25 11:38:59 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-07-25 11:38:59 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-07-25 11:38:59 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-07-25 11:38:59 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 351 ms
2024-07-25 11:38:59 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-07-25 11:38:59 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2024-07-25 11:38:59 INFO  com.bsp.demo.DemoApplication - Started DemoApplication in 0.733 seconds (process running for 0.877)
2024-07-25 11:39:09 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-07-25 11:39:09 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-07-25 11:39:09 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-07-25 11:39:09 DEBUG o.s.web.client.RestTemplate - HTTP POST https://ckwl5eo409.execute-api.us-east-1.amazonaws.com/hackathonDevStage/calculate/hackathonDevStage/calculate
2024-07-25 11:39:09 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-25 11:39:09 DEBUG o.s.web.client.RestTemplate - Writing [class CreditScoreRequest {
    totalIncome: 100
    totalExpenses: 100
    creditLine: 100
    existingBalance: 100
    totalCredits: 100
    totalDebits: null
    totalDebtObligations: 100
}] as "application/json"
2024-07-25 11:39:11 DEBUG o.s.web.client.RestTemplate - Response 403 FORBIDDEN
2024-07-25 11:39:11 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.web.client.HttpClientErrorException$Forbidden: 403 Forbidden on POST request for "https://ckwl5eo409.execute-api.us-east-1.amazonaws.com/hackathonDevStage/calculate/hackathonDevStage/calculate": "{"message":"Missing Authentication Token"}<EOL>"] with root cause
org.springframework.web.client.HttpClientErrorException$Forbidden: 403 Forbidden on POST request for "https://ckwl5eo409.execute-api.us-east-1.amazonaws.com/hackathonDevStage/calculate/hackathonDevStage/calculate": "{"message":"Missing Authentication Token"}<EOL>"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:109)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:225)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:163)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:953)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:902)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:751)
	at com.aws.credit.invoker.ApiClient.invokeAPI(ApiClient.java:632)
	at com.aws.credit.api.CreditScoreApi.creditScoreWithHttpInfo(CreditScoreApi.java:87)
	at com.aws.credit.api.CreditScoreApi.creditScore(CreditScoreApi.java:50)
	at com.bsp.demo.service.AWSService.getCreditScore(AWSService.java:21)
	at com.bsp.demo.controller.CreditController.creditDetails(CreditController.java:37)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:950)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:855)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-07-25 11:44:21 INFO  com.bsp.demo.DemoApplication - Starting DemoApplication using Java 21.0.3 with PID 52280 (/Users/ces/Downloads/demo/build/classes/java/main started by ces in /Users/ces/Downloads/demo)
2024-07-25 11:44:21 DEBUG com.bsp.demo.DemoApplication - Running with Spring Boot v3.4.0-SNAPSHOT, Spring v6.2.0-M6
2024-07-25 11:44:21 INFO  com.bsp.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2024-07-25 11:44:21 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-07-25 11:44:21 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-07-25 11:44:21 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-07-25 11:44:21 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-07-25 11:44:21 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-07-25 11:44:21 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 379 ms
2024-07-25 11:44:21 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-07-25 11:44:21 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2024-07-25 11:44:21 INFO  com.bsp.demo.DemoApplication - Started DemoApplication in 0.791 seconds (process running for 0.96)
2024-07-25 11:44:22 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-07-25 11:44:22 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-07-25 11:44:22 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-07-25 11:44:33 DEBUG o.s.web.client.RestTemplate - HTTP POST https://ckwl5eo409.execute-api.us-east-1.amazonaws.com/hackathonDevStage/calculate/hackathonDevStage/calculate
2024-07-25 11:44:34 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-25 11:44:34 DEBUG o.s.web.client.RestTemplate - Writing [class CreditScoreRequest {
    totalIncome: 100
    totalExpenses: 100
    creditLine: 100
    existingBalance: 100
    totalCredits: 100
    totalDebits: null
    totalDebtObligations: 100
}] as "application/json"
2024-07-25 11:44:37 DEBUG o.s.web.client.RestTemplate - Response 403 FORBIDDEN
2024-07-25 11:44:46 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.web.client.HttpClientErrorException$Forbidden: 403 Forbidden on POST request for "https://ckwl5eo409.execute-api.us-east-1.amazonaws.com/hackathonDevStage/calculate/hackathonDevStage/calculate": "{"message":"Missing Authentication Token"}<EOL>"] with root cause
org.springframework.web.client.HttpClientErrorException$Forbidden: 403 Forbidden on POST request for "https://ckwl5eo409.execute-api.us-east-1.amazonaws.com/hackathonDevStage/calculate/hackathonDevStage/calculate": "{"message":"Missing Authentication Token"}<EOL>"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:109)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:225)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:163)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:953)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:902)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:751)
	at com.aws.credit.invoker.ApiClient.invokeAPI(ApiClient.java:632)
	at com.aws.credit.api.CreditScoreApi.creditScoreWithHttpInfo(CreditScoreApi.java:87)
	at com.aws.credit.api.CreditScoreApi.creditScore(CreditScoreApi.java:50)
	at com.bsp.demo.service.AWSService.getCreditScore(AWSService.java:24)
	at com.bsp.demo.controller.CreditController.creditDetails(CreditController.java:37)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:950)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:855)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-07-25 11:59:21 INFO  com.bsp.demo.DemoApplication - Starting DemoApplication using Java 21.0.3 with PID 53864 (/Users/ces/Downloads/demo/build/classes/java/main started by ces in /Users/ces/Downloads/demo)
2024-07-25 11:59:21 DEBUG com.bsp.demo.DemoApplication - Running with Spring Boot v3.4.0-SNAPSHOT, Spring v6.2.0-M6
2024-07-25 11:59:21 INFO  com.bsp.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2024-07-25 11:59:21 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-07-25 11:59:21 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-07-25 11:59:21 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-07-25 11:59:21 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-07-25 11:59:22 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-07-25 11:59:22 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 413 ms
2024-07-25 11:59:22 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-07-25 11:59:22 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2024-07-25 11:59:22 INFO  com.bsp.demo.DemoApplication - Started DemoApplication in 0.862 seconds (process running for 1.109)
2024-07-25 11:59:27 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-07-25 11:59:27 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-07-25 11:59:27 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2024-07-25 11:59:27 DEBUG o.s.web.client.RestTemplate - HTTP POST https://ckwl5eo409.execute-api.us-east-1.amazonaws.com/hackathonDevStage/calculate
2024-07-25 11:59:27 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-25 11:59:27 DEBUG o.s.web.client.RestTemplate - Writing [FinancialDetails(totalIncome=100.0, totalExpenses=100.0, creditLine=100.0, existingBalance=100.0, totalCredits=100.0, totalDebits=0.0, totalDebtObligations=100.0)] as "application/json"
2024-07-25 11:59:28 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-25 11:59:28 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.demo.pojo.LoanResponse]
2024-07-25 12:40:54 INFO  com.bsp.demo.DemoApplication - Starting DemoApplication using Java 21.0.3 with PID 57190 (/Users/ces/Downloads/demo/build/classes/java/main started by ces in /Users/ces/Downloads/demo)
2024-07-25 12:40:54 DEBUG com.bsp.demo.DemoApplication - Running with Spring Boot v3.4.0-SNAPSHOT, Spring v6.2.0-M6
2024-07-25 12:40:54 INFO  com.bsp.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2024-07-25 12:40:54 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-07-25 12:40:54 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-07-25 12:40:54 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-07-25 12:40:54 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-07-25 12:40:54 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-07-25 12:40:54 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 497 ms
2024-07-25 12:40:54 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-07-25 12:40:54 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2024-07-25 12:40:54 INFO  com.bsp.demo.DemoApplication - Started DemoApplication in 1.086 seconds (process running for 1.322)
2024-07-25 12:41:32 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-07-25 12:41:32 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-07-25 12:41:32 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-07-25 12:41:51 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts
2024-07-25 12:41:51 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-25 12:41:52 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-25 12:41:52 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadAccount6]
2024-07-25 12:41:52 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/balances
2024-07-25 12:41:52 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-25 12:41:52 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-25 12:41:52 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadBalance1]
2024-07-25 12:41:52 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/0cfc13e3-03a7-4880-9c65-4234894bab6b/balances
2024-07-25 12:41:52 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-25 12:41:53 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-25 12:41:53 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadBalance1]
2024-07-25 12:41:53 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/direct-debits
2024-07-25 12:41:53 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-25 12:41:54 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-25 12:41:54 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadDirectDebit2]
2024-07-25 12:41:54 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/0cfc13e3-03a7-4880-9c65-4234894bab6b/direct-debits
2024-07-25 12:41:54 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-25 12:41:54 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-25 12:41:54 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadDirectDebit2]
2024-07-25 12:41:54 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/scheduled-payments
2024-07-25 12:41:54 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-25 12:41:55 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-25 12:41:55 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadScheduledPayment3]
2024-07-25 12:41:55 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/0cfc13e3-03a7-4880-9c65-4234894bab6b/scheduled-payments
2024-07-25 12:41:55 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-25 12:41:55 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-25 12:41:55 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadScheduledPayment3]
2024-07-25 12:41:55 DEBUG o.s.web.client.RestTemplate - HTTP POST https://ckwl5eo409.execute-api.us-east-1.amazonaws.com/hackathonDevStage/calculate
2024-07-25 12:41:55 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-25 12:41:55 DEBUG o.s.web.client.RestTemplate - Writing [CreditScoreRequest(totalIncome=3500.0, totalExpenses=null, creditLine=2000.0, existingBalance=3500.0, totalCredits=3500.0, totalDebits=null, totalDebtObligations=4079.62)] as "application/json"
2024-07-25 12:41:56 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-25 12:41:56 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.model.FinancialServices200Response]
2024-07-25 13:24:10 INFO  com.bsp.demo.DemoApplication - Starting DemoApplication using Java 21.0.3 with PID 59295 (/Users/ces/Downloads/demo/build/classes/java/main started by ces in /Users/ces/Downloads/demo)
2024-07-25 13:24:10 DEBUG com.bsp.demo.DemoApplication - Running with Spring Boot v3.4.0-SNAPSHOT, Spring v6.2.0-M6
2024-07-25 13:24:10 INFO  com.bsp.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2024-07-25 13:24:11 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-07-25 13:24:11 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-07-25 13:24:11 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-07-25 13:24:11 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-07-25 13:24:11 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-07-25 13:24:11 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 613 ms
2024-07-25 13:24:11 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-07-25 13:24:11 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2024-07-25 13:24:11 INFO  com.bsp.demo.DemoApplication - Started DemoApplication in 1.198 seconds (process running for 1.379)
2024-07-25 13:24:52 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-07-25 13:24:52 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-07-25 13:24:52 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-07-25 13:24:52 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts
2024-07-25 13:24:52 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-25 13:24:53 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-25 13:24:53 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadAccount6]
2024-07-25 13:24:53 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/balances
2024-07-25 13:24:53 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-25 13:24:54 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-25 13:24:54 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadBalance1]
2024-07-25 13:24:54 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/0cfc13e3-03a7-4880-9c65-4234894bab6b/balances
2024-07-25 13:24:54 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-25 13:24:54 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-25 13:24:54 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadBalance1]
2024-07-25 13:24:54 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/direct-debits
2024-07-25 13:24:54 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-25 13:24:55 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-25 13:24:55 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadDirectDebit2]
2024-07-25 13:24:55 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/0cfc13e3-03a7-4880-9c65-4234894bab6b/direct-debits
2024-07-25 13:24:55 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-25 13:24:55 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-25 13:24:55 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadDirectDebit2]
2024-07-25 13:24:55 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/cdfb6d03-1ed5-4b9a-ae33-f468706ba4be/scheduled-payments
2024-07-25 13:24:55 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-25 13:24:56 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-25 13:24:56 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadScheduledPayment3]
2024-07-25 13:24:56 DEBUG o.s.web.client.RestTemplate - HTTP GET https://rs1.sandbox.ifc.uk-hub-prod.ozoneapi.co.uk/open-banking/v3.1/aisp/accounts/0cfc13e3-03a7-4880-9c65-4234894bab6b/scheduled-payments
2024-07-25 13:24:56 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-25 13:24:57 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-25 13:24:57 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.account.model.OBReadScheduledPayment3]
2024-07-25 13:24:57 DEBUG o.s.web.client.RestTemplate - HTTP POST https://ckwl5eo409.execute-api.us-east-1.amazonaws.com/hackathonDevStage/calculate
2024-07-25 13:24:57 DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2024-07-25 13:24:57 DEBUG o.s.web.client.RestTemplate - Writing [CreditScoreRequest(totalIncome=3500.0, totalExpenses=null, creditLine=2000.0, existingBalance=3500.0, totalCredits=3500.0, totalDebits=null, totalDebtObligations=4079.62)] as "application/json"
2024-07-25 13:24:58 DEBUG o.s.web.client.RestTemplate - Response 200 OK
2024-07-25 13:24:58 DEBUG o.s.web.client.RestTemplate - Reading to [com.bsp.model.FinancialServices200Response]
2024-07-25 13:38:13 INFO  com.bsp.demo.DemoApplication - Starting DemoApplication using Java 21.0.3 with PID 60826 (/Users/ces/Downloads/demo/build/classes/java/main started by ces in /Users/ces/Downloads/demo)
2024-07-25 13:38:13 DEBUG com.bsp.demo.DemoApplication - Running with Spring Boot v3.4.0-SNAPSHOT, Spring v6.2.0-M6
2024-07-25 13:38:13 INFO  com.bsp.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2024-07-25 13:38:13 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-07-25 13:38:13 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-07-25 13:38:13 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-07-25 13:38:13 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-07-25 13:38:13 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-07-25 13:38:13 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 405 ms
2024-07-25 13:38:13 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-07-25 13:38:13 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2024-07-25 13:38:13 INFO  com.bsp.demo.DemoApplication - Started DemoApplication in 0.922 seconds (process running for 1.062)
